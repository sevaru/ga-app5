webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return _.storage.get(b)===s.APP_VERSION?e:(_.storage.set(b,s.APP_VERSION),t)}n(1),n(25),n(29),n(31);var u=n(32),a=r(u),i=n(183),l=n(184),c=(r(l),n(230));n(232);var s=n(481),f=n(643),d=r(f),p=n(644),h=r(p),v=n(579),y=r(v),_=n(648),m="__APP_STATE__",b="__APP_VERSION__",g=(0,h["default"])(o(_.storage.get(m),y["default"]));g.subscribe((0,c.throttle)(function(){return _.storage.set(m,g.getState())},1e3)),(0,i.render)(a["default"].createElement(d["default"],{store:g}),document.getElementById("root"))},25:function(e,t){},29:function(e,t){},31:function(e,t){"use strict";Object.values=function(e){return Object.keys(e).reduce(function(t,n){return t.push(e[n])&&t},[])},Object.entries=function(e){return Object.keys(e).reduce(function(t,n){return t.push([n,e[n]])&&t},[])},Array.prototype.includes||(Array.prototype.includes=function(e){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var r,o=parseInt(arguments[1],10)||0;o>=0?r=o:(r=n+o,0>r&&(r=0));for(var u;n>r;){if(u=t[r],e===u||e!==e&&u!==u)return!0;r++}return!1})},232:function(e,t,n){"use strict";n(233)},233:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(234),u=r(o),a=n(488),i=r(a),l=n(641),c=r(l),s=n(642),f=r(s);u["default"].register({path:"/",component:i["default"],title:"Genetic Algorithms (reference)"}),u["default"].register({path:"/compositions",component:c["default"],title:"Manage compositions"}),u["default"].register({path:"/compositions/:composition",component:f["default"],title:"Manage compositions",useNav:!1})},234:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(235),i=r(a),l=n(237),c=r(l),s=function(){function e(){o(this,e)}return u(e,[{key:"register",value:function(e){var t=e.path,n=e.component,r=e.title,o=e.useNav,u=void 0===o?!0:o;u&&c["default"].push({path:t,title:r}),i["default"].childRoutes.push({path:t,component:n})}}]),e}();t["default"]=new s},235:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(236),u=r(o),a=n(32),i=(r(a),{path:"/",component:u["default"],childRoutes:[]});t["default"]=i},236:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=(n(184),n(237)),f=r(s),d=n(238),p=n(473),h=r(p),v=n(482),y=r(v),_=n(486),m=r(_),b=n(487),g=(r(b),n(488)),O=r(g),w=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("div",null,c["default"].createElement(h["default"],null),c["default"].createElement(d.Grid,{fluid:!0},c["default"].createElement(d.Row,null,c["default"].createElement(y["default"],{nav:f["default"]}),c["default"].createElement(m["default"],null,this.props.children||c["default"].createElement(O["default"],null)))))}}]),t}(c["default"].Component);t["default"]=w},237:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[];t["default"]=n},473:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(474),f=r(s),d=n(238),p=n(184),h=n(481),v=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement(d.Navbar,{inverse:!0,fixedTop:!0,toggleNavKey:0},c["default"].createElement(d.NavBrand,null,c["default"].createElement(p.Link,{to:"#/"},"GENOM ",h.APP_VERSION||"")),c["default"].createElement(f["default"],null))}}]),t}(c["default"].Component);t["default"]=v},474:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(475),f=r(s),d=n(238),p=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return f["default"].onSet(function(e){n.setState({enabled:Boolean(e)})}),n.state={enabled:!1},n}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("form",{className:"navbar-form navbar-left"},c["default"].createElement(d.ButtonGroup,null,c["default"].createElement(d.Button,{disabled:!this.state.enabled,onClick:this.play.bind(this)},c["default"].createElement("span",{className:"glyphicon glyphicon-play"})),c["default"].createElement(d.Button,{disabled:!this.state.enabled,onClick:this.stop.bind(this)},c["default"].createElement("span",{className:"glyphicon glyphicon-stop"}))))}},{key:"play",value:function(){f["default"].play()}},{key:"stop",value:function(){f["default"].stop()}}]),t}(c["default"].Component);t["default"]=p},475:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return-1===e}function a(e){return 0===e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(476),c=r(l),s=n(479),f=r(s),d=n(480);window.AudioContext=window.AudioContext||window.webkitAudioContext;var p=.2,h=function(){function e(){o(this,e)}return i(e,null,[{key:"convert",value:function(e){var t=[];return e.forEach(function(e){return u(e)&&t.length?void(t[t.length-1].duration+=p):a(e)?void t.push({note:null,duration:p}):void t.push({note:d.REFERENCE_TABLE[e],duration:p})}),t}}]),e}(),v=function(){function e(){var t=this,n=arguments.length<=0||void 0===arguments[0]?f["default"].acoustic_grand_piano:arguments[0];o(this,e),this._callbacks=[],this._ctx=new window.AudioContext,this._ready=!1,this._notes=[],this._prevNotes=[],this._soundfont=new c["default"](this._ctx),this._instrument=this._soundfont.instrument(n),this._timeout=null,this._isPlaying=!1,this._instrument.onready(function(){return t._ready=!0})}return i(e,[{key:"set",value:function(e){this._notes=h.convert(e),this._prevNotes=this._notes.slice(),this._runCallbacks(e)}},{key:"_runCallbacks",value:function(e){this._callbacks.length&&this._callbacks.forEach(function(t){t(e)})}},{key:"onSet",value:function(e){this._callbacks.push(e)}},{key:"offSet",value:function(){this._callbacks=[]}},{key:"play",value:function(e){var t=this;e&&this.set(e),this._ready?this._playInternal():this._instrument.onready(function(){return t._playInternal()})}},{key:"clear",value:function(){this._notes=[],this._prevNotes=[],this._runCallbacks(null)}},{key:"_playInternal",value:function(){this._isPlaying=!0,this._notes=this._prevNotes.slice(),this._playTick()}},{key:"_playTick",value:function(){var e=this,t=this._notes.shift();if(!t||!this._isPlaying)return void this._clear();var n=t.note,r=t.duration;this._instrument.play(n,this._ctx.currentTime),this._timeout=setTimeout(function(){return e._playTick()},1e3*r)}},{key:"_clear",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"stop",value:function(){this._isPlaying=!1}}]),e}();t["default"]=new v},479:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={accordion:"accordion",acoustic_bass:"acoustic_bass",acoustic_grand_piano:"acoustic_grand_piano",acoustic_guitar_nylon:"acoustic_guitar_nylon",acoustic_guitar_steel:"acoustic_guitar_steel",agogo:"agogo",alto_sax:"alto_sax",applause:"applause",bagpipe:"bagpipe",banjo:"banjo",baritone_sax:"baritone_sax",bassoon:"bassoon",bird_tweet:"bird_tweet",blown_bottle:"blown_bottle",brass_section:"brass_section",breath_noise:"breath_noise",bright_acoustic_piano:"bright_acoustic_piano",celesta:"celesta",cello:"cello",choir_aahs:"choir_aahs",church_organ:"church_organ",clarinet:"clarinet",clavinet:"clavinet",contrabass:"contrabass",distortion_guitar:"distortion_guitar",drawbar_organ:"drawbar_organ",dulcimer:"dulcimer",electric_bass_finger:"electric_bass_finger",electric_bass_pick:"electric_bass_pick",electric_grand_piano:"electric_grand_piano",electric_guitar_clean:"electric_guitar_clean",electric_guitar_jazz:"electric_guitar_jazz",electric_guitar_muted:"electric_guitar_muted",electric_piano_1:"electric_piano_1",electric_piano_2:"electric_piano_2",english_horn:"english_horn",fiddle:"fiddle",flute:"flute",french_horn:"french_horn",fretless_bass:"fretless_bass",fx_1_rain:"fx_1_rain",fx_2_soundtrack:"fx_2_soundtrack",fx_3_crystal:"fx_3_crystal",fx_4_atmosphere:"fx_4_atmosphere",fx_5_brightness:"fx_5_brightness",fx_6_goblins:"fx_6_goblins",fx_7_echoes:"fx_7_echoes",fx_8_scifi:"fx_8_scifi",glockenspiel:"glockenspiel",guitar_fret_noise:"guitar_fret_noise",guitar_harmonics:"guitar_harmonics",gunshot:"gunshot",harmonica:"harmonica",harpsichord:"harpsichord",helicopter:"helicopter",honkytonk_piano:"honkytonk_piano",kalimba:"kalimba",koto:"koto",lead_1_square:"lead_1_square",lead_2_sawtooth:"lead_2_sawtooth",lead_3_calliope:"lead_3_calliope",lead_4_chiff:"lead_4_chiff",lead_5_charang:"lead_5_charang",lead_6_voice:"lead_6_voice",lead_7_fifths:"lead_7_fifths",lead_8_bass__lead:"lead_8_bass__lead",marimba:"marimba",melodic_tom:"melodic_tom",music_box:"music_box",muted_trumpet:"muted_trumpet",oboe:"oboe",ocarina:"ocarina",orchestra_hit:"orchestra_hit",orchestral_harp:"orchestral_harp",overdriven_guitar:"overdriven_guitar",pad_1_new_age:"pad_1_new_age",pad_2_warm:"pad_2_warm",pad_3_polysynth:"pad_3_polysynth",pad_4_choir:"pad_4_choir",pad_5_bowed:"pad_5_bowed",pad_6_metallic:"pad_6_metallic",pad_7_halo:"pad_7_halo",pad_8_sweep:"pad_8_sweep",pan_flute:"pan_flute",percussive_organ:"percussive_organ",piccolo:"piccolo",pizzicato_strings:"pizzicato_strings",recorder:"recorder",reed_organ:"reed_organ",reverse_cymbal:"reverse_cymbal",rock_organ:"rock_organ",seashore:"seashore",shakuhachi:"shakuhachi",shamisen:"shamisen",shanai:"shanai",sitar:"sitar",slap_bass_1:"slap_bass_1",slap_bass_2:"slap_bass_2",soprano_sax:"soprano_sax",steel_drums:"steel_drums",string_ensemble_1:"string_ensemble_1",string_ensemble_2:"string_ensemble_2",synth_bass_1:"synth_bass_1",synth_bass_2:"synth_bass_2",synth_brass_1:"synth_brass_1",synth_brass_2:"synth_brass_2",synth_choir:"synth_choir",synth_drum:"synth_drum",synth_strings_1:"synth_strings_1",synth_strings_2:"synth_strings_2",taiko_drum:"taiko_drum",tango_accordion:"tango_accordion",telephone_ring:"telephone_ring",tenor_sax:"tenor_sax",timpani:"timpani",tinkle_bell:"tinkle_bell",tremolo_strings:"tremolo_strings",trombone:"trombone",trumpet:"trumpet",tuba:"tuba",tubular_bells:"tubular_bells",vibraphone:"vibraphone",viola:"viola",violin:"violin",voice_oohs:"voice_oohs",whistle:"whistle",woodblock:"woodblock",xylophone:"xylophone"};t["default"]=n},480:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REFERENCE_TABLE={1:"C3",2:"D3",3:"E3",4:"F3",5:"G3",6:"A3",7:"B3",8:"C4",9:"D4",10:"E4",11:"F4",12:"G4",13:"A4",14:"B4"}},481:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APP_VERSION="0.0.1"},482:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=(n(184),n(238)),f=n(483),d=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props.nav.map(function(e){return c["default"].createElement(f.LinkContainer,{key:e.path,to:e.path},c["default"].createElement(s.NavItem,null,e.title))});return c["default"].createElement(s.Col,{sm:3,md:2,className:"sidebar"},c["default"].createElement(s.Nav,{className:"nav-sidebar"},e))}}]),t}(c["default"].Component);t["default"]=d},486:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(238),f=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement(s.Col,{sm:9,md:10,mdOffset:2,smOffset:3,className:"main"},this.props.children)}}]),t}(c["default"].Component);t["default"]=f},487:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),u=r(o);t["default"]=function(){return u["default"].createElement("h1",null,"It is home")}},488:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(489),s=(r(c),n(32)),f=r(s),d=n(238),p=n(491),h=r(p),v=n(493),y=n(549),_=(r(y),n(550),n(475)),m=r(_),b=n(568),g=r(b),O=n(635),w=r(O),E=n(638),k=r(E),j=n(640),P=r(j),S={working:!1,paused:!1,selected:null,population:[],statistics:[],percentage:0,best:null},C=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.containerWidth,r=e.containerHeight;if(!t||!t.length)return null;var o=n-40,u={x:0,y:0,width:o,height:o/2};return console.log("hes",n,r),f["default"].createElement(d.Panel,{header:"Graph"},f["default"].createElement(v.LineChart,{legend:!1,data:[{values:t,strokeWidth:3,strokeDashArray:"5,5"}],width:u.width,height:u.height,viewBoxObject:u,yAxisLabel:"Best",xAxisLabel:"Elapsed Iteration",gridHorizontal:!0}))}}]),t}(f["default"].Component),A=(0,h["default"])()(C),M=function(e){function t(e,n){o(this,t);var r=u(this,Object.getPrototypeOf(t).call(this,e));r.runner=null;var a=n.store.getState();return r.state=Object.assign({},S,{crossover:a.GA.crossover,mutation:a.GA.mutation,options:a.GA.options}),r}return a(t,e),l(t,[{key:"select",value:function(e,t){m["default"].set(e.content),this.setState({selected:e.content})}},{key:"run",value:function(){var e=this;this.setState(i({},S,{statistics:[{x:0,y:0}],working:!0})),this.runner&&this.runner.destroy();var t=function(t){return e.setState({population:t,working:!1,paused:!1})},n=function(t){return e.setState({population:t})},r=function(t){var n=t.percentage,r=t.best,o=e.state.statistics;o.push({x:n,y:100*r.fitness.value}),e.setState({best:r,percentage:n,statistics:o})},o=this.context.store.getState().GA;this.runner=new w["default"](o,t,r,n)}},{key:"resume",value:function(){this.setState({paused:!1}),this.runner&&this.runner.resume()}},{key:"pause",value:function(){this.setState({paused:!0}),this.runner&&this.runner.pause()}},{key:"stop",value:function(){this.runner&&this.runner.stop()}},{key:"render",value:function(){var e=this.context.store,t=this.state,n=t.paused,r=t.working,o=null,u=null,a=null,i=null;return this.state.population.length&&(i=f["default"].createElement(P["default"],{population:this.state.population,onSelect:this.select.bind(this)})),this.state.selected&&(o=f["default"].createElement(d.Panel,{header:"Scores"},f["default"].createElement(k["default"],{data:this.state.selected}))),this.state.percentage&&(u=f["default"].createElement("div",{className:"progress-bar-wrapper"},f["default"].createElement("h3",null,"Progress: "),f["default"].createElement(d.ProgressBar,{now:0|this.state.percentage,label:"%(percent)s%"}))),this.state.best&&(a=f["default"].createElement("div",{className:"progress-bar-wrapper"},f["default"].createElement("h3",null,"Best: "),f["default"].createElement(d.ProgressBar,{bsStyle:"success",now:100*this.state.best.fitness.value|0,label:"%(percent)s%",key:"1"}))),f["default"].createElement(d.Grid,{fluid:!0},f["default"].createElement(d.Row,null,f["default"].createElement(d.Col,{sm:8,md:8},this.state.statistics.length?f["default"].createElement(A,{data:this.state.statistics}):null,o,f["default"].createElement(g["default"],{store:e})),f["default"].createElement(d.Col,{sm:4,md:4},f["default"].createElement(d.Panel,{header:"Population"},f["default"].createElement(d.ButtonGroup,null,r?n?f["default"].createElement(d.Button,{bsStyle:"success",onClick:this.resume.bind(this)},f["default"].createElement("span",{className:"glyphicon glyphicon-play"})):f["default"].createElement(d.Button,{bsStyle:"warning",onClick:this.pause.bind(this)},f["default"].createElement("span",{className:"glyphicon glyphicon-pause"})):f["default"].createElement(d.Button,{bsStyle:"success",onClick:this.run.bind(this)},f["default"].createElement("span",{className:"glyphicon glyphicon-play"})),f["default"].createElement(d.Button,{bsStyle:"danger",onClick:this.stop.bind(this)},f["default"].createElement("span",{className:"glyphicon glyphicon-stop"}))),a,u,i))))}}]),t}(f["default"].Component);t["default"]=M,M.contextTypes={store:f["default"].PropTypes.object}},489:function(e,t){},549:function(e,t){e.exports=ABCJS},568:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),u=r(o),a=(n(238),n(569),n(572)),i=n(584),l=n(608),c=n(634);t["default"]=function(e){var t=e.store;return u["default"].createElement("div",null,u["default"].createElement(c.render,{store:t}),u["default"].createElement(a.Component,{store:t}),u["default"].createElement(i.Component,{store:t}),u["default"].createElement(l.Component,{store:t}))}},569:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxControl=t.SliderControl=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=(n(238),n(570)),f=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){throw new Error("Abstract class")}},{key:"onBlur",value:function(e,t){var n=e.field,r=e.type,o=void 0===r?"number":r,u=void 0;switch(o){case"number":u=Number(t.target.value);break;case"boolean":u=t.target.checked}this.props.onBlur(n,u)}}]),t}(c["default"].Component);t.SliderControl=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));n.onChange=function(e){n.setState({value:e.target.value})};var r=n.props,a=r.field,i=r.defaultValue;return n.state={value:i},n.blurBinded=n.onBlur.bind(n,{field:a,type:"number"}),n}return a(t,e),i(t,[{key:"render",value:function(){var e=(this.props.field,this.props.title||s.stringUtils.camelCaseToHuman(this.props.field)),t=this.props.min||0,n=this.props.max||1,r=this.props.step||.01;return c["default"].createElement("div",{className:"form-group"},c["default"].createElement("label",null,e," - ",this.state.value),c["default"].createElement("input",{defaultValue:this.props.defaultValue,type:"range",value:this.state.value,min:t,max:n,step:r,onChange:this.onChange,onBlur:this.blurBinded}))}}]),t}(f),t.CheckboxControl=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.state={value:n.props.defaultValue},n}return a(t,e),i(t,[{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.defaultValue,r=(e.onBlur,e.title),o=r||s.stringUtils.camelCaseToHuman(t);return c["default"].createElement("div",{className:"checkbox"},c["default"].createElement("label",null,c["default"].createElement("input",{type:"checkbox",defaultChecked:n,onChange:this.onChange.bind(this),onBlur:this.onBlur.bind(this,{field:t,type:"boolean"})}),o))}}]),t}(f)},570:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(!Array.isArray(e))throw new TypeError("arr should be an array "+e+" given.")}function u(e){if(!e||"object"!==("undefined"==typeof e?"undefined":a(e)))throw new TypeError("obj should be an object "+e+" given")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=n(571);Object.defineProperty(t,"notesUtils",{enumerable:!0,get:function(){return r(i)["default"]}});var l={randomBetween:function(e,t){if(0>e||0>t)throw"wft randomBetween";return void 0===t&&(t=e,e=0),Math.floor(Math.random()*t)+e},normalizeValue:function(e,t){if(t>=e)return e;var n=e%t;return n?n:t}},c={last:function(e){return e[e.length-1]},make:function(e,t){for(var n=[];t--;)n[t]=e;return n},getRandomIndexes:function(e,t,n){var r=[];if(e>t)throw new Error("Count can't be more that length");for(;e>0;){var o=l.randomBetween(t);-1===r.indexOf(o)&&(n&&n.includes(o)||(r.push(o),e--))}return r},randomKey:function(e){return o(e),l.randomBetween(e.length)},randomElement:function(e){var t=c.randomKey(e);return e[t]},findObjectByKey:function(e,t,n){return e.find(function(e){return e.hasOwnProperty(t)&&e[t]===n})}},s={randomElement:function(e){u(e);var t=Object.keys(e),n=c.randomElement(t);return e[n]}},f={camelCaseToHuman:function(e){var t=/([a-z])([A-Z])/g,n="$1 $2",r=" ";return e.replace(t,n).split(r).map(function(e){return f.firstUpper(e)}).join(r)},firstUpper:function(e){return""+e[0].toUpperCase()+e.slice(1).toLowerCase()}},d={getRandomKeyByWeight:function(e){var t=Object.keys(e),n=Object.keys(e).map(function(t){return 100*e[t].weight});return d._roulette(t,n)},_roulette:function(e,t){var n=[];e.forEach(function(e,r){n=n.concat(c.make(e,t[r]))});var r=l.randomBetween(n.length);return n[r]}},p={headsOrTails:function(){return Math.random()>.5}};t.objUtils=s,t.arrayUtils=c,t.numberUtils=l,t.stringUtils=f,t.selectionUtils=d,t.randomUtils=p},571:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=0,u=-1,a=function(){function e(){n(this,e)}return r(e,[{key:"toRhythm",value:function(e){var t=[],n=void 0;return e.forEach(function(e,r){if(r%8===0&&(n&&t.push(n),n=[]),e===o)return void n.push(-1);if(e===u&&n.length){var a=n.length-1,i=n[a];return void(n[a]=i>0?i+1:i-1)}n.push(1)}),t.push(n),t}},{key:"toPitch",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=[],r=void 0;return e.forEach(function(e,a){a%8===0&&(r&&n.push(r),r=[]),e!==o&&e!==u&&r.push(t?e%7:e)}),r.length&&n.push(r),n}}]),e}();t["default"]=new a},572:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.run=void 0;var o=n(573),u=r(o),a=n(580),i=(0,u["default"])("crossover",a),l=i.run,c=i.Component;t.run=l,t.Component=c},573:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=(0,u.createPluginsHash)(t),r=new s["default"](n,p,e),o=r.getRunOnce.bind(r);return{run:o,Component:(0,a.createRenderComponent)(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCompositeProvider=o;var u=n(574),a=n(575),i=n(577),l=r(i),c=n(578),s=r(c),f=n(579),d=r(f),p=d["default"].GA;t["default"]=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=(0,u.createPluginsHash)(t),o=new l["default"](r,p,e),i=n?o.getRunRandom.bind(o):o.getRunOnce.bind(o);return{run:i,Component:(0,a.createRenderComponent)(e,r)}}},574:function(e,t){"use strict";function n(e){return e.keys().map(function(t){return e(t)["default"]}).reduce(function(e,t){return t.getInitialState||(t.getInitialState=function(){return{}}),e[t.name]=t,e},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.createPluginsHash=n},575:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderComponent=void 0;var o=n(32),u=r(o),a=n(238),i=n(569),l=n(576);t.createRenderComponent=function(e,t){return function(n){var r=n.store,o=r.getState().GA[e],c=function(t,n,o){r.dispatch((0,l.changeOptions)([e,t,n],o))},s=Object.keys(t).map(function(e){var n=t[e],r=n.render&&n.render(o[e],c.bind(null,e));return u["default"].createElement(a.Panel,{header:e,key:e},u["default"].createElement(i.SliderControl,{defaultValue:o[e].weight,onBlur:c.bind(null,e),field:"weight"}),r)});return u["default"].createElement(a.Panel,{collapsible:!0,header:e+" options"},s)}}},576:function(e,t){"use strict";function n(e,t){return{type:r,optionsPath:e,value:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeOptions=n;var r=t.OPTIONS_CHANGE_ACTION="optionsChangeAction"},577:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(570),i=function(){function e(t,n,r){o(this,e),this._all=t,this._providerName=r,this._registerInStore(n)}return u(e,[{key:"getRunOnce",value:function(e){var t=this._getKeyAndFunction(e),n=t.fn,o=t.key,u=e[o];return function(){for(var e=arguments.length,t=Array(e),o=0;e>o;o++)t[o]=arguments[o];
return n.run.apply(n,r(t.concat(u)))}}},{key:"getRunRandom",value:function(e){var t=this;return function(){for(var n=arguments.length,o=Array(n),u=0;n>u;u++)o[u]=arguments[u];var a=t._getKeyAndFunction(e),i=a.fn,l=a.key,c=o.concat(e[l]);return i.run.apply(i,r(c))}}},{key:"_getKeyAndFunction",value:function(e){var t=this._getKey(e),n=this._getFunction(t);return{key:t,fn:n}}},{key:"_getKey",value:function(e){return a.selectionUtils.getRandomKeyByWeight(e)}},{key:"_getFunction",value:function(e){return this._all[e]}},{key:"_registerInStore",value:function(e){var t=this;e[this._providerName]={},Object.keys(this._all).map(function(e){return t._all[e]}).forEach(function(n){var r=n.name,o=n.getInitialState;return e[t._providerName][r]=o()})}}]),e}();t["default"]=i},578:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(230),f=r(s),d=(n(570),n(577)),p=r(d),h=function(e){function t(){return u(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),c(t,[{key:"getRunOnce",value:function(e){var t=this,n=Object.keys(e).map(function(t){return e[t].weight}).reduce(function(e,t){return e+t},0),r=(0,f["default"])(e).pickBy(function(e){var t=e.weight;return t>0}),u=r.mapValues(function(e){return e.weight/n}).value(),a=Object.keys(e).reduce(function(t,n){var r=e[n]._important;return t.found?t:(r&&(t.found=!0,t.value[n]=1),t)},{found:!1,value:{}}).value;f["default"].isEmpty(a)||(u=a);var i=Object.keys(u).reduce(function(n,r){var a=e[r],i=u[r],c=t._all[r].run;return l({},n,o({},r,{key:r,weight:i,fn:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return c.apply(void 0,[].concat(t,[a]))}}))},{});return function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return Object.keys(i).map(function(e){return i[e]}).reduce(function(e,n){var r=n.fn,u=n.weight,a=n.key,i=r.apply(void 0,t)*u;return{value:i+e.value,full:l({},e.full,o({},a,i))}},{value:0,full:{}})}}},{key:"getRunRandom",value:function(){throw new Error("CompositeCalculateProvider use only run once fn")}}]),t}(p["default"]);t["default"]=h},579:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={GA:{}};t["default"]=n},580:function(e,t,n){function r(e){return n(o(e))}function o(e){return u[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var u={"./OnePointCrossover.jsx":581,"./RandomCrossover.js":582,"./TwoPointCrossover.jsx":583};r.keys=function(){return Object.keys(u)},r.resolve=o,e.exports=r,r.id=580},581:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return[e.slice(0,t),e.slice(t)]}function u(e,t){var n=i.numberUtils.randomBetween(e.length),r=o(e,n),u=o(t,n);return Math.random()>.5?[].concat(r[0],u[1]):[].concat(u[0],r[1])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),i=(r(a),n(238),n(570)),l=(n(569),function(){return{weight:.5}});t["default"]={name:"one-point-crossover",run:u,getInitialState:l}},582:function(e,t,n){"use strict";function r(e,t){var n=t.slice(),r=o.arrayUtils.getRandomIndexes(e.length/2,e.length);return r.forEach(function(t){n[t]=e[t]}),n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(570),u=function(){return{weight:.5}};t["default"]={name:"random-crossover",run:r,getInitialState:u}},583:function(e,t,n){"use strict";function r(e,t,n){return[e.slice(0,t),e.slice(t,n),e.slice(n)]}function o(e,t){for(var n=[],o=u.numberUtils.randomBetween(e.length),a=u.numberUtils.randomBetween(e.length),i=!1,l=!1;a===o;)a=u.numberUtils.randomBetween(e.length);if(o>a){o=a,a=o}for(var c=r(e,o,a),s=r(t,o,a),f=0,d=c.length;d>f;f++){if(f===d-1){if(!l){n=n.concat(s[f]);continue}if(!i){n=n.concat(c[f]);continue}}u.randomUtils.headsOrTails()?(n=n.concat(c[f]),i=!0):(n=n.concat(s[f]),l=!0)}return n}Object.defineProperty(t,"__esModule",{value:!0});var u=n(570),a=function(){return{weight:.7}};t["default"]={name:"two-point-crossover",getInitialState:a,run:o}},584:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.run=void 0;var o=n(573),u=r(o),a=n(585),i=(0,u["default"])("mutation",a,!0),l=i.run,c=i.Component;t.run=l,t.Component=c},585:function(e,t,n){function r(e){return n(o(e))}function o(e){return u[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var u={"./changeDurationMutation.jsx":586,"./copyPasteMutation.jsx":593,"./orderMutation.js":598,"./randomMutation.jsx":599,"./reverseMutation.js":600,"./sortMutation.jsx":601,"./swap2Mutation.jsx":603,"./swapGroupMutation.jsx":604,"./transposeMutation.jsx":605,"./upAndDownMutation.jsx":607};r.keys=function(){return Object.keys(u)},r.resolve=o,e.exports=r,r.id=585},586:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(32),l=r(i),c=n(569),s=n(570),f=n(587),d=r(f),p=n(590),h=r(p),v=n(588),y=r(v),_={count:64},m=function(){function e(){u(this,e)}return a(e,[{key:"mutate",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n=Object.assign({},_,n);var r=new d["default"](e),u=r.bars(),a=u.map(function(e){var r=Math.floor(n.count/u.length),a=e.length-1-1;return r>=a?e:s.arrayUtils.getRandomIndexes(r,a).reduce(function(e,n){if(!e[n+1])return e;var r=[e[n].clone(),e[n+1].clone()];return[].concat(o(e.slice(0,n).map(function(e){return e.clone()})),o(t._mutateOne.apply(t,r)),o(e.slice(n+2)))},e)});return h["default"].fromBarsToRaw(a)}},{key:"_mutateOne",value:function(e,t){var n=!1;if(Math.random()<.5){n=!0;var r=[t,e];e=r[0],t=r[1]}var o=y["default"].create(e.value(),e.length()+1);if(1===t.length())return[o];var u=y["default"].create(t.value(),t.length()-1);return n?[u,o]:[o,u]}}]),e}(),b=new m,g=b.mutate.bind(b),O=function(e,t){return l["default"].createElement(c.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:16,step:1})},w=function(){return{weight:.4,count:7}};t["default"]={name:"change-duration-mutation",run:g,render:O,getInitialState:w}},587:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(588),l=(r(i),n(590)),c=r(l),s=n(591),f=r(s),d=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?f["default"].getBarLength():arguments[1];if(u(this,e),!Array.isArray(t))throw"Invalid argument raw: "+t+", should be an array of numbers";this._barLength=n,this._raw=null,this._notes=null,this._bars=null,this._updateState(t)}return a(e,null,[{key:"create",value:function(t,n){return new e(t,n)}}]),a(e,[{key:"length",value:function(){return this._notes.length}},{key:"bars",value:function(){var e=this,t=[],n=[],r=0;return this._notes.forEach(function(o){r+=o.length(),n.push(o.clone()),console.assert(r<=e._barLength,"Counter: "+r+" but should be less than "+e._barLength),r===e._barLength&&(r=0,t.push(n),n=[])}),t}},{key:"rawBars",value:function(){return this.bars().map(function(e){return e.reduce(function(e,t){return[].concat(o(e),o(t.toRaw()))},[])})}},{key:"raw",value:function(){return this._raw.slice()}},{key:"_updateState",value:function(e){this._raw=e.slice(),this._notes=c["default"].toNotes(this._raw),this._bars=this.bars()}}]),e}();t["default"]=d},588:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(589),a=0,i=7,l=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?1:arguments[1],o=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(r(this,e),0>t||-1===u.availableValues.indexOf(t))throw"Invalid argument value: "+t;if(!Number.isInteger(n)||0>=n)throw"Invalid argument length: "+n;this._value=t,this._length=n,this._legato=o}return o(e,[{key:"clone",value:function(){return new e(this._value,this._length,this._legato)}},{key:"pitch",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];if(!this.isNote())throw"Current note is pause";return e?this._value%i:this._value}},{key:"value",value:function(){return this._value}},{key:"length",value:function(){return this._length}},{key:"isNote",value:function(){return this._value>a}},{key:"isPause",value:function(){return this._value===a}},{key:"toRaw",value:function(){var e=[this._value];if(this._length>1)for(var t=this._length-1;t>0;)t--,e.push(-1);return e}},{key:"increaseLength",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._changeLength(e)}},{key:"decreaseLength",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(1===this._length)throw"Length can not be less than 1";return this._changeLength(-e)}},{key:"_changeLength",value:function(t){return e.create(this._value,this._length+t)}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}();t["default"]=l},589:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.availableValues=[-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],t.REFERENCE_INDIVIDUAL=[3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,3,-1,2,-1,2,-1,3,-1,2,-1,-1,-1,5,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,5,-1,5,-1,4,-1,2,-1,1,-1,-1,-1,-1,-1,-1,-1]},590:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(588),i=r(a),l=function(){function e(){o(this,e),this._PAUSE=0,this._HOLD=-1}return u(e,[{key:"toNotes",value:function(e){for(var t=[],n=0,r=0,o=e.length;o>r;r++){var u=e[r];if(0!==r||u!==this._HOLD)if(u!==this._HOLD||r%8!==0)if(u!==this._HOLD)n=u,t.push(i["default"].create(u,1,!1));else{var a=t.pop();t.push(i["default"].create(a.value(),a.length()+1,!1))}else t.push(i["default"].create(n,1,!0));else t.push(i["default"].create(0,1,!1))}return t}},{key:"fromBarsToRaw",value:function(e){var t=[];return e.forEach(function(e){e.forEach(function(e){t=t.concat(e.toRaw())})}),t}}]),e}();t["default"]=new l},591:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.HOLD=t.PAUSE=t.availableValuesInGF=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(592),i=r(a),l=n(589),c=8,s=t.availableValuesInGF=[-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],f=t.PAUSE=0,d=t.HOLD=-1,p=function(){function e(){o(this,e)}return u(e,[{key:"selectComposition",value:function(e){i["default"].setCurrent(e)}},{key:"getCurrentComposition",value:function(){return i["default"].getCurrent()||l.REFERENCE_INDIVIDUAL}},{key:"getCurrentKey",value:function(){return i["default"].getCurrentKey()}},{key:"getCompositionLength",value:function(){return 128}},{key:"getAllCompositions",value:function(){return i["default"].getKeys()}},{key:"isValidName",value:function(e){return-1===this.getAllCompositions().indexOf(e)}},{key:"save",value:function(e,t){return i["default"].save(e,t)}},{key:"remove",value:function(e){return i["default"].remove(e)}},{key:"getByKey",value:function(e){return i["default"].getByKey(e)}},{key:"getDefault",value:function(){return i["default"].getDefault()}},{key:"getBarLength",value:function(){return c}},{key:"getMaxOneOctaveValue",value:function(){return 7}},{key:"getAvailableValues",value:function(e){var t=this.getMaxOneOctaveValue();return e?s.filter(function(e){return t>=e}):s}},{key:"getAvailablePitchValues",value:function(){var e=[f,d];return s.filter(function(t){return!e.includes(t)})}},{key:"getIntervalReference",value:function(){var e=[2,2,1,2,2,2,1,2,2,1,2,2,2,1];return e}},{key:"getHalfTonesBeetween",value:function(e,t){var n=this.getIntervalReference();if(e>t){var r=e;e=t,t=r}var o=n.slice(e,t);return o.reduce(function(e,t){return e+t},0)}}]),e}();t["default"]=new p},592:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="default",u=[3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,3,-1,2,-1,2,-1,3,-1,2,-1,-1,-1,5,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,5,-1,5,-1,4,-1,2,-1,1,-1,-1,-1,-1,-1,-1,-1],a="__all",i="__current",l=function(){function e(){n(this,e)}return r(e,[{key:"getKeys",value:function(){var e=this._getKeys();return e?(e.unshift(o),e):[o]}},{key:"_getKeys",value:function(){var e=localStorage.getItem(a);return JSON.parse(e)}},{key:"getDefault",value:function(){return u}},{key:"getByKey",value:function(e){if(e===o)return this.getDefault();var t=localStorage.getItem(e);return t?JSON.parse(t):null}},{key:"save",value:function(e,t){try{t=JSON.stringify(t),localStorage.setItem(e,t);var n=JSON.parse(localStorage.getItem(a))||[];-1===n.indexOf(e)&&n.push(e),localStorage.setItem(a,JSON.stringify(n))}catch(r){return console.warn("You got invalid data"),!1}return!0}},{key:"getCurrentKey",value:function(){return localStorage.getItem(i)||"default"}},{key:"getCurrent",value:function(){return this.getByKey(this.getCurrentKey())}},{key:"setCurrent",value:function(e){localStorage.setItem(i,e)}},{key:"remove",value:function(e){var t=JSON.parse(localStorage.getItem(a))||[],n=t.indexOf(e);-1!==n&&t.splice(n,1),localStorage.setItem(a,JSON.stringify(t)),localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}();t["default"]=new l},593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(594);t["default"]=(0,o.createGroupMutation)("copy-paste-mutation",function(e,t){var n=r(t,2),o=n[0],u=n[1];e.copy(o,u)})},594:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?v:arguments[2];return{name:e,run:p(t),render:h,getInitialState:function(){return n}}}function u(e,t){var n=4,r=15;if(void 0===t&&(t=0),t+=1,null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return"undefined"==typeof e?"undefined":a(e);if(!Array.isArray(e)){var o=Object.keys(e);if(!o.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";if(t>n)return"{...}";var i="  ".repeat(t-1),l=o.slice(0,r).map(function(n){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(n)?n:JSON.stringify(n))+": "+u(e[n],t)+";"}).join("\n  "+i);return o.length>=r&&(l+="\n  "+i+"..."),e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+i+l+"\n"+i+"}":"{\n  "+i+l+"\n"+i+"}"}if(!(e.length>0))return"Array";var c=function(){if(t>n)return{v:"[...]"};var o=u(e[0],t);return e.every(function(e){return u(e,t)===o})?{v:o.trim()+"[]"}:{v:"["+e.slice(0,r).map(function(e){return u(e,t)}).join(", ")+(e.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof c?"undefined":a(c))?c.v:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.createCalculate=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.createGroupMutation=o;var l=n(32),c=r(l),s=n(569),f=(n(570),n(595)),d=n(597),p=t.createCalculate=function(e){return function(t,n){if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(t));if(null==n||"number"!=typeof n.groupSize||"number"!=typeof n.count)throw new TypeError('Value of argument "options" violates contract.\n\nExpected:\n{ groupSize: number;\n  count: number;\n}\n\nGot:\n'+u(n));var r=t.length,o=n.count,a=(0,d.fromPercentToValue)(r,n.groupSize);(0,d.validateGroupsInput)(r,a,o);var l=(0,f.createGroupsWithRandomOffset)(t,a),c=(0,d.getGroupsIndexes)(o,l.length()),s=i(c,2),p=s[0],h=s[1];return e(l,[p,h],n),l.toRaw()}},h=function(e,t){var n=e.count,r=e.groupSize;return c["default"].createElement("div",null,c["default"].createElement(s.SliderControl,{defaultValue:n,onBlur:t,field:"count",title:"Count of groups",min:1,max:10,step:1}),c["default"].createElement(s.SliderControl,{defaultValue:r,onBlur:t,field:"groupSize",title:"Group size in percents",min:1,max:100,step:1}))},v={weight:.2,groupSize:5,count:2}},595:function(e,t,n){"use strict";function r(e,t){return e%t}function o(e,t){var n=r(e.length,t),o=a.numberUtils.randomBetween(0,n+1);return new u.Groups(e,t,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupsWithRandomOffset=o;var u=n(596),a=n(570)},596:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=4,r=15;if(void 0===t&&(t=0),t+=1,null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return"undefined"==typeof e?"undefined":l(e);if(!Array.isArray(e)){var o=Object.keys(e);if(!o.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";if(t>n)return"{...}";var u="  ".repeat(t-1),i=o.slice(0,r).map(function(n){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(n)?n:JSON.stringify(n))+": "+a(e[n],t)+";"}).join("\n  "+u);return o.length>=r&&(i+="\n  "+u+"..."),e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+u+i+"\n"+u+"}":"{\n  "+u+i+"\n"+u+"}"}if(!(e.length>0))return"Array";var c=function(){if(t>n)return{v:"[...]"};var o=a(e[0],t);return e.every(function(e){return a(e,t)===o})?{v:o.trim()+"[]"}:{v:"["+e.slice(0,r).map(function(e){return a(e,t)}).join(", ")+(e.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof c?"undefined":l(c))?c.v:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.Groups=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(230);t.Groups=function(){function e(t,n){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(u(this,e),!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(t));if("number"!=typeof n)throw new TypeError('Value of argument "size" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+a(n));if("number"!=typeof r)throw new TypeError('Value of argument "offset" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+a(r));this._chunks=this._createChunks(t,n,r)}return c(e,null,[{key:"create",value:function(t,n){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(t));if("number"!=typeof n)throw new TypeError('Value of argument "size" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+a(n));if("number"!=typeof r)throw new TypeError('Value of argument "offset" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+a(r));return new e(t,n,r)}}]),c(e,[{key:"swap",value:function(e,t){var n=this;if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "first" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(e));if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "second" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(t));var r=this._arraysToMap(e,t),o=this._arraysToMap(t,e);this._chunks=this._chunks.map(function(e,t){return r[t]?n._chunks[r[t]]:o[t]?n._chunks[o[t]]:e})}},{key:"copy",value:function(e,t){var n=this;if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "first" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(e));if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "second" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(t));var r=this._arraysToMap(e,t);this._chunks=this._chunks.map(function(e,t){return null==r[t]?e:n._chunks[r[t]]})}},{key:"length",value:function(){function e(e){if("number"!=typeof e)throw new TypeError("Function return value violates contract.\n\nExpected:\nnumber\n\nGot:\n"+a(e));return e}return e(this._chunks.length)}},{key:"set",value:function(e,t){this._chunks[e]=t}},{key:"get",value:function(e){return this._chunks[e]}},{key:"all",value:function(){return this._chunks}},{key:"toRaw",value:function(){function e(e){if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<number>\n\nGot:\n"+a(e));return e}return e((0,s.flatten)(this._chunks))}},{key:"_createChunks",value:function(e,t,n){function r(e){if(!Array.isArray(e)||!e.every(function(e){return Array.isArray(e)&&e.every(function(e){return"number"==typeof e})}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<Array<number>>\n\nGot:\n"+a(e));return e}var u=e.slice(0,n),i=(0,s.chunk)(e.slice(n),t);return r(u.length?[u].concat(o(i)):i)}},{key:"_arraysToMap",value:function(e,t){function n(e){if(null==e||"object"!==("undefined"==typeof e?"undefined":l(e))||!Object.keys(e).every(function(t){var n=e[t];return"number"==typeof n}))throw new TypeError("Function return value violates contract.\n\nExpected:\n{ [id: number]: number\n}\n\nGot:\n"+a(e));return e}if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "first" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(e));if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "second" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(t));return n(e.reduce(function(e,n,o){return i({},e,r({},n,t[o]))},{}))}}]),e}()},597:function(e,t,n){"use strict";function r(e,t,n){if(t*n>e)throw new Error("Invalid groupSize: "+t+" or groupsCount: "+n+" for size: "+e)}function o(e,t){return Math.floor(e*t/100)}function u(e,t){var n=a.arrayUtils.getRandomIndexes(2*e,t,[0,t-1]),r=n.length/2;return[n.slice(0,r),n.slice(r)]}Object.defineProperty(t,"__esModule",{value:!0}),t.validateGroupsInput=r,t.fromPercentToValue=o,t.getGroupsIndexes=u;var a=n(570)},598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(594),u=n(230),a=n(570);t["default"]=(0,o.createGroupMutation)("order-mutation",function(e,t){var n=r(t,1),o=n[0];o.forEach(function(t){var n=e.get(t),r=(0,u.sortBy)(n);e.set(t,a.randomUtils.headsOrTails()?r:r.reverse())})})},599:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t.percents,r=s["default"].getAvailableValues(),o=e.length,u=Math.floor(o*n/100);return l.arrayUtils.getRandomIndexes(u,o).reduce(function(e,t){return e[t]=l.arrayUtils.randomElement(r),e},e.slice())}Object.defineProperty(t,"__esModule",{value:!0});var u=n(32),a=r(u),i=n(569),l=n(570),c=n(591),s=r(c),f=function(e,t){return a["default"].createElement(i.SliderControl,{defaultValue:e.percents,onBlur:t.bind(null,"percents"),field:"percents",title:"Percents",min:1,max:50,step:1})},d=function(){return{weight:.25,percents:5}};t["default"]={name:"random-mutation",run:o,render:f,getInitialState:d}},600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(594);n(230),n(570);t["default"]=(0,o.createGroupMutation)("reverse-mutation",function(e,t){var n=r(t,1),o=n[0];o.forEach(function(t){e.set(t,e.get(t).reverse())})})},601:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),u=r(o),a=n(569),i=n(602),l=n(591),c=r(l),s=c["default"].getCompositionLength(),f=function(e,t){return u["default"].createElement(a.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:s,step:1})},d=function(){return{weight:1,count:10}};t["default"]={name:"sort-mutation",run:i.calculate,render:f,getInitialState:d}},602:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(t.count>=e.length)throw"To much gens for sort mutation";var n=e.length,o=u.numberUtils.randomBetween(0,n-t.count),a=o+t.count,i=e.slice(o,a).sort(function(e,t){return+e-+t});return[].concat(r(e.slice(0,o)),r(i),r(e.slice(a)))}Object.defineProperty(t,"__esModule",{value:!0}),t.calculate=o;var u=n(570)},603:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t=Object.assign({},c,t),l.arrayUtils.getRandomIndexes(t.count,e.length-1).forEach(function(t){var n=e[t];e[t]=e[t+1],e[t+1]=n}),e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(32),a=r(u),i=n(569),l=n(570),c={count:64},s=function(e,t){return a["default"].createElement(i.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:128,step:1})},f=function(){return{weight:.25,count:32}};t["default"]={name:"swap2-mutation",run:o,render:s,getInitialState:f}},604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(594);t["default"]=(0,o.createGroupMutation)("swap-group-mutation",function(e,t){var n=r(t,2),o=n[0],u=n[1];e.swap(o,u)},{weight:.5,groupSize:5,count:2})},605:function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),u=r(o),a=(n(230),n(569)),i=n(606),l={weight:.2,groupSize:5,count:2,transposeSize:2},c=function(e,t){var n=e.count,r=e.groupSize,o=e.transposeSize;return u["default"].createElement("div",null,u["default"].createElement(a.SliderControl,{defaultValue:n,onBlur:t,field:"count",title:"Count of groups",min:1,max:10,step:1}),u["default"].createElement(a.SliderControl,{defaultValue:r,onBlur:t,field:"groupSize",title:"Group size in percents",min:1,max:100,step:1}),u["default"].createElement(a.SliderControl,{defaultValue:o,onBlur:t,field:"transposeSize",title:"Size of transposition in steps",min:1,max:7,step:1}))};t["default"]={name:"transpose-mutation",run:i.calculate,render:c,getInitialState:function(){return l}}},606:function(e,t,n){"use strict";function r(e,t){if([i.PAUSE,i.HOLD].includes(e))return e;var n=e+t,r=n%l;return r?r:l}Object.defineProperty(t,"__esModule",{value:!0}),t.calculate=void 0;var o=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(230),a=n(594),i=n(591),l=(n(570),(0,u.last)(i.availableValuesInGF));t.calculate=(0,a.createCalculate)(function(e,t,n){var u=o(t,1),a=u[0],i=n.transposeSize;a.forEach(function(t){var n=e.get(t);e.set(t,n.map(function(e){return r(e,i)}))})})},607:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(32),i=r(a),l=n(569),c=n(570),s={count:64},f=14,d=1,p=function(){function e(){o(this,e)}return u(e,[{key:"mutate",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n=Object.assign({},s,n);var r=c.arrayUtils.getRandomIndexes(n.count,e.length);return r.forEach(function(n){-1!==e[n]&&0!==e[n]&&(e[n]=t._mutateOne(e[n]))}),e}},{key:"_mutateOne",value:function(e){return Math.random()>.5?f>e?e+1:e:e>d+1?e-1:e}}]),e}(),h=new p,v=h.mutate.bind(h),y=function(e,t){return i["default"].createElement(l.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:128,step:1})},_=function(){return{weight:1,count:7}};t["default"]={name:"up-and-down-mutation",run:v,render:y,getInitialState:_}},608:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.run=void 0;var r=n(573),o=n(609),u=(0,r.createCompositeProvider)("fitness",o),a=u.run,i=u.Component;t.run=a,t.Component=i},609:function(e,t,n){function r(e){return n(o(e))}function o(e){return u[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var u={"./BasicReferenceFitness.js":610,"./ClusterFitness.js":612,"./DirectionFitness.js":616,"./IntervalFitness.js":618,"./MagnitudeFitness.js":621,"./MelodyFitness.js":623,"./MelodyLineFitness.js":624,"./NoteSizePartialFitness.js":626,"./RhythmLineFitness.js":630,"./RodNoteFitness.js":632};r.keys=function(){return Object.keys(u)},r.resolve=o,e.exports=r,r.id=609},610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(611),o=function(e,t){var n=(0,r.normalizeNotesDiscrete)(e),o=(0,r.normalizeNotesDiscrete)(t),u=1/n.length;return n.reduce(function(e,t,n){return t===o[n]?e+u:e},0)},u=function(){return{weight:0}};t["default"]={name:"basic-reference-fitness",run:o,getInitialState:u}},611:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizer=t.normalizePitchToOctave=t.normalizeNotesDiscrete=t.normalizeRhythm=t.normalizeHolds=void 0;var o=n(591),u=r(o),a=n(570),i=(t.normalizeHolds=function(e){return e.reduce(function(e,t){return e.concat(-1===t?0:t)},[])},t.normalizeRhythm=function(e){return e.reduce(function(e,t){return e.concat([o.PAUSE,o.HOLD].includes(t)?0:1)},[])},t.normalizeNotesDiscrete=function(e){return e.reduce(function(e,t){return t>=0&&(e.note=t),e.data.push(e.note),e},{data:[],note:0}).data},u["default"].getMaxOneOctaveValue());t.normalizePitchToOctave=function(e){return e.map(function(e){return a.numberUtils.normalizeValue(e,i)})},t.normalizer=function(e){return function(t){return e.reduce(function(e,t){return t(e)},t)}}},612:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(613),o=n(615);n(611);t["default"]={name:"cluster-fitness",run:(0,o.fitnessExecutor)(r.clusterMask)(o.barEqualityComparer),getInitialState:function(){return{weight:.1,_important:!1}}}},613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterMask=void 0;var r=n(591),o=n(614);t.clusterMask=(0,o.maskFactory)(function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t.threshold;return e.reduce(function(e,t){return e+t===r.PAUSE?0:1},0)/e.length})},614:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.maskFactory=void 0;var o=n(587),u=r(o);t.maskFactory=function(e){return function(t,n){return u["default"].create(t).rawBars().map(function(t){return e(t,n)})}}},615:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.fitnessExecutor=function(e){return function(t){return function(n,r){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return t(e(n,o),e(r,o),o)}}},t.barEqualityComparer=function(e,t){return t.reduce(function(t,n,r){return e[r]===n?t+1:t},0)/e.length});t.barContentEqualityComparer=function(e,t){return t.reduce(function(t,r,o){return t+n(r,e[o])},0)/e.length}},616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(617),o=n(615);t["default"]={name:"direction-fitness",run:(0,o.fitnessExecutor)(r.directionAnalyzer)(o.barEqualityComparer),getInitialState:function(){return{weight:.01}}}},617:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return e===t?f.STABLE:e>t?f.DOWN:f.UP}function a(e,t){for(var n,r=t.size,a=(n={},o(n,f.UP,0),o(n,f.DOWN,0),o(n,f.STABLE,0),o(n,f.NONE,0),n),i=[],l=null,s=0;s<e.length;s++){var d=e[s];if(d!==c.PAUSE)if(i.length){var p=i[i.length-1],h=u(p,d);l?l===h?i.push(d):(i.length>r&&(a[l||f.NONE]+=1),i=[d],l=null):(l=h,i.push(d))}else i.push(d);else i.length>=r&&(a[l||f.NONE]+=1),i=[],l=null}return i.length>=r&&(a[l||f.NONE]+=1),a}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.size,o=void 0===n?d:n,u=t.spread,i=void 0===u?p:u,s=e.reduce(function(e,t){return t===c.HOLD?e:[].concat(r(e),[t])},[]),h=a(s,{size:o,spread:i}),v=Object.entries(h).sort(function(e,t){return e[1]<t[1]}),y=l(v,2),_=y[0],m=y[1];return _[1]-m[1]>=i?_[0]:f.NONE}Object.defineProperty(t,"__esModule",{value:!0}),t.directionAnalyzer=t.DIRECTION=void 0;var l=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.directionForBar=i;var c=(n(230),n(591)),s=n(614),f=t.DIRECTION={UP:"UP",DOWN:"DOWN",STABLE:"STABLE",NONE:"NONE"},d=3,p=3;t.directionAnalyzer=(0,s.maskFactory)(i)},618:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(619),u=r(o),a=u["default"].fitness.bind(u["default"]),i=function(){return{weight:0}};t["default"]={name:"interval-fitness",run:a,getInitialState:i}},619:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(620),a=n(570),i=n(230),l={intervalValuesWeight:.5,intervalDispersionWeight:.5},c=function(){function e(){r(this,e),this._referenceValues=null}return o(e,[{key:"reset",value:function(){this._referenceValues=null}},{key:"fitness",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=this._normalizeOptions(Object.assign({},l,n));var r=a.notesUtils.toPitch(e),o=a.notesUtils.toPitch(t),u=this._calculateIntervalValues(r);this._referenceValues||(this._referenceValues=this._calculateIntervalValues(o));var c=this._calculateFitness(u,n);return console.assert((0,i.isNumber)(c),"Result should be a number"),c}},{key:"_calculateFitness",value:function(e,t){var n=e.length,r=0,o=0;return this._referenceValues.some(function(t,u){var a=t.average,i=t.dispersion;if(u>=n)return!0;var l=e[u],c=l.average,s=l.dispersion;return r+=Math.abs(a-c),o+=Math.abs(i-s),!1}),r/=this._referenceValues.length,o/=this._referenceValues.length,console.assert((0,i.isNumber)(r),"AverageSum is a number"),r=(1-r/u.MAX_AVERAGE_DIFF)*t.intervalValuesWeight,o=(1-o/u.MAX_DISPERSION_DIFF)*t.intervalDispersionWeight,console.assert((0,i.isNumber)(r),"AverageSum is a number"),r+o}},{key:"_calculateIntervalValues",value:function(e){var t=this;return e.map(function(e){return t._calculateIntervalValuesForBar(e)})}},{key:"_calculateIntervalValuesForBar",value:function(e){var t=[],n=e.length,r=0;if(!n)return{average:0,dispersion:0};for(var o=0;n-1>o;o++){var a=e[o],i=e[o+1],l=(0,u.getValueBetweenNotes)(a,i);r+=l,t.push(l)}var c=r/n,s=t.map(function(e){return Math.pow(e-c,2)}).reduce(function(e,t){return e+t},0);return{average:c,dispersion:s}}},{key:"_normalizeOptions",value:function(e){var t=e.intervalValuesWeight+e.intervalDispersionWeight;return Object.assign(e,{intervalValuesWeight:e.intervalValuesWeight/t,intervalDispersionWeight:e.intervalDispersionWeight/t})}}]),e}();t["default"]=new c},620:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n={0:l[t].PERFECT_CONSONANTS,5:l[t].PERFECT_CONSONANTS,7:l[t].PERFECT_CONSONANTS,12:l[t].PERFECT_CONSONANTS,3:l[t].IMPERFECT_CONSONANTS,4:l[t].IMPERFECT_CONSONANTS,8:l[t].IMPERFECT_CONSONANTS,9:l[t].IMPERFECT_CONSONANTS,1:l[t].SECONDS,2:l[t].SECONDS,10:l[t].SEVENTH,11:l[t].SEVENTH,6:l[t].GRATER_THAN_OCTAVE,"-1":l[t].GRATER_THAN_OCTAVE};return e>12?n[-1]:n[e]}function u(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=i["default"].getHalfTonesBeetween(e,t),u=o(r,n);return u}Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DISPERSION_DIFF=t.MAX_AVERAGE_DIFF=void 0,t.getValueBetweenNotes=u;var a=n(591),i=r(a),l=[{PERFECT_CONSONANTS:1,IMPERFECT_CONSONANTS:2,SECONDS:3,SEVENTH:3,GRATER_THAN_OCTAVE:5},{PERFECT_CONSONANTS:1,IMPERFECT_CONSONANTS:3,SECONDS:1,SEVENTH:3,GRATER_THAN_OCTAVE:5}],c=t.MAX_AVERAGE_DIFF=4;t.MAX_DISPERSION_DIFF=c*c},621:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(622),u=r(o),a=u["default"].fitness.bind(u["default"]),i=function(){return{weight:0}};t["default"]={name:"magnitude-fitness",run:a,getInitialState:i}},622:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=[4,2,3,1],u=4,a=-1,i=0,l=function(){function e(){n(this,e)}return r(e,[{key:"fitness",value:function(e,t){for(var n=0,r=0,o=e.length;o>r;r++){var l=r%16,c=this._getBitValue(l),s=t[r],f=e[r];if(s!==a&&f!==a&&s!==i&&f!==i){var d=Math.abs(e[r]-t[r]);d>u||(n+=c*(1-d/u))}else s===f&&(n+=c)}return this._normalize(n)}},{key:"_getBitValue",value:function(e){for(var t=0;4>t;t++){var n=4*t;if(e>=n&&n+4>e)return o[t]}throw new"Something went wrong in MagnitudeFitness._gitBitValue"}},{key:"_normalize",value:function(e){return e/8/10/4}}]),e}();t["default"]=new l},623:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(622),u=r(o),a=u["default"].fitness.bind(u["default"]),i=function(){return{weight:0}};t["default"]={name:"magnitude-fitness",run:a,getInitialState:i}},624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(625),o=n(615);t["default"]={name:"melody-line-fitness",run:(0,o.fitnessExecutor)(r.melodyLineMask)(o.barContentEqualityComparer),getInitialState:function(){return{weight:.5,_important:!1}}}},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.melodyLineMask=void 0;var r=n(614),o=n(611);t.melodyLineMask=(0,r.maskFactory)(function(e){return(0,o.normalizeNotesDiscrete)(e)})},626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(627),o=n(628),u=function(e,t,n){console.assert(e.length===t.length);var u=(0,r.noteSizeDistributionAnalyzer)(t),a=(0,r.noteSizeDistributionAnalyzer)(e);return u.reduce(function(e,t,n){var r=a[n],u=(0,o.calculateError)(t,r);return e+(1-u)},0)/u.length},a=function(){return{weight:.3,_important:!1}};t["default"]={name:"note-size-partial-fitness",run:u,getInitialState:a}},627:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=1/e.length,n=e.reduce(function(e,n){var r=n.length();return e[r]=(e[r]||0)+t,e},{});return n}Object.defineProperty(t,"__esModule",{value:!0}),t.noteSizeDistributionAnalyzer=void 0;var u=n(587),a=r(u);t.noteSizeDistributionAnalyzer=function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return a["default"].create(e).bars().map(function(e){return o(e,t)})}},628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateError=void 0;var r=n(629);t.calculateError=function(e,t){return Object.values((0,r.calculateDiffObject)(e,t)).reduce(function(e,t){return e+t},0)}},629:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.calculateDiffObject=function(e,t){return Object.keys(t).map(function(e){return{key:e,value:t[e]}}).reduce(function(e,t){var n=t.key,r=t.value;if(null!=e[n]){var o=e[n]-r;e[n]=o>0?o:0}return e},n({},e))}},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(631),o=n(615);t["default"]={name:"rhythm-line-fitness",run:(0,o.fitnessExecutor)(r.rhythmLineMask)(o.barContentEqualityComparer),getInitialState:function(){return{weight:.2,_important:!1}}}},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rhythmLineMask=void 0;var r=n(614),o=n(611);t.rhythmLineMask=(0,r.maskFactory)(function(e){return(0,o.normalizeRhythm)(e)})},632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(633),o=n(615);t["default"]={name:"rod-note-fitness",run:(0,o.fitnessExecutor)(r.rodNoteAnalyzer)(function(e,t){var n=1/e.length;return e.reduce(function(e,r,o){var u=n/r.length;return r.reduce(function(e,n,r){return n===t[o][r]?e+u:e},0)+e},0)}),getInitialState:function(){return{weight:0,_important:!1}}}},633:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.rodNoteAnalyzer=t.rodNoteForBar=t.ROD_TYPE=void 0;var u,a=n(591),i=n(614),l=t.ROD_TYPE={FIRST:"FIRST",TWO:"TWO",FOUR:"FOUR",FIRST_AND_LAST:"FIRST_AND_LAST"},c=(u={},o(u,l.FIRST,[0]),o(u,l.TWO,[0,4]),o(u,l.FOUR,[0,2,4,6]),o(u,l.FIRST_AND_LAST,[0,6]),u);t.rodNoteForBar=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.rodeType,o=void 0===n?l.FIRST:n;return c[o].reduce(function(t,n){return[].concat(r(t),[e[n]===a.HOLD?null:e[n]])},[])},t.rodNoteAnalyzer=(0,i.maskFactory)(i.maskFactory)},634:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(32),a=r(u),i=n(238),l=n(569),c=n(576),s=n(579),f=r(s),d="options";f["default"].GA[d]={maxIterations:500,deathLimit:.2,count:100,threshold:.9,mutationProbability:.5,useRandomInitialIndividuals:!0,countOfBestToLiveThrought:0,stopOnEndOfIterations:!0};var p=function(e,t){return function(n,r){return a["default"].createElement(l.SliderControl,o({defaultValue:e[n],onBlur:t,field:n},r))}};t.render=function(e){var t=e.store,n=t.getState().GA[d],r=function(e,n){t.dispatch((0,c.changeOptions)([d,e],n))},o=p(n,r);return a["default"].createElement(i.Panel,{collapsible:!0,defaultExpanded:!0,header:"Options"},o("maxIterations",{max:1e4,min:50,step:10}),o("deathLimit"),o("count",{max:500,min:25,step:1}),o("threshold"),o("mutationProbability"),o("countOfBestToLiveThrought",{max:10,min:0,step:1}),a["default"].createElement(l.CheckboxControl,{onBlur:r,defaultValue:n.useRandomInitialIndividuals,field:"useRandomInitialIndividuals"}),a["default"].createElement(l.CheckboxControl,{onBlur:r,defaultValue:n.stopOnEndOfIterations,field:"stopOnEndOfIterations"}))}},635:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(636),i=(r(a),n(591)),l=r(i),c=n(637),s=r(c),f=function(){function e(t,n,r,u){o(this,e);var a=l["default"].getCurrentComposition();this._worker=new s["default"],this._worker.onmessage=this._createOnMessage(n,r,u),this._worker.postMessage({data:{options:t,reference:a},action:"start"}),this._worker.onerror=function(e){console.warn(e)}}return u(e,[{key:"pause",value:function(){this._worker.postMessage({action:"pause"})}},{key:"resume",value:function(){this._worker.postMessage({action:"resume"})}},{key:"stop",value:function(){this._worker.postMessage({action:"stop"})}},{key:"destroy",value:function(){this._worker.terminate()}},{key:"_createOnMessage",value:function(e,t,n){return function(r){var o=r.data,u=o.data,a=o.action;if(console.log("onmessage from worker "+a),"done"===a){var i=u;return t({percentage:100,best:i[1]}),void e(i)}if(t&&"progress"===a&&t({percentage:u.percentage,best:u.best}),n&&"pause"===a){var l=u;n(l)}}}}]),e}();t["default"]=f},636:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(570),i=n(589),l=n(584),c=(r(l),n(608)),s=(r(c),function(){function e(t,n,r){var u=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],l=arguments[4];o(this,e),l||console.log("Called without context, probably only for presentation purpose"),this._context=l,this._reference=t.slice(),n?this._content=n:this._content=u?this._reference.map(function(){return a.arrayUtils.randomElement(i.availableValues)}):t.slice(),this._fitnessValue=null==r?this.fitness().value:r}return u(e,[{key:"mutate",value:function(e){this._content=this._context.mutation(this._content),this._fitnessValue=this.fitness().value}},{key:"crossover",value:function(t){var n=this._context.crossover(this.content,t.content);return new e(this._reference,n,null,!1,this._context)}},{key:"fitness",value:function(){return this._context.fitness(this.content,this._reference)}},{key:"getHash",value:function(){return this._content.join()}},{key:"toDTO",value:function(){return{_fitnessValue:this._fitnessValue,_reference:this._reference.slice(),_content:this._content.slice()}}},{key:"toFullFitnessDTO",value:function(){return{fitness:this.fitness(),content:this._content.slice()}}},{key:"content",get:function(){return this._content.slice()}},{key:"fitnessValue",get:function(){return this._fitnessValue}}],[{key:"fromDTO",value:function(t){var n=t._reference,r=t._content,o=t._fitnessValue;return new e(n,r,o,!1)}},{key:"create",value:function(t,n,r,o,u){return new e(t,n,r,o,u)}}]),e}());t["default"]=s},637:function(e,t,n){e.exports=function(){return new Worker(n.p+"521c257622ca6a8e518e.worker.js")}},638:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(549),f=r(s),d=n(639),p=r(d),h=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n._element=null,n}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this._element=this.refs.abcjs,this.props.data&&this._initializeWidget(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){e.data&&this._initializeWidget(e.data)}},{key:"render",value:function(){return c["default"].createElement("div",{ref:"abcjs"})}},{key:"_initializeWidget",value:function(e){f["default"].renderAbc(this._element,(0,p["default"])(e),null,{scale:1})}}]),t}(c["default"].Component);t["default"]=h},639:function(e,t){"use strict";function n(e,t){return null==e?"":u[e]+t}function r(e){for(var t=o,r=null,u=1,a=0,i=e.length;i>a;a++){var l=e[a];-1===l?u++:(t+=n(r,u),r=l,u=1),a===e.length-1&&(t+=n(r,u)),a&&a%8===0&&(t+="|"),a&&a%32===0&&(t+="\n")}return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o="\nX:1\nT:Abc\nM:4/4\nC:GA\nK:C\nL:1/8\n",u={0:"z",1:"C",2:"D",3:"E",4:"F",5:"G",6:"A",7:"B",8:"c",9:"d",10:"e",11:"f",12:"g",13:"a",14:"b"}},640:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(238),f=n(475),d=r(f),p=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.stop=function(){d["default"].stop()},n.state={selectedIndex:-1},n}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"individuals-table-wrapper"},c["default"].createElement(s.Table,{striped:!0,bordered:!0,condensed:!0,hover:!0},c["default"].createElement("thead",null,c["default"].createElement("tr",null,c["default"].createElement("th",null),c["default"].createElement("th",null,"Name"),c["default"].createElement("th",null,"Fitness"))),c["default"].createElement("tbody",null,this.props.population.map(this.renderItem.bind(this)))))}},{key:"renderFitnessInfoItems",value:function(e){return e.map(function(e){var t=e.key,n=e.value,r=e.className;return c["default"].createElement("tr",{key:t,className:r},c["default"].createElement("td",null,t),c["default"].createElement("td",null,n.toFixed(3)))})}},{key:"renderFitnessInfo",value:function(e){var t=this.renderFitnessInfoItems([{key:"total",className:"total",value:e.fitness.value}].concat(Object.keys(e.fitness.full).map(function(t){return{key:t,value:e.fitness.full[t]}})));return c["default"].createElement(s.Table,{condensed:!0,border:!0,style:{marginBottom:0}},c["default"].createElement("tbody",null,t))}},{key:"renderItem",value:function(e,t){var n=this.state.selectedIndex===t,r=n?"highlight":"",o=n?this.renderFitnessInfo(e):e.fitness.value;return c["default"].createElement("tr",{className:r,key:t,onClick:this.onSelect.bind(this,e,t)},c["default"].createElement("td",null,c["default"].createElement(s.ButtonGroup,null,c["default"].createElement(s.Button,{bsStyle:"info",onClick:this.play.bind(this,e.content)},c["default"].createElement("span",{className:"glyphicon glyphicon-play"})),c["default"].createElement(s.Button,{bsStyle:"info",onClick:this.stop},c["default"].createElement("span",{className:"glyphicon glyphicon-stop"})))),c["default"].createElement("td",null,"name"+t),c["default"].createElement("td",null,o))}},{key:"play",value:function(e){d["default"].play(e)}},{key:"onSelect",value:function(e,t){this.setState({selectedIndex:t}),this.props.onSelect(e)}}]),t}(c["default"].Component);t["default"]=p},641:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(184),f=n(238),d=n(591),p=r(d),h="default",v=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.select=function(e){p["default"].selectComposition(e),n.setState({currentKey:e})},n.state={compositions:p["default"].getAllCompositions(),nameRaw:"",name:"",currentKey:p["default"].getCurrentKey()},n}return a(t,e),i(t,[{key:"onNameChange",value:function(e){var t=e.target.value;this.setState({nameRaw:t}),this.setState({name:""}),p["default"].isValidName(t)&&this.setState({name:t})}},{key:"remove",value:function(e){p["default"].remove(e),this.setState({compositions:p["default"].getAllCompositions()})}},{key:"renderCompositionItem",value:function(e){var t=this;return c["default"].createElement("tr",{key:e,className:e===this.state.currentKey?"selected":""},c["default"].createElement("td",null,c["default"].createElement(s.Link,{to:"/compositions/"+e},e)),c["default"].createElement("td",null,e!==h?c["default"].createElement(f.ButtonGroup,null,c["default"].createElement(f.Button,{bsStyle:"info",onClick:function(){return t.select(e)}},c["default"].createElement(f.Glyphicon,{glyph:"ok-sign"})),c["default"].createElement(f.Button,{bsStyle:"danger",onClick:this.remove.bind(this,e)},c["default"].createElement(f.Glyphicon,{glyph:"remove"}))):c["default"].createElement(f.Button,{bsStyle:"info",onClick:function(){return t.select(e)}},c["default"].createElement(f.Glyphicon,{glyph:"ok-sign"}))))}},{key:"render",value:function(){return c["default"].createElement(f.Grid,{fluid:!0},c["default"].createElement("h2",null,"Compositions"),c["default"].createElement(f.Table,{striped:!0,bordered:!0,condensed:!0,hover:!0},c["default"].createElement("tbody",null,this.state.compositions.map(this.renderCompositionItem.bind(this)))),c["default"].createElement("h2",null,"New"),c["default"].createElement(f.Input,{type:"text",label:"Name",onChange:this.onNameChange.bind(this),value:this.state.nameRaw}),c["default"].createElement(s.Link,{to:"/compositions/"+this.state.name},c["default"].createElement(f.Button,{bsStyle:"info",disabled:!this.state.name},"New")))}}]),t}(c["default"].Component);t["default"]=v},642:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(238),f=n(475),d=r(f),p=n(591),h=r(p),v=n(638),y=r(v),_="default",m=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e)),r=h["default"].getByKey(n.props.params.composition)||null;return n.state={compositionRaw:r?n.compositionToString(r):"",
composition:r,invalidName:!0,invalidComposition:!1,isDefault:n.props.params.composition===_},n}return a(t,e),i(t,[{key:"_convert",value:function(e){var t=e.split(" ");return t=t.map(function(e){return Number(e)}),t.some(function(e){return isNaN(e)||-1===p.availableValuesInGF.indexOf(e)})?null:t}},{key:"compositionToString",value:function(e){return e&&e.join(" ")||""}},{key:"save",value:function(){var e=this.state.composition,t=this.props.params.composition;h["default"].save(t,e)}},{key:"onChange",value:function(e){var t=e.target.value,n=this._convert(e.target.value);this.setState({compositionRaw:t}),n?(d["default"].set(n),this.setState({composition:n,invalidComposition:!1})):this.setState({invalidComposition:!0})}},{key:"render",value:function(){var e=this.props.params.composition;return c["default"].createElement(s.Grid,{fluid:!0},c["default"].createElement("h3",null,e),c["default"].createElement(s.Row,null,c["default"].createElement(s.Col,{sm:4,md:4},c["default"].createElement(s.Input,{type:"textarea",style:{height:230},label:"Notes",onChange:this.onChange.bind(this),value:this.state.compositionRaw}),c["default"].createElement(s.Button,{disabled:this.state.isDefault||this.state.invalidComposition,bsStyle:"success",onClick:this.save.bind(this)},"Save")),c["default"].createElement(s.Col,{sm:4,md:4},c["default"].createElement(y["default"],{data:this.state.composition}))))}}]),t}(c["default"].Component);t["default"]=m},643:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),c=r(l),s=n(550),f=n(184),d=n(235),p=r(d),h=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){this.props.store.store;return c["default"].createElement(s.Provider,{store:this.props.store},c["default"].createElement(f.Router,{routes:p["default"]}))}}]),t}(l.Component);t["default"]=h},644:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,u.createStore)(i["default"],e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(556),a=n(645),i=r(a)},645:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(556),u=n(646),a=r(u),i=(0,o.combineReducers)({GA:a["default"]});t["default"]=i},646:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(556),u=(n(576),n(579)),a=r(u),i=n(647),l=(0,i.createPluginsReducer)("crossover",a["default"].GA),c=(0,i.createPluginsReducer)("mutation",a["default"].GA),s=(0,i.createPluginsReducer)("options",a["default"].GA),f=(0,i.createPluginsReducer)("fitness",a["default"].GA);t["default"]=(0,o.combineReducers)({crossover:l,mutation:c,fitness:f,options:s})},647:function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e){var t=e.optionsPath,n=e.value,r={},o=t.length-1;return t.reduce(function(e,t,u){return u===o?(e[t]=n,r):e[t]={}},r)}function u(e,t){var n=t[e];return function(){var t=arguments.length<=0||void 0===arguments[0]?n:arguments[0],u=arguments[1];switch(u.type){case l.OPTIONS_CHANGE_ACTION:if(u.optionsPath[0]!==e)return t;var c=r(u.optionsPath),s=c.slice(1),f=o({optionsPath:s,value:u.value});return(0,i.merge)(a({},t),f);default:return t}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createDeepProperty=o,t.createPluginsReducer=u;var i=n(230),l=n(576)},648:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.storage={get:function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){return}},set:function(e,t){try{return localStorage.setItem(e,JSON.stringify(t))}catch(n){return}},remove:function(e){try{return localStorage.removeItem(e)}catch(t){return}}}}});
//# sourceMappingURL=app.e946085ba492adc4a4f2.js.map