{"version":3,"sources":["webpack:///app.560af2f67b39365b5266.js","webpack:///./D:/Repos/university/my-composer/app/index.jsx","webpack:///./D:/Repos/university/my-composer/app/polyfills.js","webpack:///./D:/Repos/university/my-composer/app/plugins/all.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/index.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/PluginRegister.jsx","webpack:///./D:/Repos/university/my-composer/app/routes.jsx","webpack:///./D:/Repos/university/my-composer/app/components/App.jsx","webpack:///./D:/Repos/university/my-composer/app/nav.js","webpack:///./D:/Repos/university/my-composer/app/components/layout/LayoutNavBar.jsx","webpack:///./D:/Repos/university/my-composer/app/components/PlayerControls.jsx","webpack:///./D:/Repos/university/my-composer/app/players/soundfont-player/Player.js","webpack:///./D:/Repos/university/my-composer/app/players/soundfont-player/instrumentNames.js","webpack:///./D:/Repos/university/my-composer/app/players/common.js","webpack:///./D:/Repos/university/my-composer/app/VERSION.js","webpack:///./D:/Repos/university/my-composer/app/resetState.js","webpack:///./D:/Repos/university/my-composer/app/store/persistStorage.js","webpack:///./D:/Repos/university/my-composer/app/components/layout/LayoutSideBar.jsx","webpack:///./D:/Repos/university/my-composer/app/components/layout/LayoutMain.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/Index.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/Graph.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/GAOptions.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/CrossoverProvider.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common/createProvider.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common/createPluginsHash.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common/createRenderComponent.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/UIFactory.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/NotesUtils.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/actions/index.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common/BaseCalculateProvider.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common/CompositeCalculateProvider.js","webpack:///./D:/Repos/university/my-composer/app/store/initialState.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/providers/OnePointCrossover.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/providers/TwoPointCrossover.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/providers/RandomCrossover.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/MutationProvider.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/changeDurationMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/Composition.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/NotesConverter.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/Note.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/MusicContext.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/SimpleStorage.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/copyPasteMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/common/createGroupMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/services/createGroupsWithRandomOffset.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/services/Groups.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/common.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/orderMutation.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/randomMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/reverseMutation.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/sortMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/sortMutation/calculate.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/swap2Mutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/swapGroupMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/transposeMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/transposeMutation/calculate.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/upAndDownMutation.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/FitnessProvider.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/plugins.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/BasicReferenceFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/normalization.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/ClusterFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/clusterMask.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/helpers.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/executors.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/DirectionFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/directionMask.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/IntervalFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/IntervalFitness/calculate.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/IntervalFitness/common.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MagnitudeFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MagnitudeFitness/calculate.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MelodyFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MelodyLineFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/melodyLineMask.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/services/noteSizeDistributionAnalyzer.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateError.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateDiffObject.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/RhythmLineFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/rhythmLineMask.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/RodNoteFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/rodNoteMask.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/SignSequenceFitness.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/signMask.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/options.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/EvolutionProvider.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/DarwinEvolution.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/GA.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/BaseGA.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/Individual.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/populationSorter.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/loop.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/LamarkEvolution.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/common.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/VriesEvolution.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/KimuraEvolution/index.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/KimuraEvolution/KimuraExecutor.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common/getInitialStateFromMeta.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/common/getRenderFromMeta.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/PunctuatedEquilibriumEvolution/index.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/PunctuatedEquilibriumEvolution/PunctuatedEquilibriumExecutor.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/subworker.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/SimpleGARunner.js","webpack:///./app/plugins/GA/lib/ga/SimpleGAWorker.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/GARunner.js","webpack:///./app/plugins/GA/lib/ga/GAWorker.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/IndividualsTable.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/Sheet.jsx","webpack:///external \"ABCJS\"","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/convertToABC.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/Compositions.jsx","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/components/Composition.jsx","webpack:///./D:/Repos/university/my-composer/app/containers/root.jsx","webpack:///./D:/Repos/university/my-composer/app/store/configureStore.js","webpack:///./D:/Repos/university/my-composer/app/reducers/index.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/reducers/index.js","webpack:///./D:/Repos/university/my-composer/app/plugins/GA/utils.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","migrate","persistedState","currentState","_persistStorage","storage","get","_VERSION","VERSION_KEY","APP_VERSION","set","_react","_react2","_reactDom","_lodash","_root","_configureStore","_initialState","_initialState2","store","configureStore","STATE_KEY","subscribe","throttle","getState","render","createElement","Root","document","getElementById","26","30","32","Object","values","x","keys","reduce","y","z","push","entries","Array","prototype","includes","searchElement","this","TypeError","O","len","parseInt","length","k","n","arguments","currentElement","200","201","_PluginRegister","_PluginRegister2","_Index","_Index2","_Compositions","_Compositions2","_Composition","_Composition2","register","path","component","title","useNav","202","_classCallCheck","instance","Constructor","defineProperty","value","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","_routes","_routes2","_nav","_nav2","PluginRegister","_ref","_ref$useNav","undefined","childRoutes","203","_App","_App2","routes","204","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_reactBootstrap","_LayoutNavBar","_LayoutNavBar2","_LayoutSideBar","_LayoutSideBar2","_LayoutMain","_LayoutMain2","App","_React$Component","getPrototypeOf","apply","Grid","fluid","Row","nav","children","Component","205","459","_PlayerControls","_PlayerControls2","_reactRouter","_resetState","LayoutNavBar","_temp","_this","_ret","_len","args","_key","concat","onResetState","resetState","Navbar","inverse","fixedTop","NavbarBrand","Link","to","Button","style","marginTop","onClick","460","_Player","_Player2","PlayerControls","params","onSet","notes","setState","enabled","Boolean","state","className","ButtonGroup","disabled","play","bind","stop","461","isHold","val","isPause","nameToUrl","name","sf","format","protocol","window","location","_soundfontPlayer","_soundfontPlayer2","_instrumentNames","_instrumentNames2","_common","AudioContext","webkitAudioContext","NOTE_LENGTH","Converter","result","forEach","noteCode","duration","note","REFERENCE_TABLE","Player","instrumentName","acoustic_grand_piano","_callbacks","_ctx","_notes","_prevNotes","_timeout","_instrument","_isPlaying","instrument","then","convert","slice","_runCallbacks","param","callback","_playInternal","console","warn","_playTick","_this2","noteItem","shift","_clear","currentTime","setTimeout","clearTimeout","477","instrumentNames","accordion","acoustic_bass","acoustic_guitar_nylon","acoustic_guitar_steel","agogo","alto_sax","applause","bagpipe","banjo","baritone_sax","bassoon","bird_tweet","blown_bottle","brass_section","breath_noise","bright_acoustic_piano","celesta","cello","choir_aahs","church_organ","clarinet","clavinet","contrabass","distortion_guitar","drawbar_organ","dulcimer","electric_bass_finger","electric_bass_pick","electric_grand_piano","electric_guitar_clean","electric_guitar_jazz","electric_guitar_muted","electric_piano_1","electric_piano_2","english_horn","fiddle","flute","french_horn","fretless_bass","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","glockenspiel","guitar_fret_noise","guitar_harmonics","gunshot","harmonica","harpsichord","helicopter","honkytonk_piano","kalimba","koto","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","marimba","melodic_tom","music_box","muted_trumpet","oboe","ocarina","orchestra_hit","orchestral_harp","overdriven_guitar","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","pan_flute","percussive_organ","piccolo","pizzicato_strings","recorder","reed_organ","reverse_cymbal","rock_organ","seashore","shakuhachi","shamisen","shanai","sitar","slap_bass_1","slap_bass_2","soprano_sax","steel_drums","string_ensemble_1","string_ensemble_2","synth_bass_1","synth_bass_2","synth_brass_1","synth_brass_2","synth_choir","synth_drum","synth_strings_1","synth_strings_2","taiko_drum","tango_accordion","telephone_ring","tenor_sax","timpani","tinkle_bell","tremolo_strings","trombone","trumpet","tuba","tubular_bells","vibraphone","viola","violin","voice_oohs","whistle","woodblock","xylophone","478","1","2","3","4","5","6","7","8","9","10","11","12","13","14","534","535","remove","reload","536","JSON","parse","localStorage","getItem","e","setItem","stringify","removeItem","537","_reactRouterBootstrap","LayoutSideBar","navItems","map","navItem","LinkContainer","NavItem","Col","sm","md","Nav","541","LayoutMain","mdOffset","smOffset","542","_defineProperty","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","isArray","_extends","assign","source","hasOwnProperty","_Graph","_GAOptions","_GAOptions2","_GARunner","_IndividualsTable","_Sheet","_Sheet2","DEFAULT_STATE","working","paused","selected","population","populations","statistics","percentages","percentage","best","bests","Index","runner","select","item","content","run","newState","destroy","_createRunner","resume","pause","context","scoresPanel","progressBar","individualsTable","IndividualsTable","onSelect","isEmpty","_ref2","_ref3","Panel","header","data","currentPercent","ProgressBar","now","label","_renderProgressBarForEvolutions","bestValue","fitness","bsStyle","Graph","series","_renderButtons","_this3","_ref4","_ref5","percent","_getEvolutionProgressHeaderText","_ref6","_ref7","evolutionKey","replace","_renderFirstButton","_state","options","GA","useEvolutionStrategies","_createEvolutionRunner","_createDefaultRunner","_this4","onDone","_ref8","onPause","_ref9","onProgress","_ref10","GARunner","_this5","_ref11","id","_getNameFromId","_ref12","_ref13","_state2","prevBestFitnessValue","currentBestFitnessValue","find","split","contextTypes","PropTypes","object","543","545","_reactD","_reactDimensions","_reactDimensions2","SimpleGraph","_props","containerWidth","width","viewBoxObject","height","LineChart","legend","yAxisLabel","xAxisLabel","gridHorizontal","604","_CrossoverProvider","_MutationProvider","_FitnessProvider","_options","_EvolutionProvider","605","_createProvider2","_createProvider3","_OnePointCrossover","_OnePointCrossover2","_TwoPointCrossover","_TwoPointCrossover2","_RandomCrossover","_RandomCrossover2","_createProvider","606","createCompositeProvider","providerName","plugins","_createPluginsHash","createPluginsHash","_CompositeCalculateProvider2","initialState","getRunOnce","_createRenderComponent","createRenderComponent","_BaseCalculateProvider","_BaseCalculateProvider2","_CompositeCalculateProvider","randomRun","getRunRandom","607","hash","getInitialState","608","_UIFactory","_index","pluginKey","_ref$expanded","expanded","onblur","field","dispatch","changeOptions","plugin","innerMarkup","SliderControl","defaultValue","weight","onBlur","defaultExpanded","collapsible","609","createSliderFactory","probabilitySlider","CheckboxControl","_utils","BaseControl","Error","_ref$type","type","Number","checked","_BaseControl","onChange","event","_this2$props","blurBinded","stringUtils","camelCaseToHuman","min","max","step","_BaseControl2","actualTitle","defaultChecked","fields","_ref2$title","_ref2$min","_ref2$max","_ref2$step","610","checkArray","checkObj","_typeof","_NotesUtils","numberUtils","randomBetween","startIndex","endIndex","Math","floor","random","normalizeValue","maxValue","rem","strip","_ref$min","_ref$max","fluctuate","basis","newValue","randomUtils","headsOrTails","arrayUtils","last","array","make","getRandomIndexes","count","except","newIndex","indexOf","randomKey","randomElement","findObjectByKey","element","objectUtils","str","reg","template","splitter","w","firstUpper","join","toUpperCase","toLowerCase","selectionUtils","getRandomKey","fn","weights","_roulette","getRandomKeyByWeight","rouletteArray","index","uuid","a","toString","objUtils","611","PAUSE","HOLD","NotesUtils","bar","prevIndex","prevValue","ignoreOctaves","612","optionsPath","OPTIONS_CHANGE_ACTION","613","_toConsumableArray","arr2","from","BaseCalculateProvider","allPlugins","_all","_providerName","_registerInStore","_getKeyAndFunction2","_getKeyAndFunction","settings","_len2","_key2","_getKeyAndFunction3","argsExtended","_getKey","_getFunction","614","_lodash2","CompositeCalculateProvider","_BaseCalculateProvide","MAX_WEIGHT","sum","keyWeightRaw","pickBy","keyWeight","mapValues","v","debugKeyWeight","reducer","_important","found","fnsAndWeight","full","615","616","createPortion","point","crossover","b","aPortions","bPortions","617","firstPoint","secondPoint","aUsed","bUsed","temp","l","618","clone","indexes","619","_changeDurationMutation","_changeDurationMutation2","_copyPasteMutation","_copyPasteMutation2","_orderMutation","_orderMutation2","_randomMutation","_randomMutation2","_reverseMutation","_reverseMutation2","_sortMutation","_sortMutation2","_swap2Mutation","_swap2Mutation2","_swapGroupMutation","_swapGroupMutation2","_transposeMutation","_transposeMutation2","_upAndDownMutation","_upAndDownMutation2","620","_NotesConverter","_NotesConverter2","_Note","_Note2","defaultOptions","ChangeDuration","composition","bars","newBars","countOfIndexes","maxIndex","mutateIndex","mutateNotes","_mutateOne","fromBarsToRaw","newA","newB","mutate","621","_MusicContext","_MusicContext2","Composition","raw","barLength","getBarLength","_barLength","_raw","_bars","_updateState","counter","assert","toRaw","toNotes","622","NotesConverter","_PAUSE","_HOLD","previousNoteValue","pop","623","NOTES_IN_OCTAVE","Note","legato","availableValues","isInteger","_value","_length","_legato","ignoreOctave","isNote","howMuch","_changeLength","624","REFERENCE_INDIVIDUAL","SOVIET","625","availableValuesInGF","_SimpleStorage","_SimpleStorage2","DEFAULT_BAR_LENGTH","MusicContext","setCurrent","getCurrent","getCurrentKey","getKeys","getAllCompositions","save","getByKey","getDefault","maxOneOctaveValue","getMaxOneOctaveValue","filter","excludeArray","INTERVAL_REFERENCE","intervalReference","getIntervalReference","arrayToSum","626","global","FIRMWARE_INDIVIDUAL_KEY","FIRMWARE_INDIVIDUAL","ALL_KEY","CURRENT_KEY","localStorageInstance","clear","SimpleStorage","_getKeys","unshift","keysRaw","compositionRaw","prevKeys","splice","627","_createGroupMutation","createGroupMutation","groups","fromIndexes","toIndexes","copy","628","createCalculate","_inspect","input","depth","maxDepth","maxKeys","indent","repeat","test","first","every","trim","_createGroupsWithRandomOffset","groupSize","size","groupsCount","fromPercentToValue","validateGroupsInput","createGroupsWithRandomOffset","_getGroupsIndexes","getGroupsIndexes","_getGroupsIndexes2","629","getMaxOffset","maxOffset","offset","_Groups","Groups","630","_chunks","_createChunks","second","_arraysToMap","backHash","_id3","_id4","flatten","_id5","firstChunk","rest","chunk","_id6","_id7","631","groupsSize","swapIndexes","middle","632","sorted","sortBy","reverse","633","percents","getAvailableValues","634","635","_calculate","COUNT_OF_GENS","getCompositionLength","636","calculate","sort","637","638","swap","639","transposeSize","640","transposeGen","gen","MAX_GEN_VALUE","g","641","UP_CORNER","DOWN_CORNER","UpAndDownMutation","642","_plugins","_createCompositeProvi","643","_BasicReferenceFitness","_BasicReferenceFitness2","_ClusterFitness","_ClusterFitness2","_DirectionFitness","_DirectionFitness2","_IntervalFitness","_IntervalFitness2","_MagnitudeFitness","_MagnitudeFitness2","_MelodyFitness","_MelodyFitness2","_MelodyLineFitness","_MelodyLineFitness2","_NoteSizePartialFitness","_NoteSizePartialFitness2","_RhythmLineFitness","_RhythmLineFitness2","_RodNoteFitness","_RodNoteFitness2","_SignSequenceFitness","_SignSequenceFitness2","644","_normalization","reference","normContent","normalizeNotesDiscrete","normReference","645","normalizer","normalizePitchToOctave","normalizeRhythm","normalizeHolds","MAX_ONE_OCTAVE_VALUE","current","normalizers","normalizerFn","646","_clusterMask","_executors","fitnessExecutor","clusterMask","barEqualityComparer","647","_helpers","maskFactory","648","barAnalyzer","rawBars","649","extractor","comparer","barContentEqualityComparer","650","_directionMask","directionAnalyzer","651","getDirection","DIRECTION","STABLE","DOWN","UP","calculateFrequencies","_storage","NONE","chain","currentDirection","prev","direction","directionForBar","_ref2$size","DEFAULT_SIZE","_ref2$spread","spread","MIN_SPREAD","cleanedBar","frequencies","descSortedFrequencies","_descSortedFrequencie","652","_calculate2","653","intervalValuesWeight","intervalDispersionWeight","IntervalFitness","_referenceValues","_normalizeOptions","contentPitch","notesUtils","toPitch","referencePitch","contentValues","_calculateIntervalValues","_calculateFitness","isNumber","contentMaxIndex","averageSum","dispersionSum","some","aRef","average","dRef","dispersion","_contentValues$i","abs","_calculateIntervalValuesForBar","pitchesBar","valuesArray","getValueBetweenNotes","pow","654","getIntervalValue","interval","INTERVAL_TYPE_VALUES","PERFECT_CONSONANTS","IMPERFECT_CONSONANTS","SECONDS","SEVENTH","GRATER_THAN_OCTAVE","-1","noteA","noteB","mode","halfTones","getHalfTonesBeetween","intervalValue","MAX_DISPERSION_DIFF","MAX_AVERAGE_DIFF","655","656","BIT_VALUES","MAX_DISTANCE","MagnitudeFitness","bitValue","_getBitValue","refValue","contentValue","distance","_normalize","start","657","658","_melodyLineMask","melodyLineMask","659","660","_noteSizeDistributionAnalyzer","_calculateError","referenceAnalysis","noteSizeDistributionAnalyzer","contentAnalysis","contentBar","error","calculateError","661","calculateDistributionForBar","ignorePauses","662","_calculateDiffObject","objA","objB","calculateDiffObject","663","barA","barB","diff","difference","664","_rhythmLineMask","rhythmLineMask","665","666","_rodNoteMask","rodNoteAnalyzer","referenceByBar","contentByBar","subStep","subReducer","subValue","subIndex","667","rodNoteForBar","ROD_TYPE","_ROD_MASK","FIRST","TWO","FOUR","FIRST_AND_LAST","ROD_MASK","_ref$rodeType","rodeType","668","_signMask","signMask","669","_ref2$","prevBar","filterBar","670","NAMESPACE","maxIterations","deathLimit","threshold","mutationProbability","useRandomInitialIndividuals","countOfBestToLiveThrought","stopOnEndOfIterations","migrationRate","migrationSize","groupCount","createSlider","671","registerInStore","createEvolutionProvider","evolution","EVOLUTION_KEY","_DarwinEvolution","_DarwinEvolution2","_LamarkEvolution","_LamarkEvolution2","_VriesEvolution","_VriesEvolution2","_KimuraEvolution","_KimuraEvolution2","_PunctuatedEquilibriumEvolution","_PunctuatedEquilibriumEvolution2","_createEvolutionProvi","672","_GA","executor","673","NodeGA","BrowserGA","_BaseGA3","_loop2","_BaseGA","cond","body","loop","BaseGA","_BaseGA2","preferences","workerOptions","rate","_rate","syncLoop","isNode","Function","log","674","_Individual","_Individual2","_populationSorter","defaultWorkerOptions","notifyRate","onMigration","migrationCount","_migrants","mutation","_id","_reference","_preference","_evolution","_workerOptions","_context","_cleanState","_run","migrants","_paused","_stopped","_population","clones","_sortByFitness","mama","papa","baby","probability","getHash","newPopulation","goodGuys","_removeClones","fitnessValue","bestWeHave","_getBestWeHave","countWeNeed","countWeHave","currentPopulation","need","_bestOne","bestFitness","desc","populationSorter","_createInitialPopulation","_loop","_needToRun","_oneEra","_onCompletion","_options2","_isDone","parents","_mutate","_crossover","_selection","_createNewPopulation","_notificationProcess","_migrationProcess","populationDTO","_snapshot","_workerOptions2","notify","_getBest","_formatFitness","toFullFitnessDTO","_getMigrants","_options3","migrantsCount","sampleSize","original","iteration","675","Individual","referenceIndividual","contentToStart","useRandomToStart","_content","_fitnessValue","_checkContext","someone","newContent","676","af","bf","677","condition","debounceLoop","defaultRate","currentRate","678","_get","property","receiver","getOwnPropertyDescriptor","parent","getter","_GA2","LamarkExecutor","_environmentChanger","EnvironmentChanger","adaptationRate","environmentChangeRate","_isOccur","_adaptate","_changeEnvironment","changeWeight","createContext","_evolution2","adaptationPercent","maxChildren","populationSize","adaptantsCount","goodAdaptants","old","newOne","childrenCount","679","geneticOperatorOptions","fluctuateRate","_changeWeights","_cloneDeep","cloneDeep","680","VriesExecutor","catastropheRate","_catastrophe","mutationCatastropheWeight","deadCatastropheWeight","environmentCatastropheWeight","catastropheKey","_getCatastropheKey","_mutationCatastrophe","_deadCatastrophe","_environmentCatastrophe","mutationCatastropheProbability","deadCatastropheProbability","environmentCatastropheProbability","howMuchWouldDie","indexesToRemove","stippedPopulation","_","681","_KimuraExecutor","_getInitialStateFromMeta","_getRenderFromMeta","META","speciesCount","speciesSeparationRate","getRenderFromMeta","getInitialStateFromMeta","682","KimuraExecutor","_clusterfck","_clusterfck2","_separate","clusters","kmeans","countOfClusters","c1","c2","clustersToUse","gensForNewPopulation","cluster","687","meta","688","689","_PunctuatedEquilibriumExecutor","environmentDifferenceWeight","690","PunctuatedEquilibriumExecutor","_SimpleGARunner","DEFAULT_NOTIFY_RATE","currentIteration","runners","progressEvents","pauseEvents","doneEvents","_pauseFlags","_doneFlags","_best","_migrantsToSendToChilds","_currentEra","evolutionId","_createInstance","_migrantsToSendToChil","r","rootOptions","_createInstanceOptions","instanceWorkerOptions","_onInstanceDone","_onInstanceProgress","_onInstancePause","SimpleGARunner","_onMigrationFromInstances","migrantsToSend","subId","_getSnapshotEvent","_getMinIteration","_getCurrentIterationEvent","events","individuals","bestGuys","bestOne","individual","_rootOptions$evolutio","oneGroupCount","fluctuateOptions","691","isWorker","Worker","that","substr","eventListeners","message","addEventListener","_from","newEvent","MessageEvent","initMessageEvent","dispatchEvent","onmessage","pathname","absPath","substring","lastIndexOf","postMessage","_subworker","cmd","onerror","terminate","listener","useCapture","removeEventListener","listeners","allWorkers","cmds","newWorker","worker","envelope","passMessage","messageRecieved","oldWorker","_x","_Worker","blobIndex","692","_SimpleGAWorker","_SimpleGAWorker2","_setupDefault","_worker","_createOnMessage","action","_ref2$data","migrantsToSendBack","693","p","694","_GAWorker","_GAWorker2","workersPool","migrationPool","_useEvolutionStrategies","getCurrentComposition","_setupEvolutions","availableEvolutions","evolutionOptions","normalizedPopulation","evolutionName","_createOnMessageForEvolution","_ref10$data","_migrationPool","_ref12$data","695","696","selectedIndex","Table","striped","bordered","condensed","hover","_renderPopulation","classes","fitnessFrag","renderFitnessInfo","toFixed","renderItem","items","renderFitnessInfoItems","marginBottom","697","_ABCJS","_ABCJS2","_convertToABC","_convertToABC2","Sheet","_element","refs","abcjs","_initializeWidget","nextProps","ref","renderAbc","scale","698","ABCJS","699","createNote","noteIndex","referenceTable","convertToABC","answer","defaultHeader","previousNote","NEW_LINE","700","DEFAULT","Compositions","selectComposition","currentKey","compositions","nameRaw","isValidName","Glyphicon","glyph","renderCompositionItem","FormControl","onNameChange","701","compositionToString","invalidName","invalidComposition","isDefault","rawArray","isNaN","converted","_convert","compositionKey","componentClass","702","_reactRedux","Provider","Router","history","hashHistory","726","_redux","createStore","_reducers2","_reducers","727","combineReducers","728","createPluginsReducer","729","_toArray","createDeepProperty","stopIndex","currentIndex","namespace","fullState","_action$optionsPath","newFragment","merge"],"mappings":"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","file":"app.560af2f67b39365b5266.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(26);\n\t\n\t__webpack_require__(30);\n\t\n\t__webpack_require__(32);\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(60);\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\t__webpack_require__(200);\n\t\n\tvar _VERSION = __webpack_require__(534);\n\t\n\tvar _root = __webpack_require__(702);\n\t\n\tvar _configureStore = __webpack_require__(726);\n\t\n\tvar _initialState = __webpack_require__(615);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tvar _persistStorage = __webpack_require__(536);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//APP\n\tfunction migrate(persistedState, currentState) {\n\t\t// NOTE: Do not use localStorage in development.\n\t\tif (false) {\n\t\t\treturn currentState;\n\t\t}\n\t\n\t\tif (persistedState && _persistStorage.storage.get(_VERSION.VERSION_KEY) === _VERSION.APP_VERSION) {\n\t\t\treturn persistedState;\n\t\t}\n\t\t_persistStorage.storage.set(_VERSION.VERSION_KEY, _VERSION.APP_VERSION);\n\t\treturn currentState;\n\t}\n\t\n\t//LIBS\n\t\n\t\n\tvar store = (0, _configureStore.configureStore)(migrate(_persistStorage.storage.get(_VERSION.STATE_KEY), _initialState2.default));\n\t\n\tif (false) {\n\t\t// NOTE: to debug\n\t\twindow.store = store;\n\t}\n\t\n\tstore.subscribe((0, _lodash.throttle)(function () {\n\t\treturn _persistStorage.storage.set(_VERSION.STATE_KEY, store.getState());\n\t}, 1000));\n\t\n\t(0, _reactDom.render)(_react2.default.createElement(_root.Root, { store: store }), document.getElementById('root'));\n\n/***/ },\n\n/***/ 26:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 30:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 32:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tif (!Object.values) {\n\t  Object.values = function (x) {\n\t    return Object.keys(x).reduce(function (y, z) {\n\t      return y.push(x[z]) && y;\n\t    }, []);\n\t  };\n\t}\n\t\n\tif (!Object.entries) {\n\t  Object.entries = function (x) {\n\t    return Object.keys(x).reduce(function (y, z) {\n\t      return y.push([z, x[z]]) && y;\n\t    }, []);\n\t  };\n\t}\n\t\n\tif (!Array.prototype.includes) {\n\t  Array.prototype.includes = function (searchElement /*, fromIndex*/) {\n\t    if (this == null) {\n\t      throw new TypeError('Array.prototype.includes called on null or undefined');\n\t    }\n\t\n\t    var O = Object(this);\n\t    var len = parseInt(O.length, 10) || 0;\n\t    if (len === 0) {\n\t      return false;\n\t    }\n\t    var n = parseInt(arguments[1], 10) || 0;\n\t    var k;\n\t    if (n >= 0) {\n\t      k = n;\n\t    } else {\n\t      k = len + n;\n\t      if (k < 0) {\n\t        k = 0;\n\t      }\n\t    }\n\t    var currentElement;\n\t    while (k < len) {\n\t      currentElement = O[k];\n\t      if (searchElement === currentElement || searchElement !== searchElement && currentElement !== currentElement) {\n\t        // NaN !== NaN\n\t        return true;\n\t      }\n\t      k++;\n\t    }\n\t    return false;\n\t  };\n\t}\n\n/***/ },\n\n/***/ 200:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(201);\n\n/***/ },\n\n/***/ 201:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _PluginRegister = __webpack_require__(202);\n\t\n\tvar _PluginRegister2 = _interopRequireDefault(_PluginRegister);\n\t\n\tvar _Index = __webpack_require__(542);\n\t\n\tvar _Index2 = _interopRequireDefault(_Index);\n\t\n\tvar _Compositions = __webpack_require__(700);\n\t\n\tvar _Compositions2 = _interopRequireDefault(_Compositions);\n\t\n\tvar _Composition = __webpack_require__(701);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_PluginRegister2.default.register({\n\t\tpath: '/',\n\t\tcomponent: _Index2.default,\n\t\ttitle: 'Genetic Algorithms (reference)'\n\t});\n\t\n\t_PluginRegister2.default.register({\n\t\tpath: '/compositions',\n\t\tcomponent: _Compositions2.default,\n\t\ttitle: 'Manage compositions'\n\t});\n\t\n\t_PluginRegister2.default.register({\n\t\tpath: '/compositions/:composition',\n\t\tcomponent: _Composition2.default,\n\t\ttitle: 'Manage compositions',\n\t\tuseNav: false\n\t});\n\n/***/ },\n\n/***/ 202:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _routes = __webpack_require__(203);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\tvar _nav = __webpack_require__(205);\n\t\n\tvar _nav2 = _interopRequireDefault(_nav);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// TODO: reimplement singleton to context\n\t\n\t/**\r\n\t * @description Used to register plugins in app.\r\n\t * Also provides a link in navigation sidebar\r\n\t */\n\tvar PluginRegister = function () {\n\t\tfunction PluginRegister() {\n\t\t\t_classCallCheck(this, PluginRegister);\n\t\t}\n\t\n\t\t_createClass(PluginRegister, [{\n\t\t\tkey: 'register',\n\t\n\t\t\t/**\r\n\t   * @param {Object} options\r\n\t   * @param {string} options.path\r\n\t   * @param {React.Component} options.component\r\n\t   * @param {string} options.title \r\n\t   * @param {Boolean} [options.useNav=true]\r\n\t   * @return {void}\r\n\t   */\n\t\t\tvalue: function register(_ref) {\n\t\t\t\tvar path = _ref.path,\n\t\t\t\t    component = _ref.component,\n\t\t\t\t    title = _ref.title,\n\t\t\t\t    _ref$useNav = _ref.useNav,\n\t\t\t\t    useNav = _ref$useNav === undefined ? true : _ref$useNav;\n\t\n\t\t\t\tuseNav && _nav2.default.push({ path: path, title: title });\n\t\t\t\t_routes2.default.childRoutes.push({ path: path, component: component });\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn PluginRegister;\n\t}();\n\t\n\texports.default = new PluginRegister();\n\n/***/ },\n\n/***/ 203:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _App = __webpack_require__(204);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar routes = {\n\t\tpath: '/ga',\n\t\tcomponent: _App2.default,\n\t\tchildRoutes: []\n\t};\n\t\n\texports.default = routes;\n\n/***/ },\n\n/***/ 204:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _nav = __webpack_require__(205);\n\t\n\tvar _nav2 = _interopRequireDefault(_nav);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _LayoutNavBar = __webpack_require__(459);\n\t\n\tvar _LayoutNavBar2 = _interopRequireDefault(_LayoutNavBar);\n\t\n\tvar _LayoutSideBar = __webpack_require__(537);\n\t\n\tvar _LayoutSideBar2 = _interopRequireDefault(_LayoutSideBar);\n\t\n\tvar _LayoutMain = __webpack_require__(541);\n\t\n\tvar _LayoutMain2 = _interopRequireDefault(_LayoutMain);\n\t\n\tvar _Index = __webpack_require__(542);\n\t\n\tvar _Index2 = _interopRequireDefault(_Index);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar App = function (_React$Component) {\n\t\t_inherits(App, _React$Component);\n\t\n\t\tfunction App() {\n\t\t\t_classCallCheck(this, App);\n\t\n\t\t\treturn _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(App, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(_LayoutNavBar2.default, null),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Row,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(_LayoutSideBar2.default, { nav: _nav2.default }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_LayoutMain2.default,\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tthis.props.children || _react2.default.createElement(_Index2.default, null)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn App;\n\t}(_react2.default.Component);\n\t\n\texports.default = App;\n\n/***/ },\n\n/***/ 205:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Array<{title: string, path: string}>\r\n\t */\n\tvar nav = [];\n\t/*\r\n\tnav.push({\r\n\t\ttitle: 'Home',\r\n\t\tpath: '/'\r\n\t});\r\n\t*/\n\texports.default = nav;\n\n/***/ },\n\n/***/ 459:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _PlayerControls = __webpack_require__(460);\n\t\n\tvar _PlayerControls2 = _interopRequireDefault(_PlayerControls);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _reactRouter = __webpack_require__(479);\n\t\n\tvar _VERSION = __webpack_require__(534);\n\t\n\tvar _resetState = __webpack_require__(535);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LayoutNavBar = function (_React$Component) {\n\t\t_inherits(LayoutNavBar, _React$Component);\n\t\n\t\tfunction LayoutNavBar() {\n\t\t\tvar _ref;\n\t\n\t\t\tvar _temp, _this, _ret;\n\t\n\t\t\t_classCallCheck(this, LayoutNavBar);\n\t\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\t\n\t\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LayoutNavBar.__proto__ || Object.getPrototypeOf(LayoutNavBar)).call.apply(_ref, [this].concat(args))), _this), _this.onResetState = function () {\n\t\t\t\treturn (0, _resetState.resetState)();\n\t\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t\t}\n\t\n\t\t_createClass(LayoutNavBar, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Navbar,\n\t\t\t\t\t{ inverse: true, fixedTop: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.NavbarBrand,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactRouter.Link,\n\t\t\t\t\t\t\t{ to: '#/' },\n\t\t\t\t\t\t\t'GENOM ',\n\t\t\t\t\t\t\t_VERSION.APP_VERSION || ''\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(_PlayerControls2.default, null),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t{ style: { marginTop: 6 }, onClick: this.onResetState },\n\t\t\t\t\t\t'Reset state'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn LayoutNavBar;\n\t}(_react2.default.Component);\n\t\n\texports.default = LayoutNavBar;\n\n/***/ },\n\n/***/ 460:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Player = __webpack_require__(461);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar PlayerControls = function (_React$Component) {\n\t\t_inherits(PlayerControls, _React$Component);\n\t\n\t\tfunction PlayerControls(params) {\n\t\t\t_classCallCheck(this, PlayerControls);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, (PlayerControls.__proto__ || Object.getPrototypeOf(PlayerControls)).call(this, params));\n\t\n\t\t\t_Player2.default.onSet(function (notes) {\n\t\t\t\t_this.setState({\n\t\t\t\t\tenabled: Boolean(notes)\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\t_this.state = {\n\t\t\t\tenabled: false\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(PlayerControls, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'form',\n\t\t\t\t\t{ className: 'navbar-form navbar-left' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.ButtonGroup,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ disabled: !this.state.enabled, onClick: this.play.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-play' })\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ disabled: !this.state.enabled, onClick: this.stop.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-stop' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'play',\n\t\t\tvalue: function play() {\n\t\t\t\t_Player2.default.play();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'stop',\n\t\t\tvalue: function stop() {\n\t\t\t\t_Player2.default.stop();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn PlayerControls;\n\t}(_react2.default.Component);\n\t\n\texports.default = PlayerControls;\n\n/***/ },\n\n/***/ 461:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _soundfontPlayer = __webpack_require__(462);\n\t\n\tvar _soundfontPlayer2 = _interopRequireDefault(_soundfontPlayer);\n\t\n\tvar _instrumentNames = __webpack_require__(477);\n\t\n\tvar _instrumentNames2 = _interopRequireDefault(_instrumentNames);\n\t\n\tvar _common = __webpack_require__(478);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\twindow.AudioContext = window.AudioContext || window.webkitAudioContext;\n\t\n\tfunction isHold(val) {\n\t\treturn val === -1;\n\t}\n\t\n\tfunction isPause(val) {\n\t\treturn val === 0;\n\t}\n\t\n\tvar NOTE_LENGTH = 0.2; // 1/8 is 300ms const for now TODO: move to options\n\t\n\tvar Converter = function () {\n\t\tfunction Converter() {\n\t\t\t_classCallCheck(this, Converter);\n\t\t}\n\t\n\t\t_createClass(Converter, null, [{\n\t\t\tkey: 'convert',\n\t\n\t\t\t//notes is Array<number> where number -1, .. , 15\n\t\t\tvalue: function convert(notes) {\n\t\t\t\tvar result = [];\n\t\n\t\t\t\tnotes.forEach(function (noteCode) {\n\t\t\t\t\tif (isHold(noteCode) && result.length) {\n\t\t\t\t\t\tresult[result.length - 1].duration += NOTE_LENGTH;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (isPause(noteCode)) {\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\tnote: null,\n\t\t\t\t\t\t\tduration: NOTE_LENGTH\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tnote: _common.REFERENCE_TABLE[noteCode],\n\t\t\t\t\t\tduration: NOTE_LENGTH\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Converter;\n\t}();\n\t\n\t// NOTE: copy paste from soundfont-player\n\t\n\t\n\tfunction nameToUrl(name) {\n\t\tvar sf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'MusyngKite';\n\t\tvar format = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'mp3';\n\t\n\t\tvar protocol = window.location.protocol;\n\t\treturn protocol + '//gleitz.github.io/midi-js-soundfonts/' + sf + '/' + name + '-' + format + '.js';\n\t}\n\t\n\t//this._instrument.play(note, time, duration);\n\t\n\tvar Player = function () {\n\t\tfunction Player() {\n\t\t\tvar _this = this;\n\t\n\t\t\tvar instrumentName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _instrumentNames2.default.acoustic_grand_piano;\n\t\n\t\t\t_classCallCheck(this, Player);\n\t\n\t\t\tthis._callbacks = [];\n\t\t\tthis._ctx = new window.AudioContext();\n\t\n\t\t\tthis._notes = [];\n\t\t\tthis._prevNotes = [];\n\t\t\tthis._timeout = null;\n\t\t\tthis._instrument = null;\n\t\n\t\t\tthis._isPlaying = false;\n\t\n\t\t\t_soundfontPlayer2.default.instrument(this._ctx, instrumentName, {\n\t\t\t\tnameToUrl: nameToUrl\n\t\t\t}).then(function (instrument) {\n\t\t\t\treturn _this._instrument = instrument;\n\t\t\t});\n\t\t}\n\t\n\t\t_createClass(Player, [{\n\t\t\tkey: 'set',\n\t\t\tvalue: function set(notes) {\n\t\t\t\tthis._notes = Converter.convert(notes);\n\t\t\t\tthis._prevNotes = this._notes.slice();\n\t\t\t\tthis._runCallbacks(notes);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_runCallbacks',\n\t\t\tvalue: function _runCallbacks(param) {\n\t\t\t\tif (this._callbacks.length) {\n\t\t\t\t\tthis._callbacks.forEach(function (callback) {\n\t\t\t\t\t\tcallback(param);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'onSet',\n\t\t\tvalue: function onSet(callback) {\n\t\t\t\tthis._callbacks.push(callback);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'offSet',\n\t\t\tvalue: function offSet() {\n\t\t\t\tthis._callbacks = [];\n\t\t\t}\n\t\n\t\t\t//notes is Array<number> where number -1, .. , 15\n\t\n\t\t}, {\n\t\t\tkey: 'play',\n\t\t\tvalue: function play(notes) {\n\t\t\t\tif (notes) {\n\t\t\t\t\tthis.set(notes);\n\t\t\t\t}\n\t\n\t\t\t\tif (this._instrument) {\n\t\t\t\t\tthis._playInternal();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('Instruments not loaded yet');\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'clear',\n\t\t\tvalue: function clear() {\n\t\t\t\tthis._notes = [];\n\t\t\t\tthis._prevNotes = [];\n\t\t\t\tthis._runCallbacks(null);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_playInternal',\n\t\t\tvalue: function _playInternal() {\n\t\t\t\tthis._isPlaying = true;\n\t\t\t\tthis._notes = this._prevNotes.slice();\n\t\t\t\tthis._playTick();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_playTick',\n\t\t\tvalue: function _playTick() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tvar noteItem = this._notes.shift();\n\t\n\t\t\t\tif (!noteItem || !this._isPlaying) {\n\t\t\t\t\tthis._clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar note = noteItem.note,\n\t\t\t\t    duration = noteItem.duration;\n\t\n\t\t\t\tthis._instrument.play(note, this._ctx.currentTime);\n\t\t\t\tthis._timeout = setTimeout(function () {\n\t\t\t\t\treturn _this2._playTick();\n\t\t\t\t}, duration * 1000); // timeout use mileseconds while we put second into noteItem\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_clear',\n\t\t\tvalue: function _clear() {\n\t\t\t\tclearTimeout(this._timeout);\n\t\t\t\tthis._timeout = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'stop',\n\t\t\tvalue: function stop() {\n\t\t\t\tthis._isPlaying = false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Player;\n\t}();\n\t\n\texports.default = new Player();\n\n/***/ },\n\n/***/ 477:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar instrumentNames = {\n\t\taccordion: 'accordion',\n\t\tacoustic_bass: 'acoustic_bass',\n\t\tacoustic_grand_piano: 'acoustic_grand_piano',\n\t\tacoustic_guitar_nylon: 'acoustic_guitar_nylon',\n\t\tacoustic_guitar_steel: 'acoustic_guitar_steel',\n\t\tagogo: 'agogo',\n\t\talto_sax: 'alto_sax',\n\t\tapplause: 'applause',\n\t\tbagpipe: 'bagpipe',\n\t\tbanjo: 'banjo',\n\t\tbaritone_sax: 'baritone_sax',\n\t\tbassoon: 'bassoon',\n\t\tbird_tweet: 'bird_tweet',\n\t\tblown_bottle: 'blown_bottle',\n\t\tbrass_section: 'brass_section',\n\t\tbreath_noise: 'breath_noise',\n\t\tbright_acoustic_piano: 'bright_acoustic_piano',\n\t\tcelesta: 'celesta',\n\t\tcello: 'cello',\n\t\tchoir_aahs: 'choir_aahs',\n\t\tchurch_organ: 'church_organ',\n\t\tclarinet: 'clarinet',\n\t\tclavinet: 'clavinet',\n\t\tcontrabass: 'contrabass',\n\t\tdistortion_guitar: 'distortion_guitar',\n\t\tdrawbar_organ: 'drawbar_organ',\n\t\tdulcimer: 'dulcimer',\n\t\telectric_bass_finger: 'electric_bass_finger',\n\t\telectric_bass_pick: 'electric_bass_pick',\n\t\telectric_grand_piano: 'electric_grand_piano',\n\t\telectric_guitar_clean: 'electric_guitar_clean',\n\t\telectric_guitar_jazz: 'electric_guitar_jazz',\n\t\telectric_guitar_muted: 'electric_guitar_muted',\n\t\telectric_piano_1: 'electric_piano_1',\n\t\telectric_piano_2: 'electric_piano_2',\n\t\tenglish_horn: 'english_horn',\n\t\tfiddle: 'fiddle',\n\t\tflute: 'flute',\n\t\tfrench_horn: 'french_horn',\n\t\tfretless_bass: 'fretless_bass',\n\t\tfx_1_rain: 'fx_1_rain',\n\t\tfx_2_soundtrack: 'fx_2_soundtrack',\n\t\tfx_3_crystal: 'fx_3_crystal',\n\t\tfx_4_atmosphere: 'fx_4_atmosphere',\n\t\tfx_5_brightness: 'fx_5_brightness',\n\t\tfx_6_goblins: 'fx_6_goblins',\n\t\tfx_7_echoes: 'fx_7_echoes',\n\t\tfx_8_scifi: 'fx_8_scifi',\n\t\tglockenspiel: 'glockenspiel',\n\t\tguitar_fret_noise: 'guitar_fret_noise',\n\t\tguitar_harmonics: 'guitar_harmonics',\n\t\tgunshot: 'gunshot',\n\t\tharmonica: 'harmonica',\n\t\tharpsichord: 'harpsichord',\n\t\thelicopter: 'helicopter',\n\t\thonkytonk_piano: 'honkytonk_piano',\n\t\tkalimba: 'kalimba',\n\t\tkoto: 'koto',\n\t\tlead_1_square: 'lead_1_square',\n\t\tlead_2_sawtooth: 'lead_2_sawtooth',\n\t\tlead_3_calliope: 'lead_3_calliope',\n\t\tlead_4_chiff: 'lead_4_chiff',\n\t\tlead_5_charang: 'lead_5_charang',\n\t\tlead_6_voice: 'lead_6_voice',\n\t\tlead_7_fifths: 'lead_7_fifths',\n\t\tlead_8_bass__lead: 'lead_8_bass__lead',\n\t\tmarimba: 'marimba',\n\t\tmelodic_tom: 'melodic_tom',\n\t\tmusic_box: 'music_box',\n\t\tmuted_trumpet: 'muted_trumpet',\n\t\toboe: 'oboe',\n\t\tocarina: 'ocarina',\n\t\torchestra_hit: 'orchestra_hit',\n\t\torchestral_harp: 'orchestral_harp',\n\t\toverdriven_guitar: 'overdriven_guitar',\n\t\tpad_1_new_age: 'pad_1_new_age',\n\t\tpad_2_warm: 'pad_2_warm',\n\t\tpad_3_polysynth: 'pad_3_polysynth',\n\t\tpad_4_choir: 'pad_4_choir',\n\t\tpad_5_bowed: 'pad_5_bowed',\n\t\tpad_6_metallic: 'pad_6_metallic',\n\t\tpad_7_halo: 'pad_7_halo',\n\t\tpad_8_sweep: 'pad_8_sweep',\n\t\tpan_flute: 'pan_flute',\n\t\tpercussive_organ: 'percussive_organ',\n\t\tpiccolo: 'piccolo',\n\t\tpizzicato_strings: 'pizzicato_strings',\n\t\trecorder: 'recorder',\n\t\treed_organ: 'reed_organ',\n\t\treverse_cymbal: 'reverse_cymbal',\n\t\trock_organ: 'rock_organ',\n\t\tseashore: 'seashore',\n\t\tshakuhachi: 'shakuhachi',\n\t\tshamisen: 'shamisen',\n\t\tshanai: 'shanai',\n\t\tsitar: 'sitar',\n\t\tslap_bass_1: 'slap_bass_1',\n\t\tslap_bass_2: 'slap_bass_2',\n\t\tsoprano_sax: 'soprano_sax',\n\t\tsteel_drums: 'steel_drums',\n\t\tstring_ensemble_1: 'string_ensemble_1',\n\t\tstring_ensemble_2: 'string_ensemble_2',\n\t\tsynth_bass_1: 'synth_bass_1',\n\t\tsynth_bass_2: 'synth_bass_2',\n\t\tsynth_brass_1: 'synth_brass_1',\n\t\tsynth_brass_2: 'synth_brass_2',\n\t\tsynth_choir: 'synth_choir',\n\t\tsynth_drum: 'synth_drum',\n\t\tsynth_strings_1: 'synth_strings_1',\n\t\tsynth_strings_2: 'synth_strings_2',\n\t\ttaiko_drum: 'taiko_drum',\n\t\ttango_accordion: 'tango_accordion',\n\t\ttelephone_ring: 'telephone_ring',\n\t\ttenor_sax: 'tenor_sax',\n\t\ttimpani: 'timpani',\n\t\ttinkle_bell: 'tinkle_bell',\n\t\ttremolo_strings: 'tremolo_strings',\n\t\ttrombone: 'trombone',\n\t\ttrumpet: 'trumpet',\n\t\ttuba: 'tuba',\n\t\ttubular_bells: 'tubular_bells',\n\t\tvibraphone: 'vibraphone',\n\t\tviola: 'viola',\n\t\tviolin: 'violin',\n\t\tvoice_oohs: 'voice_oohs',\n\t\twhistle: 'whistle',\n\t\twoodblock: 'woodblock',\n\t\txylophone: 'xylophone'\n\t};\n\t\n\texports.default = instrumentNames;\n\n/***/ },\n\n/***/ 478:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar REFERENCE_TABLE = exports.REFERENCE_TABLE = {\n\t\t1: 'C3',\n\t\t2: 'D3',\n\t\t3: 'E3',\n\t\t4: 'F3',\n\t\t5: 'G3',\n\t\t6: 'A3',\n\t\t7: 'B3',\n\t\t8: 'C4',\n\t\t9: 'D4',\n\t\t10: 'E4',\n\t\t11: 'F4',\n\t\t12: 'G4',\n\t\t13: 'A4',\n\t\t14: 'B4'\n\t};\n\n/***/ },\n\n/***/ 534:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar APP_VERSION = exports.APP_VERSION = '0.0.4';\n\tvar STATE_KEY = exports.STATE_KEY = '__APP_STATE__';\n\tvar VERSION_KEY = exports.VERSION_KEY = '__APP_VERSION__';\n\n/***/ },\n\n/***/ 535:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.resetState = resetState;\n\t\n\tvar _persistStorage = __webpack_require__(536);\n\t\n\tvar _VERSION = __webpack_require__(534);\n\t\n\tfunction resetState() {\n\t\t_persistStorage.storage.remove(_VERSION.VERSION_KEY);\n\t\t_persistStorage.storage.remove(_VERSION.STATE_KEY);\n\t\tlocation.reload();\n\t}\n\n/***/ },\n\n/***/ 536:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar storage = exports.storage = {\n\t\tget: function get(key) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(localStorage.getItem(key));\n\t\t\t} catch (e) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\t\tset: function set(key, value) {\n\t\t\ttry {\n\t\t\t\treturn localStorage.setItem(key, JSON.stringify(value));\n\t\t\t} catch (e) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\t\tremove: function remove(key) {\n\t\t\ttry {\n\t\t\t\treturn localStorage.removeItem(key);\n\t\t\t} catch (e) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 537:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _reactRouterBootstrap = __webpack_require__(538);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LayoutSideBar = function (_React$Component) {\n\t    _inherits(LayoutSideBar, _React$Component);\n\t\n\t    function LayoutSideBar() {\n\t        _classCallCheck(this, LayoutSideBar);\n\t\n\t        return _possibleConstructorReturn(this, (LayoutSideBar.__proto__ || Object.getPrototypeOf(LayoutSideBar)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(LayoutSideBar, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            var navItems = this.props.nav.map(function (navItem) {\n\t                return _react2.default.createElement(\n\t                    _reactRouterBootstrap.LinkContainer,\n\t                    { key: navItem.path, to: navItem.path },\n\t                    _react2.default.createElement(\n\t                        _reactBootstrap.NavItem,\n\t                        null,\n\t                        navItem.title\n\t                    )\n\t                );\n\t            });\n\t\n\t            return _react2.default.createElement(\n\t                _reactBootstrap.Col,\n\t                { sm: 3, md: 2, className: 'sidebar' },\n\t                _react2.default.createElement(\n\t                    _reactBootstrap.Nav,\n\t                    { className: 'nav-sidebar' },\n\t                    navItems\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return LayoutSideBar;\n\t}(_react2.default.Component);\n\t\n\texports.default = LayoutSideBar;\n\n/***/ },\n\n/***/ 541:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LayoutMain = function (_React$Component) {\n\t\t_inherits(LayoutMain, _React$Component);\n\t\n\t\tfunction LayoutMain() {\n\t\t\t_classCallCheck(this, LayoutMain);\n\t\n\t\t\treturn _possibleConstructorReturn(this, (LayoutMain.__proto__ || Object.getPrototypeOf(LayoutMain)).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(LayoutMain, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t{ sm: 9, md: 10, mdOffset: 2, smOffset: 3, className: 'main' },\n\t\t\t\t\tthis.props.children\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn LayoutMain;\n\t}(_react2.default.Component);\n\t\n\texports.default = LayoutMain;\n\n/***/ },\n\n/***/ 542:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(543);\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _Graph = __webpack_require__(545);\n\t\n\tvar _Player = __webpack_require__(461);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _GAOptions = __webpack_require__(604);\n\t\n\tvar _GAOptions2 = _interopRequireDefault(_GAOptions);\n\t\n\tvar _GARunner = __webpack_require__(694);\n\t\n\tvar _IndividualsTable = __webpack_require__(696);\n\t\n\tvar _Sheet = __webpack_require__(697);\n\t\n\tvar _Sheet2 = _interopRequireDefault(_Sheet);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //styles\n\t\n\t\n\t//libs\n\t\n\t\n\t//Components\n\t\n\t\n\tvar DEFAULT_STATE = {\n\t\t/**\r\n\t  * @description App state\r\n\t  */\n\t\tworking: false,\n\t\tpaused: false,\n\t\n\t\t/**\r\n\t  * @description Used to draw Music Scores \r\n\t  */\n\t\tselected: null,\n\t\n\t\t/**\r\n\t  * @description Old population holder for single evolution \r\n\t  * @deprecated\r\n\t  * @type {{ content: number[], fitness: { value: number, full: { [key: string]: number } }}[]\r\n\t  */\n\t\tpopulation: [],\n\t\n\t\t/**\r\n\t  * @description Populations hash for evolutions\r\n\t  * @type { { [evolutionName: string]: { content: number[], fitness: { value: number, full: { [key: string]: number } } }[] }\r\n\t  */\n\t\tpopulations: {},\n\t\n\t\t/**\r\n\t  * @type { { name: string, values: { x: number, y: number }[] }[] }\r\n\t  */\n\t\tstatistics: [],\n\t\n\t\t/**\r\n\t  * @description Used with multiple evolutions to display multiple progress bars\r\n\t  * @type {{[evolutionName: string]: number}}\r\n\t  */\n\t\tpercentages: {},\n\t\n\t\t/**\r\n\t  * @description Progress\r\n\t  */\n\t\tpercentage: 0,\n\t\n\t\t/**\r\n\t  * @description Best one of all evolutions\r\n\t  * @type {{fitness: { value: number }}}\r\n\t  */\n\t\tbest: null,\n\t\n\t\t/**\r\n\t  * @description Best for each evolutions\r\n\t  * @type { [evolutionName: string]: {fitness: { value: number }} }\r\n\t \t*/\n\t\tbests: {}\n\t};\n\t\n\tvar Index = function (_React$Component) {\n\t\t_inherits(Index, _React$Component);\n\t\n\t\tfunction Index() {\n\t\t\tvar _ref;\n\t\n\t\t\tvar _temp, _this, _ret;\n\t\n\t\t\t_classCallCheck(this, Index);\n\t\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\t\n\t\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Index.__proto__ || Object.getPrototypeOf(Index)).call.apply(_ref, [this].concat(args))), _this), _this.state = _extends({}, DEFAULT_STATE), _this.runner = null, _this.select = function (item) {\n\t\t\t\t_Player2.default.set(item.content);\n\t\t\t\t_this.setState({\n\t\t\t\t\tselected: item.content\n\t\t\t\t});\n\t\t\t}, _this.run = function () {\n\t\t\t\tvar newState = _extends({}, DEFAULT_STATE, {\n\t\t\t\t\tbests: {},\n\t\t\t\t\tstatistics: [{\n\t\t\t\t\t\tname: 'darwin-evolution',\n\t\t\t\t\t\tvalues: [{ x: 0, y: 0 }]\n\t\t\t\t\t}],\n\t\t\t\t\tworking: true\n\t\t\t\t});\n\t\n\t\t\t\t_this.setState(newState);\n\t\n\t\t\t\tif (_this.runner) {\n\t\t\t\t\t_this.runner.destroy();\n\t\t\t\t}\n\t\n\t\t\t\t_this.runner = _this._createRunner();\n\t\t\t}, _this.resume = function () {\n\t\t\t\t_this.setState({\n\t\t\t\t\tpaused: false\n\t\t\t\t});\n\t\t\t\t_this.runner && _this.runner.resume();\n\t\t\t}, _this.pause = function () {\n\t\t\t\t_this.setState({\n\t\t\t\t\tpaused: true\n\t\t\t\t});\n\t\t\t\t_this.runner && _this.runner.pause();\n\t\t\t}, _this.stop = function () {\n\t\t\t\t_this.runner && _this.runner.stop();\n\t\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t\t}\n\t\t/**\r\n\t  * @type {GARunner}\r\n\t  */\n\t\n\t\n\t\t_createClass(Index, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tvar store = this.context.store;\n\t\n\t\n\t\t\t\tvar scoresPanel = null;\n\t\t\t\tvar progressBar = null;\n\t\t\t\tvar best = null;\n\t\t\t\tvar individualsTable = null;\n\t\n\t\t\t\tif (this.state.population.length) {\n\t\t\t\t\t// TODO: create table for each worker, or use different colors for rows?\n\t\t\t\t\tindividualsTable = _react2.default.createElement(_IndividualsTable.IndividualsTable, {\n\t\t\t\t\t\tpopulation: this.state.population,\n\t\t\t\t\t\tonSelect: this.select });\n\t\t\t\t}\n\t\t\t\tif (!(0, _lodash.isEmpty)(this.state.populations)) {\n\t\t\t\t\tindividualsTable = _react2.default.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject.entries(this.state.populations).map(function (_ref2) {\n\t\t\t\t\t\t\tvar _ref3 = _slicedToArray(_ref2, 2),\n\t\t\t\t\t\t\t    name = _ref3[0],\n\t\t\t\t\t\t\t    population = _ref3[1];\n\t\n\t\t\t\t\t\t\treturn _react2.default.createElement(_IndividualsTable.IndividualsTable, {\n\t\t\t\t\t\t\t\tkey: name,\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\tpopulation: population,\n\t\t\t\t\t\t\t\tonSelect: _this2.select });\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\tif (this.state.selected) {\n\t\t\t\t\tscoresPanel = _react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t\t{ header: 'Scores' },\n\t\t\t\t\t\t_react2.default.createElement(_Sheet2.default, { data: this.state.selected })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\t/**\r\n\t    * @deprecated\r\n\t    * @description Display progress bar for single evolution\r\n\t    */\n\t\t\t\tif (this.state.percentage) {\n\t\t\t\t\tvar currentPercent = this.state.percentage | 0;\n\t\t\t\t\tprogressBar = _react2.default.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'progress-bar-wrapper' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'h3',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Progress: '\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.ProgressBar, { now: currentPercent, label: currentPercent + '%' })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t/**\r\n\t    * @description Display progress bar for multiple evolutions\r\n\t    */\n\t\t\t\tif (!(0, _lodash.isEmpty)(this.state.percentages)) {\n\t\t\t\t\tprogressBar = this._renderProgressBarForEvolutions();\n\t\t\t\t}\n\t\n\t\t\t\t// Best Guys ProgressBar\n\t\t\t\tif (this.state.best) {\n\t\t\t\t\tvar bestValue = this.state.best.fitness.value * 100 | 0;\n\t\t\t\t\tbest = _react2.default.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'progress-bar-wrapper' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'h3',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Best: '\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.ProgressBar, { bsStyle: 'success', now: bestValue, label: bestValue + '%', key: '1' })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Row,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 8, md: 8 },\n\t\t\t\t\t\t\tthis.state.statistics.length ? _react2.default.createElement(_Graph.Graph, { series: this.state.statistics }) : null,\n\t\t\t\t\t\t\tscoresPanel,\n\t\t\t\t\t\t\t_react2.default.createElement(_GAOptions2.default, { store: store })\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 4, md: 4 },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t\t\t\t{ header: 'Population' },\n\t\t\t\t\t\t\t\tthis._renderButtons(),\n\t\t\t\t\t\t\t\tbest,\n\t\t\t\t\t\t\t\tprogressBar,\n\t\t\t\t\t\t\t\tindividualsTable\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_renderProgressBarForEvolutions',\n\t\t\tvalue: function _renderProgressBarForEvolutions() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\tObject.entries(this.state.percentages).map(function (_ref4) {\n\t\t\t\t\t\tvar _ref5 = _slicedToArray(_ref4, 2),\n\t\t\t\t\t\t    name = _ref5[0],\n\t\t\t\t\t\t    percent = _ref5[1];\n\t\n\t\t\t\t\t\treturn [_this3._getEvolutionProgressHeaderText(name), percent | 0];\n\t\t\t\t\t}).map(function (_ref6) {\n\t\t\t\t\t\tvar _ref7 = _slicedToArray(_ref6, 2),\n\t\t\t\t\t\t    name = _ref7[0],\n\t\t\t\t\t\t    percent = _ref7[1];\n\t\n\t\t\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ key: name, className: 'progress-bar-wrapper' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'h5',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'Progress ',\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t':'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.ProgressBar, { now: percent, label: percent + '%' })\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getEvolutionProgressHeaderText',\n\t\t\tvalue: function _getEvolutionProgressHeaderText(evolutionKey) {\n\t\t\t\tvar name = evolutionKey.replace('-evolution', '');\n\t\t\t\tvar best = this.state.bests[evolutionKey];\n\t\t\t\tif (!best) {\n\t\t\t\t\treturn '(' + name + ')';\n\t\t\t\t}\n\t\t\t\treturn '(' + name + ') ' + (best.fitness.value * 100 | 0) + '%';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_renderButtons',\n\t\t\tvalue: function _renderButtons() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.ButtonGroup,\n\t\t\t\t\tnull,\n\t\t\t\t\tthis._renderFirstButton(),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t{ bsStyle: 'danger', onClick: this.stop },\n\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-stop' })\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_renderFirstButton',\n\t\t\tvalue: function _renderFirstButton() {\n\t\t\t\tvar _state = this.state,\n\t\t\t\t    paused = _state.paused,\n\t\t\t\t    working = _state.working;\n\t\n\t\n\t\t\t\tif (working && !paused) {\n\t\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t{ bsStyle: 'warning', onClick: this.pause },\n\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-pause' })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t{ bsStyle: 'success', onClick: working ? this.resume : this.run },\n\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-play' })\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createRunner',\n\t\t\tvalue: function _createRunner() {\n\t\t\t\tvar options = this.context.store.getState().GA;\n\t\n\t\t\t\tif (options.options.useEvolutionStrategies) {\n\t\t\t\t\treturn this._createEvolutionRunner(options);\n\t\t\t\t} else {\n\t\t\t\t\treturn this._createDefaultRunner(options);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createDefaultRunner',\n\t\t\tvalue: function _createDefaultRunner(options) {\n\t\t\t\tvar _this4 = this;\n\t\n\t\t\t\tvar onDone = function onDone(_ref8) {\n\t\t\t\t\tvar population = _ref8.data;\n\t\t\t\t\treturn _this4.setState({ population: population, working: false, paused: false });\n\t\t\t\t}; // onDone back to default state\n\t\t\t\tvar onPause = function onPause(_ref9) {\n\t\t\t\t\tvar population = _ref9.data;\n\t\t\t\t\treturn _this4.setState({ population: population });\n\t\t\t\t};\n\t\t\t\tvar onProgress = function onProgress(_ref10) {\n\t\t\t\t\tvar percentage = _ref10.percentage,\n\t\t\t\t\t    best = _ref10.best;\n\t\n\t\t\t\t\tvar statistics = _this4.state.statistics;\n\t\n\t\t\t\t\tstatistics[0].values.push({\n\t\t\t\t\t\tx: percentage,\n\t\t\t\t\t\ty: best.fitness.value * 100\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_this4.setState({ best: best, percentage: percentage, statistics: statistics });\n\t\t\t\t};\n\t\t\t\treturn new _GARunner.GARunner(options, { onDone: onDone, onProgress: onProgress, onPause: onPause });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createEvolutionRunner',\n\t\t\tvalue: function _createEvolutionRunner(options) {\n\t\t\t\tvar _this5 = this;\n\t\n\t\t\t\tvar onDone = function onDone(_ref11) {\n\t\t\t\t\tvar id = _ref11.id,\n\t\t\t\t\t    population = _ref11.data;\n\t\t\t\t\tvar populations = _this5.state.populations;\n\t\n\t\t\t\t\tvar name = _this5._getNameFromId(id);\n\t\t\t\t\t_this5.setState({\n\t\t\t\t\t\tpopulations: _extends({}, populations, _defineProperty({}, name, population)),\n\t\t\t\t\t\tworking: false,\n\t\t\t\t\t\tpaused: false\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tvar onPause = function onPause(_ref12) {\n\t\t\t\t\tvar id = _ref12.id,\n\t\t\t\t\t    population = _ref12.data;\n\t\t\t\t\tvar populations = _this5.state.populations;\n\t\n\t\t\t\t\tvar name = _this5._getNameFromId(id);\n\t\t\t\t\t_this5.setState({\n\t\t\t\t\t\tpopulations: _extends({}, populations, _defineProperty({}, name, population))\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tvar onProgress = function onProgress(_ref13) {\n\t\t\t\t\tvar id = _ref13.id,\n\t\t\t\t\t    percentage = _ref13.percentage,\n\t\t\t\t\t    best = _ref13.best;\n\t\t\t\t\tvar _state2 = _this5.state,\n\t\t\t\t\t    statistics = _state2.statistics,\n\t\t\t\t\t    bests = _state2.bests;\n\t\n\t\n\t\t\t\t\tvar prevBestFitnessValue = _this5.state.best && _this5.state.best.fitness.value || 0;\n\t\t\t\t\tvar currentBestFitnessValue = best.fitness.value;\n\t\t\t\t\tvar percentages = _this5.state.percentages;\n\t\n\t\t\t\t\tvar name = _this5._getNameFromId(id);\n\t\t\t\t\tvar series = statistics.find(function (x) {\n\t\t\t\t\t\treturn x.name === name;\n\t\t\t\t\t});\n\t\t\t\t\tvar item = {\n\t\t\t\t\t\tx: percentage,\n\t\t\t\t\t\ty: currentBestFitnessValue * 100\n\t\t\t\t\t};\n\t\n\t\t\t\t\tif (series) {\n\t\t\t\t\t\tseries.values.push(item);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstatistics.push({\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tvalues: [{\n\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t\t}, item]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar newState = {\n\t\t\t\t\t\tstatistics: statistics,\n\t\t\t\t\t\tbests: _extends({}, bests, _defineProperty({}, name, best)),\n\t\t\t\t\t\tpercentages: _extends({}, percentages, _defineProperty({}, name, percentage))\n\t\t\t\t\t};\n\t\n\t\t\t\t\tif (currentBestFitnessValue > prevBestFitnessValue) {\n\t\t\t\t\t\tnewState.best = best;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_this5.setState(newState);\n\t\t\t\t};\n\t\t\t\treturn new _GARunner.GARunner(options, { onDone: onDone, onProgress: onProgress, onPause: onPause });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getNameFromId',\n\t\t\tvalue: function _getNameFromId(id) {\n\t\t\t\treturn id.split('_')[0];\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Index;\n\t}(_react2.default.Component);\n\t// TODO: redo with react-redux connect later on\n\t\n\t\n\texports.default = Index;\n\tIndex.contextTypes = {\n\t\tstore: _react2.default.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 543:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 545:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Graph = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _reactD = __webpack_require__(546);\n\t\n\tvar _reactDimensions = __webpack_require__(602);\n\t\n\tvar _reactDimensions2 = _interopRequireDefault(_reactDimensions);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SimpleGraph = function (_React$Component) {\n\t\t_inherits(SimpleGraph, _React$Component);\n\t\n\t\tfunction SimpleGraph() {\n\t\t\t_classCallCheck(this, SimpleGraph);\n\t\n\t\t\treturn _possibleConstructorReturn(this, (SimpleGraph.__proto__ || Object.getPrototypeOf(SimpleGraph)).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(SimpleGraph, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar _props = this.props,\n\t\t\t\t    series = _props.series,\n\t\t\t\t    containerWidth = _props.containerWidth;\n\t\n\t\t\t\tvar width = containerWidth - 40;\n\t\t\t\tvar viewBoxObject = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: width / 2\n\t\t\t\t};\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t{ header: 'Graph' },\n\t\t\t\t\t_react2.default.createElement(_reactD.LineChart, {\n\t\t\t\t\t\tlegend: true,\n\t\t\t\t\t\tdata: series,\n\t\t\t\t\t\twidth: viewBoxObject.width,\n\t\t\t\t\t\theight: viewBoxObject.height,\n\t\t\t\t\t\tviewBoxObject: viewBoxObject,\n\t\t\t\t\t\tyAxisLabel: 'Best',\n\t\t\t\t\t\txAxisLabel: 'Elapsed Iteration',\n\t\t\t\t\t\tgridHorizontal: true })\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn SimpleGraph;\n\t}(_react2.default.Component);\n\t\n\tvar Graph = exports.Graph = (0, _reactDimensions2.default)()(SimpleGraph);\n\n/***/ },\n\n/***/ 604:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _CrossoverProvider = __webpack_require__(605);\n\t\n\tvar _MutationProvider = __webpack_require__(619);\n\t\n\tvar _FitnessProvider = __webpack_require__(642);\n\t\n\tvar _options = __webpack_require__(670);\n\t\n\tvar _EvolutionProvider = __webpack_require__(671);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*export default ({ store }) => (\r\n\t    <div>\r\n\t        <EvolutionProvider store={store} />\r\n\t        <GAOptionsComponent store={store} />\r\n\t        <CrossoverProvider store={store} />\r\n\t        <MutationProvider store={store} />\r\n\t        <FitnessProvider store={store} />\r\n\t    </div>\r\n\t);*/\n\t\n\texports.default = function (_ref) {\n\t    var store = _ref.store;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(_EvolutionProvider.Component, { store: store }),\n\t        _react2.default.createElement(_options.render, { store: store }),\n\t        _react2.default.createElement(_CrossoverProvider.Component, { store: store }),\n\t        _react2.default.createElement(_MutationProvider.Component, { store: store }),\n\t        _react2.default.createElement(_FitnessProvider.Component, { store: store })\n\t    );\n\t};\n\n/***/ },\n\n/***/ 605:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Component = exports.run = undefined;\n\t\n\tvar _createProvider2 = __webpack_require__(606);\n\t\n\tvar _createProvider3 = _interopRequireDefault(_createProvider2);\n\t\n\tvar _OnePointCrossover = __webpack_require__(616);\n\t\n\tvar _OnePointCrossover2 = _interopRequireDefault(_OnePointCrossover);\n\t\n\tvar _TwoPointCrossover = __webpack_require__(617);\n\t\n\tvar _TwoPointCrossover2 = _interopRequireDefault(_TwoPointCrossover);\n\t\n\tvar _RandomCrossover = __webpack_require__(618);\n\t\n\tvar _RandomCrossover2 = _interopRequireDefault(_RandomCrossover);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _createProvider = (0, _createProvider3.default)('crossover', [_OnePointCrossover2.default, _TwoPointCrossover2.default, _RandomCrossover2.default]);\n\t\n\tvar run = _createProvider.run,\n\t    Component = _createProvider.Component;\n\texports.run = run;\n\texports.Component = Component;\n\n/***/ },\n\n/***/ 606:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createCompositeProvider = createCompositeProvider;\n\t\n\tvar _createPluginsHash = __webpack_require__(607);\n\t\n\tvar _createRenderComponent = __webpack_require__(608);\n\t\n\tvar _BaseCalculateProvider = __webpack_require__(613);\n\t\n\tvar _BaseCalculateProvider2 = _interopRequireDefault(_BaseCalculateProvider);\n\t\n\tvar _CompositeCalculateProvider = __webpack_require__(614);\n\t\n\tvar _CompositeCalculateProvider2 = _interopRequireDefault(_CompositeCalculateProvider);\n\t\n\tvar _initialState = __webpack_require__(615);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar initialState = _initialState2.default.GA;\n\t\n\tfunction createCompositeProvider(providerName, context) {\n\t\tvar plugins = (0, _createPluginsHash.createPluginsHash)(context);\n\t\tvar instance = new _CompositeCalculateProvider2.default(plugins, initialState, providerName);\n\t\n\t\t// NOTE: run is actually getCalculation function\n\t\tvar run = instance.getRunOnce.bind(instance);\n\t\treturn {\n\t\t\trun: run,\n\t\t\tComponent: (0, _createRenderComponent.createRenderComponent)(providerName, plugins)\n\t\t};\n\t}\n\t\n\t/**\n\t * @param {string} providerName\n\t * @param {Array<Object>} context\n\t * @param {boolean} randomRun\n\t * @returns {{ run: Function, Component: Function }}\n\t */\n\t\n\texports.default = function (providerName, context) {\n\t\tvar randomRun = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t\tvar plugins = (0, _createPluginsHash.createPluginsHash)(context);\n\t\tvar instance = new _BaseCalculateProvider2.default(plugins, initialState, providerName);\n\t\n\t\t// NOTE: run is actually getCalculation function\n\t\tvar run = randomRun ? instance.getRunRandom.bind(instance) : instance.getRunOnce.bind(instance);\n\t\treturn {\n\t\t\trun: run,\n\t\t\tComponent: (0, _createRenderComponent.createRenderComponent)(providerName, plugins)\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 607:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t/**\r\n\t * @param {Array<{name: string, getInitialState: Function}>} context;\r\n\t */\n\tvar createPluginsHash = exports.createPluginsHash = function createPluginsHash(context) {\n\t\treturn context.reduce(function (hash, value) {\n\t\t\tif (!value.getInitialState) {\n\t\t\t\tvalue.getInitialState = function () {\n\t\t\t\t\treturn {};\n\t\t\t\t};\n\t\t\t}\n\t\t\thash[value.name] = value;\n\t\t\treturn hash;\n\t\t}, {});\n\t};\n\n/***/ },\n\n/***/ 608:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createRenderComponent = undefined;\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _index = __webpack_require__(612);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * @description pluginKey = crossover | mutation | fitness | evolution\r\n\t */\n\tvar createRenderComponent = exports.createRenderComponent = function createRenderComponent(pluginKey, plugins) {\n\t\tvar _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n\t\t    _ref$expanded = _ref.expanded,\n\t\t    expanded = _ref$expanded === undefined ? false : _ref$expanded;\n\t\n\t\treturn function (_ref2) {\n\t\t\tvar store = _ref2.store;\n\t\n\t\t\tvar state = store.getState().GA[pluginKey];\n\t\n\t\t\tvar onblur = function onblur(name, field, value) {\n\t\t\t\tstore.dispatch((0, _index.changeOptions)([pluginKey, name, field], value));\n\t\t\t};\n\t\n\t\t\tvar options = Object.keys(plugins).map(function (name) {\n\t\t\t\tvar plugin = plugins[name];\n\t\t\t\tvar innerMarkup = plugin.render && plugin.render(state[name], onblur.bind(null, name));\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t{ header: name, key: name },\n\t\t\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\t\t\tdefaultValue: state[name].weight,\n\t\t\t\t\t\tonBlur: onblur.bind(null, name),\n\t\t\t\t\t\tfield: 'weight' }),\n\t\t\t\t\tinnerMarkup\n\t\t\t\t);\n\t\t\t});\n\t\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t{ defaultExpanded: expanded, collapsible: true, header: pluginKey + ' options' },\n\t\t\t\toptions\n\t\t\t);\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 609:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.createSliderFactory = exports.probabilitySlider = exports.CheckboxControl = exports.SliderControl = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BaseControl = function (_React$Component) {\n\t    _inherits(BaseControl, _React$Component);\n\t\n\t    function BaseControl() {\n\t        _classCallCheck(this, BaseControl);\n\t\n\t        return _possibleConstructorReturn(this, (BaseControl.__proto__ || Object.getPrototypeOf(BaseControl)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(BaseControl, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            throw new Error('Abstract class');\n\t        }\n\t    }, {\n\t        key: 'onBlur',\n\t        value: function onBlur(_ref, e) {\n\t            var field = _ref.field,\n\t                _ref$type = _ref.type,\n\t                type = _ref$type === undefined ? 'number' : _ref$type;\n\t\n\t            var value = void 0;\n\t            switch (type) {\n\t                case 'number':\n\t                    value = Number(e.target.value);\n\t                    break;\n\t                case 'boolean':\n\t                    value = e.target.checked;\n\t                    break;\n\t            }\n\t\n\t            this.props.onBlur(field, value);\n\t        }\n\t    }]);\n\t\n\t    return BaseControl;\n\t}(_react2.default.Component);\n\t\n\t//{ obj, field, ?title, ?min, ?max}\n\t\n\t\n\tvar SliderControl = exports.SliderControl = function (_BaseControl) {\n\t    _inherits(SliderControl, _BaseControl);\n\t\n\t    function SliderControl(params) {\n\t        _classCallCheck(this, SliderControl);\n\t\n\t        var _this2 = _possibleConstructorReturn(this, (SliderControl.__proto__ || Object.getPrototypeOf(SliderControl)).call(this, params));\n\t\n\t        _this2.onChange = function (event) {\n\t            _this2.setState({ value: event.target.value });\n\t        };\n\t\n\t        var _this2$props = _this2.props,\n\t            field = _this2$props.field,\n\t            defaultValue = _this2$props.defaultValue;\n\t\n\t        _this2.state = { value: defaultValue };\n\t        _this2.blurBinded = _this2.onBlur.bind(_this2, { field: field, type: 'number' });\n\t        return _this2;\n\t    }\n\t\n\t    _createClass(SliderControl, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            //optional\n\t            var title = this.props.title || _utils.stringUtils.camelCaseToHuman(this.props.field);\n\t            var min = this.props.min || 0;\n\t            var max = this.props.max || 1;\n\t            var step = this.props.step || 0.01;\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group' },\n\t                _react2.default.createElement(\n\t                    'label',\n\t                    null,\n\t                    title,\n\t                    ' - ',\n\t                    this.state.value\n\t                ),\n\t                _react2.default.createElement('input', {\n\t                    type: 'range',\n\t                    value: this.state.value,\n\t                    min: min,\n\t                    max: max,\n\t                    step: step,\n\t                    onChange: this.onChange,\n\t                    onBlur: this.blurBinded })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SliderControl;\n\t}(BaseControl);\n\t\n\tvar CheckboxControl = exports.CheckboxControl = function (_BaseControl2) {\n\t    _inherits(CheckboxControl, _BaseControl2);\n\t\n\t    function CheckboxControl(params) {\n\t        _classCallCheck(this, CheckboxControl);\n\t\n\t        var _this3 = _possibleConstructorReturn(this, (CheckboxControl.__proto__ || Object.getPrototypeOf(CheckboxControl)).call(this, params));\n\t\n\t        _this3.state = { value: _this3.props.defaultValue };\n\t        return _this3;\n\t    }\n\t\n\t    _createClass(CheckboxControl, [{\n\t        key: 'onChange',\n\t        value: function onChange(event) {\n\t            this.setState({ value: event.target.value });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var _props = this.props,\n\t                field = _props.field,\n\t                defaultValue = _props.defaultValue,\n\t                title = _props.title;\n\t\n\t            var actualTitle = title || _utils.stringUtils.camelCaseToHuman(field);\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'checkbox' },\n\t                _react2.default.createElement(\n\t                    'label',\n\t                    null,\n\t                    _react2.default.createElement('input', {\n\t                        type: 'checkbox',\n\t                        defaultChecked: defaultValue,\n\t                        onChange: this.onChange.bind(this),\n\t                        onBlur: this.onBlur.bind(this, { field: field, type: 'boolean' }) }),\n\t                    actualTitle\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CheckboxControl;\n\t}(BaseControl);\n\t\n\tvar probabilitySlider = exports.probabilitySlider = function probabilitySlider(field) {\n\t    return { field: field, min: 0, max: 1, step: 0.01 };\n\t};\n\t\n\tvar createSliderFactory = exports.createSliderFactory = function createSliderFactory(state, onblur) {\n\t    return function (fields) {\n\t        return fields.map(function (_ref2) {\n\t            var field = _ref2.field,\n\t                _ref2$title = _ref2.title,\n\t                title = _ref2$title === undefined ? _utils.stringUtils.camelCaseToHuman(field) : _ref2$title,\n\t                _ref2$min = _ref2.min,\n\t                min = _ref2$min === undefined ? 1 : _ref2$min,\n\t                _ref2$max = _ref2.max,\n\t                max = _ref2$max === undefined ? 100 : _ref2$max,\n\t                _ref2$step = _ref2.step,\n\t                step = _ref2$step === undefined ? 1 : _ref2$step;\n\t            return _react2.default.createElement(SliderControl, {\n\t                key: field,\n\t                defaultValue: state[field],\n\t                onBlur: onblur,\n\t                field: field,\n\t                title: title,\n\t                min: min,\n\t                max: max,\n\t                step: step\n\t            });\n\t        });\n\t    };\n\t};\n\n/***/ },\n\n/***/ 610:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _NotesUtils = __webpack_require__(611);\n\t\n\tObject.defineProperty(exports, 'notesUtils', {\n\t\tenumerable: true,\n\t\tget: function get() {\n\t\t\treturn _interopRequireDefault(_NotesUtils).default;\n\t\t}\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction checkArray(arr) {\n\t\tif (!Array.isArray(arr)) {\n\t\t\tthrow new TypeError('arr should be an array ' + arr + ' given.');\n\t\t}\n\t}\n\t\n\tfunction checkObj(obj) {\n\t\tif (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {\n\t\t\tthrow new TypeError('obj should be an object ' + obj + ' given');\n\t\t}\n\t}\n\t\n\tvar numberUtils = {\n\t\t/**\r\n\t  * @param {number} startIndex\r\n\t  * @param {number} endIndex not included\r\n\t  * @returns {number}\r\n\t  */\n\t\trandomBetween: function randomBetween(startIndex, endIndex) {\n\t\t\tif (startIndex < 0 || endIndex < 0) {\n\t\t\t\tthrow 'wft randomBetween';\n\t\t\t}\n\t\t\tif (endIndex === undefined) {\n\t\t\t\tendIndex = startIndex;\n\t\t\t\tstartIndex = 0;\n\t\t\t}\n\t\n\t\t\treturn Math.floor(Math.random() * endIndex) + startIndex;\n\t\t},\n\t\tnormalizeValue: function normalizeValue(value, maxValue) {\n\t\t\tif (value <= maxValue) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tvar rem = value % maxValue;\n\t\t\treturn rem ? rem : maxValue;\n\t\t},\n\t\n\t\n\t\t/**\r\n\t  * @param {number} value - float or int\r\n\t  * @param {{ max: number, min: number }} options\r\n\t  * @returns {number}\r\n\t  */\n\t\tstrip: function strip(value) {\n\t\t\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t\t    _ref$min = _ref.min,\n\t\t\t    min = _ref$min === undefined ? 0 : _ref$min,\n\t\t\t    _ref$max = _ref.max,\n\t\t\t    max = _ref$max === undefined ? 1 : _ref$max;\n\t\n\t\t\tif (value < min) {\n\t\t\t\treturn min;\n\t\t\t}\n\t\n\t\t\tif (value >= max) {\n\t\t\t\treturn max;\n\t\t\t}\n\t\n\t\t\treturn value;\n\t\t},\n\t\n\t\n\t\t/**\r\n\t  * @param {number} basis\r\n\t  * @param {number} percent - from 0 to 1\r\n\t  * @param {{min: number, max: number}}\r\n\t  */\n\t\tfluctuate: function fluctuate(basis) {\n\t\t\tvar percent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.2;\n\t\n\t\t\tvar _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n\t\t\t    _ref2$min = _ref2.min,\n\t\t\t    min = _ref2$min === undefined ? 0 : _ref2$min,\n\t\t\t    _ref2$max = _ref2.max,\n\t\t\t    max = _ref2$max === undefined ? 1 : _ref2$max;\n\t\n\t\t\tvar newValue = basis + percent * Math.random() * (randomUtils.headsOrTails() ? 1 : -1);\n\t\t\treturn numberUtils.strip(newValue, { min: min, max: max });\n\t\t}\n\t};\n\t\n\tvar arrayUtils = exports.arrayUtils = {\n\t\tlast: function last(array) {\n\t\t\treturn array[array.length - 1];\n\t\t},\n\t\n\t\n\t\t/**\r\n\t  * @param {T} value\r\n\t  * @param {number} length - int or float\r\n\t  * @returns {T[]}\r\n\t  */\n\t\tmake: function make(value, length) {\n\t\t\t// NOTE: length converted to int to prevent infinite loop in while\n\t\t\tlength = length | 0;\n\t\t\tvar arr = [];\n\t\t\twhile (length--) {\n\t\t\t\tarr[length] = value;\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\n\t\n\t\t/**\r\n\t  * @param {number} count\r\n\t  * @param {number} length\r\n\t  * @param {Array<number>} except - except indexes\r\n\t  * @returns {Array<number>}\r\n\t  */\n\t\tgetRandomIndexes: function getRandomIndexes(count, length, except) {\n\t\t\tvar result = [];\n\t\n\t\t\tif (count > length) {\n\t\t\t\tcount = length;\n\t\t\t}\n\t\n\t\t\twhile (count > 0) {\n\t\t\t\tvar newIndex = numberUtils.randomBetween(length);\n\t\t\t\tif (result.indexOf(newIndex) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\n\t\t\t\tif (except && except.includes(newIndex)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\n\t\t\t\tresult.push(newIndex);\n\t\t\t\tcount--;\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\trandomKey: function randomKey(arr) {\n\t\t\tcheckArray(arr);\n\t\t\treturn numberUtils.randomBetween(arr.length);\n\t\t},\n\t\trandomElement: function randomElement(arr) {\n\t\t\tvar randomKey = arrayUtils.randomKey(arr);\n\t\t\treturn arr[randomKey];\n\t\t},\n\t\tfindObjectByKey: function findObjectByKey(array, field, value) {\n\t\t\treturn array.find(function (element) {\n\t\t\t\treturn element.hasOwnProperty(field) && element[field] === value;\n\t\t\t});\n\t\t}\n\t};\n\t\n\tvar objectUtils = {\n\t\trandomElement: function randomElement(obj) {\n\t\t\tcheckObj(obj);\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tvar randomKey = arrayUtils.randomElement(keys);\n\t\t\treturn obj[randomKey];\n\t\t}\n\t};\n\t\n\tvar stringUtils = {\n\t\tcamelCaseToHuman: function camelCaseToHuman(str) {\n\t\t\t// \\d - any digit 0..9 and other locals\n\t\t\tvar reg = /([a-z])([A-Z])/g;\n\t\t\tvar template = '$1 $2';\n\t\t\tvar splitter = ' ';\n\t\n\t\t\treturn str.replace(reg, template).split(splitter).map(function (w) {\n\t\t\t\treturn stringUtils.firstUpper(w);\n\t\t\t}).join(splitter);\n\t\t},\n\t\tfirstUpper: function firstUpper(str) {\n\t\t\treturn '' + str[0].toUpperCase() + str.slice(1).toLowerCase();\n\t\t}\n\t};\n\t\n\tvar selectionUtils = {\n\t\t/**\r\n\t  * @param {Object} obj\r\n\t  * @param {(field: object) => number} fn - weight getter. Should be between 0 and 1\r\n\t  * @returns {string}\r\n\t  */\n\t\tgetRandomKey: function getRandomKey(obj) {\n\t\t\tvar fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (x) {\n\t\t\t\treturn x;\n\t\t\t};\n\t\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tvar weights = Object.values(obj).map(function (value) {\n\t\t\t\treturn fn(value) * 100;\n\t\t\t});\n\t\t\treturn selectionUtils._roulette(keys, weights);\n\t\t},\n\t\tgetRandomKeyByWeight: function getRandomKeyByWeight(obj) {\n\t\t\treturn selectionUtils.getRandomKey(obj, function (x) {\n\t\t\t\treturn x.weight;\n\t\t\t});\n\t\t},\n\t\t_roulette: function _roulette(keys, weights) /*: string (key)*/{\n\t\t\tvar rouletteArray = [];\n\t\n\t\t\tkeys.forEach(function (key, i) {\n\t\t\t\trouletteArray = rouletteArray.concat(arrayUtils.make(key, weights[i]));\n\t\t\t});\n\t\n\t\t\tvar index = numberUtils.randomBetween(rouletteArray.length);\n\t\t\treturn rouletteArray[index];\n\t\t}\n\t};\n\t\n\tvar randomUtils = exports.randomUtils = {\n\t\theadsOrTails: function headsOrTails() {\n\t\t\treturn Math.random() > 0.5;\n\t\t}\n\t};\n\t\n\t// https://gist.github.com/jed/982883\n\tvar uuid = exports.uuid = function uuid(a) {\n\t\treturn a ? (a ^ Math.random() * 16 >> a / 4).toString(16) : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, uuid);\n\t};\n\t\n\texports.objUtils = objectUtils;\n\texports.numberUtils = numberUtils;\n\texports.stringUtils = stringUtils;\n\texports.selectionUtils = selectionUtils;\n\n/***/ },\n\n/***/ 611:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PAUSE = 0;\n\tvar HOLD = -1;\n\t\n\tvar NotesUtils = function () {\n\t\tfunction NotesUtils() {\n\t\t\t_classCallCheck(this, NotesUtils);\n\t\t}\n\t\n\t\t_createClass(NotesUtils, [{\n\t\t\tkey: \"toRhythm\",\n\t\n\t\t\t/*\r\n\t  \t[1, -2, 3, 1, 1] where 1 is 1/8 and \"-\" is pause\r\n\t  */\n\t\t\t// TODO: redo fitness and this creepy logic\n\t\t\tvalue: function toRhythm(data) {\n\t\t\t\tvar result = [];\n\t\t\t\tvar bar = undefined;\n\t\n\t\t\t\tdata.forEach(function (item, i) {\n\t\t\t\t\tif (i % 8 === 0) {\n\t\t\t\t\t\tif (bar) {\n\t\t\t\t\t\t\tresult.push(bar);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbar = [];\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (item === PAUSE) {\n\t\t\t\t\t\tbar.push(-1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (item === HOLD && bar.length) {\n\t\t\t\t\t\tvar prevIndex = bar.length - 1;\n\t\t\t\t\t\tvar prevValue = bar[prevIndex];\n\t\t\t\t\t\tbar[prevIndex] = prevValue > 0 ? prevValue + 1 : prevValue - 1;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbar.push(1);\n\t\t\t\t});\n\t\t\t\tresult.push(bar);\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"toPitch\",\n\t\t\tvalue: function toPitch(data) {\n\t\t\t\tvar ignoreOctaves = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t\t\t\tvar result = [];\n\t\t\t\tvar bar = undefined;\n\t\n\t\t\t\tdata.forEach(function (item, i) {\n\t\t\t\t\tif (i % 8 === 0) {\n\t\t\t\t\t\tif (bar) {\n\t\t\t\t\t\t\tresult.push(bar);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbar = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (item === PAUSE || item === HOLD) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbar.push(ignoreOctaves ? item % 7 : item);\n\t\t\t\t});\n\t\n\t\t\t\tif (bar.length) {\n\t\t\t\t\tresult.push(bar);\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn NotesUtils;\n\t}();\n\t\n\texports.default = new NotesUtils();\n\n/***/ },\n\n/***/ 612:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.changeOptions = changeOptions;\n\tvar OPTIONS_CHANGE_ACTION = exports.OPTIONS_CHANGE_ACTION = 'optionsChangeAction';\n\t\n\tfunction changeOptions(optionsPath, value) {\n\t\treturn {\n\t\t\ttype: OPTIONS_CHANGE_ACTION,\n\t\t\toptionsPath: optionsPath,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n/***/ },\n\n/***/ 613:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * @description Provides calculation fn\r\n\t * 1) Once (current fitness, crossover)\r\n\t * 2) New everytime (mutations)\r\n\t */\n\tvar BaseCalculateProvider = function () {\n\t\tfunction BaseCalculateProvider(allPlugins, initialState, name) {\n\t\t\t_classCallCheck(this, BaseCalculateProvider);\n\t\n\t\t\tthis._all = allPlugins;\n\t\t\tthis._providerName = name; // Mutation, Crossover, Fitness. (any Genetic Operator)\n\t\t\tthis._registerInStore(initialState);\n\t\t}\n\t\n\t\t/**\r\n\t  * @description Gets run function once\r\n\t  */\n\t\n\t\n\t\t_createClass(BaseCalculateProvider, [{\n\t\t\tkey: 'getRunOnce',\n\t\t\tvalue: function getRunOnce(options) {\n\t\t\t\tvar _getKeyAndFunction2 = this._getKeyAndFunction(options),\n\t\t\t\t    fn = _getKeyAndFunction2.fn,\n\t\t\t\t    key = _getKeyAndFunction2.key;\n\t\n\t\t\t\tvar settings = options[key];\n\t\n\t\t\t\treturn function () {\n\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn fn.run.apply(fn, _toConsumableArray(args.concat(settings)));\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getRunRandom',\n\t\t\tvalue: function getRunRandom(options) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\treturn function () {\n\t\t\t\t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\t\targs[_key2] = arguments[_key2];\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar _getKeyAndFunction3 = _this._getKeyAndFunction(options),\n\t\t\t\t\t    fn = _getKeyAndFunction3.fn,\n\t\t\t\t\t    key = _getKeyAndFunction3.key;\n\t\n\t\t\t\t\tvar argsExtended = args.concat(options[key]);\n\t\t\t\t\treturn fn.run.apply(fn, _toConsumableArray(argsExtended));\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getKeyAndFunction',\n\t\t\tvalue: function _getKeyAndFunction(options) {\n\t\t\t\tvar key = this._getKey(options);\n\t\t\t\tvar fn = this._getFunction(key);\n\t\t\t\treturn { key: key, fn: fn };\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getKey',\n\t\t\tvalue: function _getKey(options) {\n\t\t\t\treturn _utils.selectionUtils.getRandomKeyByWeight(options);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getFunction',\n\t\t\tvalue: function _getFunction(key) {\n\t\t\t\treturn this._all[key];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_registerInStore',\n\t\t\tvalue: function _registerInStore(initialState) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tinitialState[this._providerName] = {};\n\t\t\t\tObject.keys(this._all).map(function (key) {\n\t\t\t\t\treturn _this2._all[key];\n\t\t\t\t}).forEach(function (_ref) {\n\t\t\t\t\tvar name = _ref.name,\n\t\t\t\t\t    getInitialState = _ref.getInitialState;\n\t\t\t\t\treturn initialState[_this2._providerName][name] = getInitialState();\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn BaseCalculateProvider;\n\t}();\n\t\n\texports.default = BaseCalculateProvider;\n\n/***/ },\n\n/***/ 614:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _BaseCalculateProvider = __webpack_require__(613);\n\t\n\tvar _BaseCalculateProvider2 = _interopRequireDefault(_BaseCalculateProvider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CompositeCalculateProvider = function (_BaseCalculateProvide) {\n\t\t_inherits(CompositeCalculateProvider, _BaseCalculateProvide);\n\t\n\t\tfunction CompositeCalculateProvider() {\n\t\t\t_classCallCheck(this, CompositeCalculateProvider);\n\t\n\t\t\treturn _possibleConstructorReturn(this, (CompositeCalculateProvider.__proto__ || Object.getPrototypeOf(CompositeCalculateProvider)).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(CompositeCalculateProvider, [{\n\t\t\tkey: 'getRunOnce',\n\t\n\t\t\t/**\r\n\t   * @description Gets run function once\r\n\t   */\n\t\t\tvalue: function getRunOnce(options) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\t// get bounded fn and keys * weights\n\t\n\t\t\t\tvar MAX_WEIGHT = Object.keys(options).map(function (k) {\n\t\t\t\t\treturn options[k].weight;\n\t\t\t\t}).reduce(function (sum, weight) {\n\t\t\t\t\treturn sum + weight;\n\t\t\t\t}, 0);\n\t\n\t\t\t\tvar keyWeightRaw = (0, _lodash2.default)(options).pickBy(function (_ref) {\n\t\t\t\t\tvar weight = _ref.weight;\n\t\t\t\t\treturn weight > 0;\n\t\t\t\t});\n\t\n\t\t\t\tvar keyWeight = keyWeightRaw.mapValues(function (v) {\n\t\t\t\t\treturn v.weight / MAX_WEIGHT;\n\t\t\t\t}).value();\n\t\n\t\t\t\t// NOTE: pick first provider with _important key if it's here\n\t\t\t\t// TODO: DEBUG {\n\t\t\t\t{\n\t\t\t\t\tvar debugKeyWeight = Object.keys(options).reduce(function (reducer, key) {\n\t\t\t\t\t\tvar _important = options[key]._important;\n\t\n\t\n\t\t\t\t\t\tif (reducer.found) {\n\t\t\t\t\t\t\treturn reducer;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (_important) {\n\t\t\t\t\t\t\treducer.found = true;\n\t\t\t\t\t\t\treducer.value[key] = 1;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\treturn reducer;\n\t\t\t\t\t}, { found: false, value: {} }).value;\n\t\t\t\t\tif (!_lodash2.default.isEmpty(debugKeyWeight)) {\n\t\t\t\t\t\tkeyWeight = debugKeyWeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// }\n\t\n\t\t\t\tvar fnsAndWeight = Object.keys(keyWeight).reduce(function (reducer, key) {\n\t\t\t\t\tvar settings = options[key];\n\t\t\t\t\tvar weight = keyWeight[key];\n\t\t\t\t\tvar _fn = _this2._all[key].run;\n\t\n\t\t\t\t\treturn _extends({}, reducer, _defineProperty({}, key, {\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\tweight: weight,\n\t\t\t\t\t\tfn: function fn() {\n\t\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\treturn _fn.apply(undefined, [].concat(args, [settings]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}, {});\n\t\n\t\t\t\treturn function () {\n\t\t\t\t\tfor (var _len2 = arguments.length, data = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\t\tdata[_key2] = arguments[_key2];\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn Object.keys(fnsAndWeight).map(function (k) {\n\t\t\t\t\t\treturn fnsAndWeight[k];\n\t\t\t\t\t}).reduce(function (reducer, _ref2) {\n\t\t\t\t\t\tvar fn = _ref2.fn,\n\t\t\t\t\t\t    weight = _ref2.weight,\n\t\t\t\t\t\t    key = _ref2.key;\n\t\n\t\t\t\t\t\tvar value = fn.apply(undefined, data) * weight;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tvalue: value + reducer.value,\n\t\t\t\t\t\t\tfull: _extends({}, reducer.full, _defineProperty({}, key, value))\n\t\t\t\t\t\t};\n\t\t\t\t\t}, {\n\t\t\t\t\t\tvalue: 0,\n\t\t\t\t\t\tfull: {}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getRunRandom',\n\t\t\tvalue: function getRunRandom() {\n\t\t\t\tthrow new Error('CompositeCalculateProvider use only run once fn');\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn CompositeCalculateProvider;\n\t}(_BaseCalculateProvider2.default);\n\t\n\texports.default = CompositeCalculateProvider;\n\n/***/ },\n\n/***/ 615:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t// NOTE: populated by plugins, etc\n\tvar initialState = {\n\t\tGA: {}\n\t};\n\texports.default = initialState;\n\n/***/ },\n\n/***/ 616:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction createPortion(source, point) {\n\t\treturn [source.slice(0, point), source.slice(point)];\n\t}\n\t\n\tfunction crossover(a, b) {\n\t\tvar point = _utils.numberUtils.randomBetween(a.length);\n\t\tvar aPortions = createPortion(a, point);\n\t\tvar bPortions = createPortion(b, point);\n\t\n\t\tif (Math.random() > 0.5) {\n\t\t\treturn [].concat(aPortions[0], bPortions[1]);\n\t\t} else {\n\t\t\treturn [].concat(bPortions[0], aPortions[1]);\n\t\t}\n\t}\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0.5 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'one-point-crossover',\n\t\trun: crossover,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 617:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction createPortion(source, firstPoint, secondPoint) {\n\t\treturn [source.slice(0, firstPoint), source.slice(firstPoint, secondPoint), source.slice(secondPoint)];\n\t}\n\t\n\tfunction crossover(a, b) {\n\t\tvar result = [];\n\t\tvar firstPoint = _utils.numberUtils.randomBetween(a.length);\n\t\tvar secondPoint = _utils.numberUtils.randomBetween(a.length);\n\t\tvar aUsed = false;\n\t\tvar bUsed = false;\n\t\n\t\twhile (secondPoint === firstPoint) {\n\t\t\tsecondPoint = _utils.numberUtils.randomBetween(a.length);\n\t\t}\n\t\n\t\tif (firstPoint > secondPoint) {\n\t\t\tvar temp = firstPoint;\n\t\t\tfirstPoint = secondPoint;\n\t\t\tsecondPoint = temp;\n\t\t}\n\t\n\t\tvar aPortions = createPortion(a, firstPoint, secondPoint);\n\t\tvar bPortions = createPortion(b, firstPoint, secondPoint);\n\t\n\t\tfor (var i = 0, l = aPortions.length; i < l; i++) {\n\t\t\tif (i === l - 1) {\n\t\t\t\tif (!bUsed) {\n\t\t\t\t\tresult = result.concat(bPortions[i]);\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (!aUsed) {\n\t\t\t\t\tresult = result.concat(aPortions[i]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (_utils.randomUtils.headsOrTails()) {\n\t\t\t\tresult = result.concat(aPortions[i]);\n\t\t\t\taUsed = true;\n\t\t\t} else {\n\t\t\t\tresult = result.concat(bPortions[i]);\n\t\t\t\tbUsed = true;\n\t\t\t}\n\t\t}\n\t\n\t\treturn result;\n\t}\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0.7 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'two-point-crossover',\n\t\tgetInitialState: getInitialState,\n\t\trun: crossover\n\t};\n\n/***/ },\n\n/***/ 618:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction crossover(a, b) {\n\t\tvar clone = b.slice();\n\t\tvar indexes = _utils.arrayUtils.getRandomIndexes(a.length / 2, a.length);\n\t\n\t\tindexes.forEach(function (index) {\n\t\t\tclone[index] = a[index];\n\t\t});\n\t\n\t\treturn clone;\n\t}\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0.5 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'random-crossover',\n\t\trun: crossover,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 619:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Component = exports.run = undefined;\n\t\n\tvar _createProvider2 = __webpack_require__(606);\n\t\n\tvar _createProvider3 = _interopRequireDefault(_createProvider2);\n\t\n\tvar _changeDurationMutation = __webpack_require__(620);\n\t\n\tvar _changeDurationMutation2 = _interopRequireDefault(_changeDurationMutation);\n\t\n\tvar _copyPasteMutation = __webpack_require__(627);\n\t\n\tvar _copyPasteMutation2 = _interopRequireDefault(_copyPasteMutation);\n\t\n\tvar _orderMutation = __webpack_require__(632);\n\t\n\tvar _orderMutation2 = _interopRequireDefault(_orderMutation);\n\t\n\tvar _randomMutation = __webpack_require__(633);\n\t\n\tvar _randomMutation2 = _interopRequireDefault(_randomMutation);\n\t\n\tvar _reverseMutation = __webpack_require__(634);\n\t\n\tvar _reverseMutation2 = _interopRequireDefault(_reverseMutation);\n\t\n\tvar _sortMutation = __webpack_require__(635);\n\t\n\tvar _sortMutation2 = _interopRequireDefault(_sortMutation);\n\t\n\tvar _swap2Mutation = __webpack_require__(637);\n\t\n\tvar _swap2Mutation2 = _interopRequireDefault(_swap2Mutation);\n\t\n\tvar _swapGroupMutation = __webpack_require__(638);\n\t\n\tvar _swapGroupMutation2 = _interopRequireDefault(_swapGroupMutation);\n\t\n\tvar _transposeMutation = __webpack_require__(639);\n\t\n\tvar _transposeMutation2 = _interopRequireDefault(_transposeMutation);\n\t\n\tvar _upAndDownMutation = __webpack_require__(641);\n\t\n\tvar _upAndDownMutation2 = _interopRequireDefault(_upAndDownMutation);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _createProvider = (0, _createProvider3.default)('mutation', [_changeDurationMutation2.default, _copyPasteMutation2.default, _orderMutation2.default, _randomMutation2.default, _reverseMutation2.default, _sortMutation2.default, _swap2Mutation2.default, _swapGroupMutation2.default, _transposeMutation2.default, _upAndDownMutation2.default], true /* random run on every request */);\n\t\n\tvar run = _createProvider.run,\n\t    Component = _createProvider.Component;\n\texports.run = run;\n\texports.Component = Component;\n\n/***/ },\n\n/***/ 620:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _Composition = __webpack_require__(621);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tvar _NotesConverter = __webpack_require__(622);\n\t\n\tvar _NotesConverter2 = _interopRequireDefault(_NotesConverter);\n\t\n\tvar _Note = __webpack_require__(623);\n\t\n\tvar _Note2 = _interopRequireDefault(_Note);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultOptions = {\n\t\tcount: 64\n\t};\n\t\n\t// TODO: class vs functions combination\n\t\n\tvar ChangeDuration = function () {\n\t\tfunction ChangeDuration() {\n\t\t\t_classCallCheck(this, ChangeDuration);\n\t\t}\n\t\n\t\t_createClass(ChangeDuration, [{\n\t\t\tkey: 'mutate',\n\t\t\tvalue: function mutate(data) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\n\t\t\t\tvar composition = new _Composition2.default(data);\n\t\t\t\tvar bars = composition.bars();\n\t\n\t\t\t\tvar newBars = bars.map(function (bar) {\n\t\t\t\t\tvar countOfIndexes = Math.floor(options.count / bars.length);\n\t\t\t\t\tvar maxIndex = bar.length - 1 - 1; //we need neighbor\n\t\n\t\n\t\t\t\t\tif (countOfIndexes >= maxIndex) {\n\t\t\t\t\t\treturn bar;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _utils.arrayUtils.getRandomIndexes(countOfIndexes, maxIndex).reduce(function (store, mutateIndex) {\n\t\t\t\t\t\t// If random index exist before but now array (bar) became smaller so we don't have it\n\t\t\t\t\t\tif (!store[mutateIndex + 1]) {\n\t\t\t\t\t\t\treturn store;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar mutateNotes = [store[mutateIndex].clone(), store[mutateIndex + 1].clone()];\n\t\t\t\t\t\treturn [].concat(_toConsumableArray(store.slice(0, mutateIndex).map(function (n) {\n\t\t\t\t\t\t\treturn n.clone();\n\t\t\t\t\t\t})), _toConsumableArray(_this._mutateOne.apply(_this, mutateNotes)), _toConsumableArray(store.slice(mutateIndex + 2)));\n\t\t\t\t\t}, bar);\n\t\t\t\t});\n\t\n\t\t\t\treturn _NotesConverter2.default.fromBarsToRaw(newBars);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @param  {Note} a [description]\r\n\t   * @param  {Note} b [description]\r\n\t   * @return {[Note, Note] | [Note]}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_mutateOne',\n\t\t\tvalue: function _mutateOne(a, b) {\n\t\t\t\tvar inverse = false;\n\t\n\t\t\t\tif (Math.random() < 0.5) {\n\t\t\t\t\tinverse = true;\n\t\t\t\t\tvar _ref = [b, a];\n\t\t\t\t\ta = _ref[0];\n\t\t\t\t\tb = _ref[1];\n\t\t\t\t}\n\t\n\t\t\t\tvar newA = _Note2.default.create(a.value(), a.length() + 1);\n\t\n\t\t\t\tif (b.length() === 1) {\n\t\t\t\t\treturn [newA];\n\t\t\t\t}\n\t\n\t\t\t\tvar newB = _Note2.default.create(b.value(), b.length() - 1);\n\t\t\t\treturn inverse ? [newB, newA] : [newA, newB];\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn ChangeDuration;\n\t}();\n\t\n\tvar instance = new ChangeDuration();\n\t\n\tvar run = instance.mutate.bind(instance);\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: 16,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 0.4,\n\t\t\tcount: 7\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'change-duration-mutation',\n\t\trun: run,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 621:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _NotesConverter = __webpack_require__(622);\n\t\n\tvar _NotesConverter2 = _interopRequireDefault(_NotesConverter);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Composition = function () {\n\t\t_createClass(Composition, null, [{\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(raw, barLength) {\n\t\t\t\treturn new Composition(raw, barLength);\n\t\t\t}\n\t\t}]);\n\t\n\t\tfunction Composition(raw) {\n\t\t\tvar barLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _MusicContext2.default.getBarLength();\n\t\n\t\t\t_classCallCheck(this, Composition);\n\t\n\t\t\tif (!Array.isArray(raw)) {\n\t\t\t\tthrow 'Invalid argument raw: ' + raw + ', should be an array of numbers';\n\t\t\t}\n\t\n\t\t\tthis._barLength = barLength;\n\t\t\tthis._raw = null;\n\t\t\tthis._notes = null;\n\t\t\tthis._bars = null;\n\t\n\t\t\tthis._updateState(raw);\n\t\t}\n\t\n\t\t_createClass(Composition, [{\n\t\t\tkey: 'length',\n\t\t\tvalue: function length() {\n\t\t\t\treturn this._notes.length;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bars',\n\t\t\tvalue: function bars() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar result = [];\n\t\t\t\tvar bar = [];\n\t\t\t\tvar counter = 0;\n\t\n\t\t\t\tthis._notes.forEach(function (note) {\n\t\t\t\t\tcounter += note.length();\n\t\t\t\t\tbar.push(note.clone());\n\t\n\t\t\t\t\tconsole.assert(counter <= _this._barLength, 'Counter: ' + counter + ' but should be less than ' + _this._barLength);\n\t\t\t\t\tif (counter === _this._barLength) {\n\t\t\t\t\t\tcounter = 0;\n\t\t\t\t\t\tresult.push(bar);\n\t\t\t\t\t\tbar = [];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'rawBars',\n\t\t\tvalue: function rawBars() {\n\t\t\t\treturn this.bars().map(function (bar) {\n\t\t\t\t\treturn bar.reduce(function (reducer, note) {\n\t\t\t\t\t\treturn [].concat(_toConsumableArray(reducer), _toConsumableArray(note.toRaw()));\n\t\t\t\t\t}, []);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'raw',\n\t\t\tvalue: function raw() {\n\t\t\t\treturn this._raw.slice();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_updateState',\n\t\t\tvalue: function _updateState(raw) {\n\t\t\t\tthis._raw = raw.slice();\n\t\t\t\tthis._notes = _NotesConverter2.default.toNotes(this._raw);\n\t\t\t\tthis._bars = this.bars();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Composition;\n\t}();\n\t\n\texports.default = Composition;\n\n/***/ },\n\n/***/ 622:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Note = __webpack_require__(623);\n\t\n\tvar _Note2 = _interopRequireDefault(_Note);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar NotesConverter = function () {\n\t\tfunction NotesConverter() {\n\t\t\t_classCallCheck(this, NotesConverter);\n\t\n\t\t\tthis._PAUSE = 0;\n\t\t\tthis._HOLD = -1;\n\t\t}\n\t\n\t\t_createClass(NotesConverter, [{\n\t\t\tkey: 'toNotes',\n\t\t\tvalue: function toNotes(raw) {\n\t\t\t\tvar result = [];\n\t\t\t\tvar previousNoteValue = 0;\n\t\n\t\t\t\tfor (var i = 0, l = raw.length; i < l; i++) {\n\t\t\t\t\tvar item = raw[i];\n\t\n\t\t\t\t\t// If first item is hold\n\t\t\t\t\tif (i === 0 && item === this._HOLD) {\n\t\t\t\t\t\t//console.warn('First note is hold! Something wrong, replace it with pause');\n\t\t\t\t\t\tresult.push(_Note2.default.create(0, 1, false));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// If Hold on first note of bars\n\t\t\t\t\tif (item === this._HOLD && i % 8 === 0) {\n\t\t\t\t\t\tresult.push(_Note2.default.create(previousNoteValue, 1, true));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (item === this._HOLD) {\n\t\t\t\t\t\tvar last = result.pop();\n\t\t\t\t\t\tresult.push(_Note2.default.create(last.value(), last.length() + 1, false));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tpreviousNoteValue = item;\n\t\t\t\t\tresult.push(_Note2.default.create(item, 1, false));\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fromBarsToRaw',\n\t\t\tvalue: function fromBarsToRaw(bars) {\n\t\t\t\tvar result = [];\n\t\n\t\t\t\tbars.forEach(function (bar) {\n\t\t\t\t\tbar.forEach(function (n) {\n\t\t\t\t\t\tresult = result.concat(n.toRaw());\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn NotesConverter;\n\t}();\n\t\n\texports.default = new NotesConverter();\n\n/***/ },\n\n/***/ 623:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); //#technical_debt value in range [-1 .. 14]\n\t\n\t\n\tvar _common = __webpack_require__(624);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PAUSE = 0;\n\tvar NOTES_IN_OCTAVE = 7;\n\t\n\tvar Note = function () {\n\t\tfunction Note(value) {\n\t\t\tvar length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\t\t\tvar legato = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t\t\t_classCallCheck(this, Note);\n\t\n\t\t\tif (value < 0 || _common.availableValues.indexOf(value) === -1) {\n\t\t\t\tthrow 'Invalid argument value: ' + value;\n\t\t\t}\n\t\n\t\t\tif (!Number.isInteger(length) || length <= 0) {\n\t\t\t\tthrow 'Invalid argument length: ' + length;\n\t\t\t}\n\t\n\t\t\tthis._value = value;\n\t\t\tthis._length = length;\n\t\t\tthis._legato = legato;\n\t\t}\n\t\n\t\t_createClass(Note, [{\n\t\t\tkey: 'clone',\n\t\t\tvalue: function clone() {\n\t\t\t\treturn new Note(this._value, this._length, this._legato);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'pitch',\n\t\t\tvalue: function pitch() {\n\t\t\t\tvar ignoreOctave = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\t\n\t\t\t\tif (!this.isNote()) {\n\t\t\t\t\tthrow 'Current note is pause';\n\t\t\t\t}\n\t\n\t\t\t\treturn ignoreOctave ? this._value % NOTES_IN_OCTAVE : this._value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'value',\n\t\t\tvalue: function value() {\n\t\t\t\treturn this._value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'length',\n\t\t\tvalue: function length() {\n\t\t\t\treturn this._length;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isNote',\n\t\t\tvalue: function isNote() {\n\t\t\t\treturn this._value > PAUSE;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isPause',\n\t\t\tvalue: function isPause() {\n\t\t\t\treturn this._value === PAUSE;\n\t\t\t}\n\t\n\t\t\t// TODO: redo with reduce ... that's unreadable\n\t\n\t\t}, {\n\t\t\tkey: 'toRaw',\n\t\t\tvalue: function toRaw() {\n\t\t\t\tvar result = [this._value];\n\t\n\t\t\t\tif (this._length > 1) {\n\t\t\t\t\tvar count = this._length - 1;\n\t\t\t\t\twhile (count > 0) {\n\t\t\t\t\t\tcount--;\n\t\t\t\t\t\tresult.push(-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\n\t\t\t//Immutable\n\t\t\t/**\r\n\t   * @param  {Number} howMuch\r\n\t   * @return {Note}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'increaseLength',\n\t\t\tvalue: function increaseLength() {\n\t\t\t\tvar howMuch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\t\n\t\t\t\treturn this._changeLength(howMuch);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @param  {Number} howMuch\r\n\t   * @return {Note}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'decreaseLength',\n\t\t\tvalue: function decreaseLength() {\n\t\t\t\tvar howMuch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\t\n\t\t\t\tif (this._length === 1) {\n\t\t\t\t\tthrow 'Length can not be less than 1';\n\t\t\t\t}\n\t\t\t\treturn this._changeLength(-howMuch);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @param  {Number} howMuch\r\n\t   * @return {Note}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_changeLength',\n\t\t\tvalue: function _changeLength(howMuch) {\n\t\t\t\treturn Note.create(this._value, this._length + howMuch);\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(value, length, legato) {\n\t\t\t\treturn new Note(value, length, legato);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Note;\n\t}();\n\t\n\texports.default = Note;\n\n/***/ },\n\n/***/ 624:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t//TODO: get it from music context?/\n\tvar availableValues = exports.availableValues = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\n\t\n\t/*\r\n\tgrid - 1/8\r\n\t-1 - previous\r\n\t0 - pause\r\n\t1 - C\r\n\t2 - D\r\n\t...\r\n\t*/\n\t//grid - 1/8\n\tvar REFERENCE_INDIVIDUAL = exports.REFERENCE_INDIVIDUAL = [3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 3, -1, 2, -1, 2, -1, 3, -1, 2, -1, -1, -1, 5, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 5, -1, 5, -1, 4, -1, 2, -1, 1, -1, -1, -1, -1, -1, -1, -1];\n\t\n\t//ЧИЖИК\n\t/*export const REFERENCE_INDIVIDUAL = [\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\t\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\t\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\t\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1\r\n\t];\r\n\t\r\n\t*/\n\tvar SOVIET = exports.SOVIET = [8, 6, -1, 8, -1, 9, -1, 12, -1, 11, -1, -1, -1, -1, -1, 11, 12, 11, -1, 10, -1, 9, -1, 12, -1, 11, -1, -1, -1, -1, -1, -1, 11, 11, -1, 10, -1, 11, -1, -1, 9, -1, -1, -1, 0, 0, 0, 0, 0, 0, 0, 5, 8, 9, 8, 7, 0, 0, 0, 0, 0, 0, 0, 6];\n\n/***/ },\n\n/***/ 625:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.HOLD = exports.PAUSE = exports.availableValuesInGF = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleStorage = __webpack_require__(626);\n\t\n\tvar _SimpleStorage2 = _interopRequireDefault(_SimpleStorage);\n\t\n\tvar _common = __webpack_require__(624);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULT_BAR_LENGTH = 8;\n\t\n\t// TODO: use MusicContext instead\n\tvar availableValuesInGF = exports.availableValuesInGF = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\n\tvar PAUSE = exports.PAUSE = 0;\n\tvar HOLD = exports.HOLD = -1;\n\t\n\t// TODO: used in composition/s jsx\n\t\n\tvar MusicContext = function () {\n\t\tfunction MusicContext() {\n\t\t\t_classCallCheck(this, MusicContext);\n\t\t}\n\t\n\t\t_createClass(MusicContext, [{\n\t\t\tkey: 'selectComposition',\n\t\t\tvalue: function selectComposition(key) {\n\t\t\t\t_SimpleStorage2.default.setCurrent(key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrentComposition',\n\t\t\tvalue: function getCurrentComposition() {\n\t\t\t\treturn _SimpleStorage2.default.getCurrent() || _common.REFERENCE_INDIVIDUAL;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrentKey',\n\t\t\tvalue: function getCurrentKey() {\n\t\t\t\treturn _SimpleStorage2.default.getCurrentKey();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCompositionLength',\n\t\t\tvalue: function getCompositionLength() {\n\t\t\t\treturn 128;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getAllCompositions',\n\t\t\tvalue: function getAllCompositions() {\n\t\t\t\treturn _SimpleStorage2.default.getKeys();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isValidName',\n\t\t\tvalue: function isValidName(name) {\n\t\t\t\treturn this.getAllCompositions().indexOf(name) === -1;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'save',\n\t\t\tvalue: function save(name, composition) {\n\t\t\t\treturn _SimpleStorage2.default.save(name, composition);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'remove',\n\t\t\tvalue: function remove(name) {\n\t\t\t\treturn _SimpleStorage2.default.remove(name);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getByKey',\n\t\t\tvalue: function getByKey(key) {\n\t\t\t\treturn _SimpleStorage2.default.getByKey(key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getDefault',\n\t\t\tvalue: function getDefault() {\n\t\t\t\treturn _SimpleStorage2.default.getDefault();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getBarLength',\n\t\t\tvalue: function getBarLength() {\n\t\t\t\t// FIXME: HARDCODE FOR NOW\n\t\t\t\treturn DEFAULT_BAR_LENGTH;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getMaxOneOctaveValue',\n\t\t\tvalue: function getMaxOneOctaveValue() {\n\t\t\t\treturn 7;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getAvailableValues',\n\t\t\tvalue: function getAvailableValues(ignoreOctaves) {\n\t\t\t\tvar maxOneOctaveValue = this.getMaxOneOctaveValue();\n\t\t\t\treturn ignoreOctaves ? availableValuesInGF.filter(function (x) {\n\t\t\t\t\treturn x <= maxOneOctaveValue;\n\t\t\t\t}) : availableValuesInGF;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getAvailablePitchValues',\n\t\t\tvalue: function getAvailablePitchValues() {\n\t\t\t\tvar excludeArray = [PAUSE, HOLD];\n\t\t\t\treturn availableValuesInGF.filter(function (x) {\n\t\t\t\t\treturn !excludeArray.includes(x);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// TODO: here for now\n\t\n\t\t}, {\n\t\t\tkey: 'getIntervalReference',\n\t\t\tvalue: function getIntervalReference() {\n\t\t\t\t//only for Cmaj in halftones\n\t\t\t\tvar INTERVAL_REFERENCE = [\n\t\t\t\t//First octave\n\t\t\t\t2, //C-D\n\t\t\t\t2, //D-E\n\t\t\t\t1, //E-F\n\t\t\t\t2, //F-G\n\t\t\t\t2, //G-A\n\t\t\t\t2, //A-B\n\t\t\t\t1, //B-C\n\t\t\t\t//Second octave\n\t\t\t\t2, //C-D\n\t\t\t\t2, //D-E\n\t\t\t\t1, //E-F\n\t\t\t\t2, //F-G\n\t\t\t\t2, //G-A\n\t\t\t\t2, //A-B\n\t\t\t\t1 //B-C\n\t\t\t\t];\n\t\n\t\t\t\treturn INTERVAL_REFERENCE;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getHalfTonesBeetween',\n\t\t\tvalue: function getHalfTonesBeetween(a, b) {\n\t\t\t\tvar intervalReference = this.getIntervalReference();\n\t\t\t\tif (a > b) {\n\t\t\t\t\tvar temp = a;\n\t\t\t\t\ta = b;\n\t\t\t\t\tb = temp;\n\t\t\t\t}\n\t\n\t\t\t\tvar arrayToSum = intervalReference.slice(a, b);\n\t\n\t\t\t\treturn arrayToSum.reduce(function (prevValue, item) {\n\t\t\t\t\treturn prevValue + item;\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn MusicContext;\n\t}();\n\t\n\texports.default = new MusicContext();\n\n/***/ },\n\n/***/ 626:\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar FIRMWARE_INDIVIDUAL_KEY = 'default';\n\tvar FIRMWARE_INDIVIDUAL = [3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 3, -1, 2, -1, 2, -1, 3, -1, 2, -1, -1, -1, 5, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 5, -1, 5, -1, 4, -1, 2, -1, 1, -1, -1, -1, -1, -1, -1, -1];\n\t\n\tvar ALL_KEY = '__all';\n\tvar CURRENT_KEY = '__current';\n\t\n\tvar localStorageInstance = global.localStorage || {\n\t\tgetItem: function getItem() {\n\t\t\treturn undefined;\n\t\t},\n\t\tsetItem: function setItem() {\n\t\t\treturn undefined;\n\t\t},\n\t\tremoveItem: function removeItem() {\n\t\t\treturn undefined;\n\t\t},\n\t\tclear: function clear() {\n\t\t\treturn undefined;\n\t\t}\n\t};\n\t\n\tvar SimpleStorage = function () {\n\t\tfunction SimpleStorage() {\n\t\t\t_classCallCheck(this, SimpleStorage);\n\t\t}\n\t\n\t\t_createClass(SimpleStorage, [{\n\t\t\tkey: 'getKeys',\n\t\t\tvalue: function getKeys() {\n\t\t\t\tvar keys = this._getKeys();\n\t\t\t\tif (!keys) {\n\t\t\t\t\treturn [FIRMWARE_INDIVIDUAL_KEY];\n\t\t\t\t}\n\t\t\t\tkeys.unshift(FIRMWARE_INDIVIDUAL_KEY);\n\t\t\t\treturn keys;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getKeys',\n\t\t\tvalue: function _getKeys() {\n\t\t\t\tvar keysRaw = localStorageInstance.getItem(ALL_KEY);\n\t\t\t\treturn JSON.parse(keysRaw);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getDefault',\n\t\t\tvalue: function getDefault() {\n\t\t\t\treturn FIRMWARE_INDIVIDUAL;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getByKey',\n\t\t\tvalue: function getByKey(key) {\n\t\t\t\tif (key === FIRMWARE_INDIVIDUAL_KEY) {\n\t\t\t\t\treturn this.getDefault();\n\t\t\t\t}\n\t\n\t\t\t\tvar compositionRaw = localStorageInstance.getItem(key);\n\t\t\t\tif (!compositionRaw) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn JSON.parse(compositionRaw);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'save',\n\t\t\tvalue: function save(key, value) {\n\t\t\t\ttry {\n\t\t\t\t\tvalue = JSON.stringify(value);\n\t\t\t\t\tlocalStorageInstance.setItem(key, value);\n\t\t\t\t\tvar prevKeys = JSON.parse(localStorageInstance.getItem(ALL_KEY)) || [];\n\t\n\t\t\t\t\tif (prevKeys.indexOf(key) === -1) {\n\t\t\t\t\t\tprevKeys.push(key);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tlocalStorageInstance.setItem(ALL_KEY, JSON.stringify(prevKeys));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('You got invalid data');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrentKey',\n\t\t\tvalue: function getCurrentKey() {\n\t\t\t\treturn localStorageInstance.getItem(CURRENT_KEY) || 'default';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrent',\n\t\t\tvalue: function getCurrent() {\n\t\t\t\treturn this.getByKey(this.getCurrentKey());\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'setCurrent',\n\t\t\tvalue: function setCurrent(key) {\n\t\t\t\tlocalStorageInstance.setItem(CURRENT_KEY, key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'remove',\n\t\t\tvalue: function remove(key) {\n\t\t\t\tvar prevKeys = JSON.parse(localStorageInstance.getItem(ALL_KEY)) || [];\n\t\t\t\tvar index = prevKeys.indexOf(key);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tprevKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tlocalStorageInstance.setItem(ALL_KEY, JSON.stringify(prevKeys));\n\t\t\t\tlocalStorageInstance.removeItem(key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'clear',\n\t\t\tvalue: function clear() {\n\t\t\t\tlocalStorageInstance.clear();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn SimpleStorage;\n\t}();\n\t\n\texports.default = new SimpleStorage();\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 627:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(628);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('copy-paste-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 2),\n\t\t    fromIndexes = _ref2[0],\n\t\t    toIndexes = _ref2[1];\n\t\n\t\tgroups.copy(fromIndexes, toIndexes);\n\t});\n\n/***/ },\n\n/***/ 628:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createCalculate = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.createGroupMutation = createGroupMutation;\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _createGroupsWithRandomOffset = __webpack_require__(629);\n\t\n\tvar _common = __webpack_require__(631);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * @description options.groupSize in percents!\r\n\t */\n\tvar createCalculate = exports.createCalculate = function createCalculate(fn) {\n\t\treturn function (data, options) {\n\t\t\tif (!(Array.isArray(data) && data.every(function (item) {\n\t\t\t\treturn typeof item === 'number';\n\t\t\t}))) {\n\t\t\t\tthrow new TypeError('Value of argument \"data\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(data));\n\t\t\t}\n\t\n\t\t\tif (!(options != null && typeof options.groupSize === 'number' && typeof options.count === 'number')) {\n\t\t\t\tthrow new TypeError('Value of argument \"options\" violates contract.\\n\\nExpected:\\n{\\n  groupSize: number;\\n  count: number;\\n}\\n\\nGot:\\n' + _inspect(options));\n\t\t\t}\n\t\n\t\t\tvar size = data.length;\n\t\t\tvar groupsCount = options.count;\n\t\t\tvar groupSize = (0, _common.fromPercentToValue)(size, options.groupSize);\n\t\n\t\t\t// 1. Validation\n\t\t\t(0, _common.validateGroupsInput)(size, groupSize, groupsCount);\n\t\n\t\t\t// 2. Create groups\n\t\t\tvar groups = (0, _createGroupsWithRandomOffset.createGroupsWithRandomOffset)(data, groupSize);\n\t\n\t\t\t// 3. Generate random indexes\n\t\n\t\t\tvar _getGroupsIndexes = (0, _common.getGroupsIndexes)(groupsCount, groups.length()),\n\t\t\t    _getGroupsIndexes2 = _slicedToArray(_getGroupsIndexes, 2),\n\t\t\t    fromIndexes = _getGroupsIndexes2[0],\n\t\t\t    toIndexes = _getGroupsIndexes2[1];\n\t\n\t\t\t// 4. Do something with indexes and group\n\t\n\t\n\t\t\tfn(groups, [fromIndexes, toIndexes], options);\n\t\n\t\t\treturn groups.toRaw();\n\t\t};\n\t};\n\t\n\tvar render = function render(_ref, onblur) {\n\t\tvar count = _ref.count,\n\t\t    groupSize = _ref.groupSize;\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: count,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'count',\n\t\t\t\ttitle: 'Count of groups',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 10,\n\t\t\t\tstep: 1\n\t\t\t}),\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: groupSize,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'groupSize',\n\t\t\t\ttitle: 'Group size in percents',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 100,\n\t\t\t\tstep: 1\n\t\t\t})\n\t\t);\n\t};\n\t\n\tvar initialState = {\n\t\tweight: 0.2,\n\t\tgroupSize: 5,\n\t\tcount: 2\n\t};\n\t\n\tfunction createGroupMutation(name, fn) {\n\t\tvar state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : initialState;\n\t\n\t\treturn {\n\t\t\tname: name,\n\t\t\trun: createCalculate(fn),\n\t\t\trender: render,\n\t\t\tgetInitialState: function getInitialState() {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t};\n\t}\n\t\n\tfunction _inspect(input, depth) {\n\t\tvar maxDepth = 4;\n\t\tvar maxKeys = 15;\n\n\t\tif (depth === undefined) {\n\t\t\tdepth = 0;\n\t\t}\n\n\t\tdepth += 1;\n\n\t\tif (input === null) {\n\t\t\treturn 'null';\n\t\t} else if (input === undefined) {\n\t\t\treturn 'void';\n\t\t} else if (typeof input === 'string' || typeof input === 'number' || typeof input === 'boolean') {\n\t\t\treturn typeof input === 'undefined' ? 'undefined' : _typeof(input);\n\t\t} else if (Array.isArray(input)) {\n\t\t\tif (input.length > 0) {\n\t\t\t\tvar _ret = function () {\n\t\t\t\t\tif (depth > maxDepth) return {\n\t\t\t\t\t\t\tv: '[...]'\n\t\t\t\t\t\t};\n\n\t\t\t\t\tvar first = _inspect(input[0], depth);\n\n\t\t\t\t\tif (input.every(function (item) {\n\t\t\t\t\t\treturn _inspect(item, depth) === first;\n\t\t\t\t\t})) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: first.trim() + '[]'\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: '[' + input.slice(0, maxKeys).map(function (item) {\n\t\t\t\t\t\t\t\treturn _inspect(item, depth);\n\t\t\t\t\t\t\t}).join(', ') + (input.length >= maxKeys ? ', ...' : '') + ']'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}();\n\n\t\t\t\tif ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t\t\t} else {\n\t\t\t\treturn 'Array';\n\t\t\t}\n\t\t} else {\n\t\t\tvar keys = Object.keys(input);\n\n\t\t\tif (!keys.length) {\n\t\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\t\treturn input.constructor.name;\n\t\t\t\t} else {\n\t\t\t\t\treturn 'Object';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (depth > maxDepth) return '{...}';\n\t\t\tvar indent = '  '.repeat(depth - 1);\n\t\t\tvar entries = keys.slice(0, maxKeys).map(function (key) {\n\t\t\t\treturn (/^([A-Z_$][A-Z0-9_$]*)$/i.test(key) ? key : JSON.stringify(key)) + ': ' + _inspect(input[key], depth) + ';';\n\t\t\t}).join('\\n  ' + indent);\n\n\t\t\tif (keys.length >= maxKeys) {\n\t\t\t\tentries += '\\n  ' + indent + '...';\n\t\t\t}\n\n\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\treturn input.constructor.name + ' {\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t} else {\n\t\t\t\treturn '{\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t}\n\t\t}\n\t}\n\n/***/ },\n\n/***/ 629:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createGroupsWithRandomOffset = createGroupsWithRandomOffset;\n\t\n\tvar _Groups = __webpack_require__(630);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction getMaxOffset(size, groupSize) {\n\t\treturn size % groupSize;\n\t}\n\t\n\tfunction createGroupsWithRandomOffset(data, groupSize) {\n\t\tvar maxOffset = getMaxOffset(data.length, groupSize);\n\t\tvar offset = _utils.numberUtils.randomBetween(0, maxOffset + 1);\n\t\treturn new _Groups.Groups(data, groupSize, offset);\n\t}\n\n/***/ },\n\n/***/ 630:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Groups = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Groups = exports.Groups = function () {\n\t\t_createClass(Groups, null, [{\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(data, size) {\n\t\t\t\tvar offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\t\n\t\t\t\tif (!(Array.isArray(data) && data.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"data\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(data));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(typeof size === 'number')) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"size\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(size));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(typeof offset === 'number')) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"offset\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(offset));\n\t\t\t\t}\n\t\n\t\t\t\treturn new Groups(data, size, offset);\n\t\t\t}\n\t\t}]);\n\t\n\t\tfunction Groups(data, size) {\n\t\t\tvar offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\t\n\t\t\t_classCallCheck(this, Groups);\n\t\n\t\t\tif (!(Array.isArray(data) && data.every(function (item) {\n\t\t\t\treturn typeof item === 'number';\n\t\t\t}))) {\n\t\t\t\tthrow new TypeError('Value of argument \"data\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(data));\n\t\t\t}\n\t\n\t\t\tif (!(typeof size === 'number')) {\n\t\t\t\tthrow new TypeError('Value of argument \"size\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(size));\n\t\t\t}\n\t\n\t\t\tif (!(typeof offset === 'number')) {\n\t\t\t\tthrow new TypeError('Value of argument \"offset\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(offset));\n\t\t\t}\n\t\n\t\t\tthis._chunks = this._createChunks(data, size, offset);\n\t\t}\n\t\n\t\t_createClass(Groups, [{\n\t\t\tkey: 'swap',\n\t\t\tvalue: function swap(first, second) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tif (!(Array.isArray(first) && first.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"first\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(first));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(second) && second.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"second\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(second));\n\t\t\t\t}\n\t\n\t\t\t\tvar hash = this._arraysToMap(first, second);\n\t\t\t\tvar backHash = this._arraysToMap(second, first);\n\t\n\t\t\t\tthis._chunks = this._chunks.map(function (item, index) {\n\t\t\t\t\tif (hash[index]) {\n\t\t\t\t\t\treturn _this._chunks[hash[index]];\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (backHash[index]) {\n\t\t\t\t\t\treturn _this._chunks[backHash[index]];\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'copy',\n\t\t\tvalue: function copy(first, second) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tif (!(Array.isArray(first) && first.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"first\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(first));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(second) && second.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"second\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(second));\n\t\t\t\t}\n\t\n\t\t\t\tvar hash = this._arraysToMap(first, second);\n\t\t\t\tthis._chunks = this._chunks.map(function (item, index) {\n\t\t\t\t\treturn hash[index] == null ? item : _this2._chunks[hash[index]];\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'length',\n\t\t\tvalue: function length() {\n\t\t\t\tfunction _ref3(_id3) {\n\t\t\t\t\tif (!(typeof _id3 === 'number')) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(_id3));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id3;\n\t\t\t\t}\n\t\n\t\t\t\treturn _ref3(this._chunks.length);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'set',\n\t\t\tvalue: function set(index, value) {\n\t\t\t\tthis._chunks[index] = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'get',\n\t\t\tvalue: function get(index) {\n\t\t\t\treturn this._chunks[index];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'all',\n\t\t\tvalue: function all() {\n\t\t\t\treturn this._chunks;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'toRaw',\n\t\t\tvalue: function toRaw() {\n\t\t\t\tfunction _ref4(_id4) {\n\t\t\t\t\tif (!(Array.isArray(_id4) && _id4.every(function (item) {\n\t\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t\t}))) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(_id4));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id4;\n\t\t\t\t}\n\t\n\t\t\t\treturn _ref4((0, _lodash.flatten)(this._chunks));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createChunks',\n\t\t\tvalue: function _createChunks(data, size, offset) {\n\t\t\t\tfunction _ref5(_id5) {\n\t\t\t\t\tif (!(Array.isArray(_id5) && _id5.every(function (item) {\n\t\t\t\t\t\treturn Array.isArray(item) && item.every(function (item) {\n\t\t\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t\t\t});\n\t\t\t\t\t}))) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<Array<number>>\\n\\nGot:\\n' + _inspect(_id5));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id5;\n\t\t\t\t}\n\t\n\t\t\t\tvar firstChunk = data.slice(0, offset);\n\t\t\t\tvar rest = (0, _lodash.chunk)(data.slice(offset), size);\n\t\t\t\treturn _ref5(firstChunk.length ? [firstChunk].concat(_toConsumableArray(rest)) : rest);\n\t\t\t}\n\t\n\t\t\t// TODO: maybe export somewhere arrayUtils, objectUtils\n\t\n\t\t}, {\n\t\t\tkey: '_arraysToMap',\n\t\t\tvalue: function _arraysToMap(first, second) {\n\t\t\t\tfunction _ref6(_id6) {\n\t\t\t\t\tif (!(_id6 != null && (typeof _id6 === 'undefined' ? 'undefined' : _typeof(_id6)) === 'object' && Object.keys(_id6).every(function (key) {\n\t\t\t\t\t\tvar _id7 = _id6[key];\n\t\t\t\t\t\treturn typeof _id7 === 'number';\n\t\t\t\t\t}))) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\n{ [id: number]: number\\n}\\n\\nGot:\\n' + _inspect(_id6));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id6;\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(first) && first.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"first\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(first));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(second) && second.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"second\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(second));\n\t\t\t\t}\n\t\n\t\t\t\treturn _ref6(first.reduce(function (reducer, value, index) {\n\t\t\t\t\treturn _extends({}, reducer, _defineProperty({}, value, second[index]));\n\t\t\t\t}, {}));\n\t\t\t}\n\t\t}]);\n\n\t\treturn Groups;\n\t}();\n\n\tfunction _inspect(input, depth) {\n\t\tvar maxDepth = 4;\n\t\tvar maxKeys = 15;\n\n\t\tif (depth === undefined) {\n\t\t\tdepth = 0;\n\t\t}\n\n\t\tdepth += 1;\n\n\t\tif (input === null) {\n\t\t\treturn 'null';\n\t\t} else if (input === undefined) {\n\t\t\treturn 'void';\n\t\t} else if (typeof input === 'string' || typeof input === 'number' || typeof input === 'boolean') {\n\t\t\treturn typeof input === 'undefined' ? 'undefined' : _typeof(input);\n\t\t} else if (Array.isArray(input)) {\n\t\t\tif (input.length > 0) {\n\t\t\t\tvar _ret = function () {\n\t\t\t\t\tif (depth > maxDepth) return {\n\t\t\t\t\t\t\tv: '[...]'\n\t\t\t\t\t\t};\n\n\t\t\t\t\tvar first = _inspect(input[0], depth);\n\n\t\t\t\t\tif (input.every(function (item) {\n\t\t\t\t\t\treturn _inspect(item, depth) === first;\n\t\t\t\t\t})) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: first.trim() + '[]'\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: '[' + input.slice(0, maxKeys).map(function (item) {\n\t\t\t\t\t\t\t\treturn _inspect(item, depth);\n\t\t\t\t\t\t\t}).join(', ') + (input.length >= maxKeys ? ', ...' : '') + ']'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}();\n\n\t\t\t\tif ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t\t\t} else {\n\t\t\t\treturn 'Array';\n\t\t\t}\n\t\t} else {\n\t\t\tvar keys = Object.keys(input);\n\n\t\t\tif (!keys.length) {\n\t\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\t\treturn input.constructor.name;\n\t\t\t\t} else {\n\t\t\t\t\treturn 'Object';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (depth > maxDepth) return '{...}';\n\t\t\tvar indent = '  '.repeat(depth - 1);\n\t\t\tvar entries = keys.slice(0, maxKeys).map(function (key) {\n\t\t\t\treturn (/^([A-Z_$][A-Z0-9_$]*)$/i.test(key) ? key : JSON.stringify(key)) + ': ' + _inspect(input[key], depth) + ';';\n\t\t\t}).join('\\n  ' + indent);\n\n\t\t\tif (keys.length >= maxKeys) {\n\t\t\t\tentries += '\\n  ' + indent + '...';\n\t\t\t}\n\n\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\treturn input.constructor.name + ' {\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t} else {\n\t\t\t\treturn '{\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t}\n\t\t}\n\t}\n\n/***/ },\n\n/***/ 631:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.validateGroupsInput = validateGroupsInput;\n\texports.fromPercentToValue = fromPercentToValue;\n\texports.getGroupsIndexes = getGroupsIndexes;\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction validateGroupsInput(size, groupSize, groupsCount) {\n\t\tif (size < groupSize * groupsCount) {\n\t\t\tthrow new Error('Invalid groupSize: ' + groupSize + ' or groupsCount: ' + groupsCount + ' for size: ' + size);\n\t\t}\n\t}\n\t\n\tfunction fromPercentToValue(size, percent) {\n\t\treturn Math.floor(size * percent / 100);\n\t}\n\t\n\t/**\r\n\t * returns 2 groups of indexes \r\n\t */\n\tfunction getGroupsIndexes(groupsCount, groupsSize) {\n\t\t// TODO: [0, groupSize - 1] quick fix to not grab first and last indexes\n\t\tvar swapIndexes = _utils.arrayUtils.getRandomIndexes(groupsCount * 2, groupsSize, [0, groupsSize - 1]);\n\t\tvar middle = swapIndexes.length / 2;\n\t\treturn [swapIndexes.slice(0, middle), swapIndexes.slice(middle)];\n\t}\n\n/***/ },\n\n/***/ 632:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(628);\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('order-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 1),\n\t\t    indexes = _ref2[0];\n\t\n\t\tindexes.forEach(function (i) {\n\t\t\tvar chunk = groups.get(i);\n\t\t\tvar sorted = (0, _lodash.sortBy)(chunk);\n\t\t\tgroups.set(i, _utils.randomUtils.headsOrTails() ? sorted : sorted.reverse());\n\t\t});\n\t});\n\n/***/ },\n\n/***/ 633:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction run(data, _ref) {\n\t\tvar percents = _ref.percents;\n\t\n\t\tvar availableValues = _MusicContext2.default.getAvailableValues();\n\t\tvar length = data.length;\n\t\tvar count = Math.floor(length * percents / 100);\n\t\n\t\treturn _utils.arrayUtils.getRandomIndexes(count, length).reduce(function (store, index) {\n\t\t\tstore[index] = _utils.arrayUtils.randomElement(availableValues);\n\t\t\treturn store;\n\t\t}, data.slice());\n\t}\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.percents,\n\t\t\tonBlur: onblur.bind(null, 'percents'),\n\t\t\tfield: 'percents',\n\t\t\ttitle: 'Percents',\n\t\t\tmin: 1,\n\t\t\tmax: 50,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 0.25,\n\t\t\tpercents: 5\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'random-mutation',\n\t\trun: run,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 634:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(628);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('reverse-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 1),\n\t\t    indexes = _ref2[0];\n\t\n\t\tindexes.forEach(function (i) {\n\t\t\tgroups.set(i, groups.get(i).reverse());\n\t\t});\n\t});\n\n/***/ },\n\n/***/ 635:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _calculate = __webpack_require__(636);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar COUNT_OF_GENS = _MusicContext2.default.getCompositionLength();\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: COUNT_OF_GENS,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 1,\n\t\t\tcount: 10\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'sort-mutation',\n\t\trun: _calculate.calculate,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 636:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.calculate = calculate;\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction calculate(data, options) {\n\t\tif (options.count >= data.length) {\n\t\t\tthrow 'To much gens for sort mutation';\n\t\t}\n\t\n\t\tvar length = data.length;\n\t\tvar startIndex = _utils.numberUtils.randomBetween(0, length - options.count);\n\t\tvar endIndex = startIndex + options.count;\n\t\n\t\tvar sorted = data.slice(startIndex, endIndex).sort(function (a, b) {\n\t\t\treturn +a - +b;\n\t\t});\n\t\n\t\treturn [].concat(_toConsumableArray(data.slice(0, startIndex)), _toConsumableArray(sorted), _toConsumableArray(data.slice(endIndex)));\n\t}\n\n/***/ },\n\n/***/ 637:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar defaultOptions = {\n\t\tcount: 64\n\t};\n\t\n\tfunction run(data) {\n\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t\toptions = Object.assign({}, defaultOptions, options);\n\t\n\t\t_utils.arrayUtils\n\t\t// -1 cause we need neighbor\n\t\t.getRandomIndexes(options.count, data.length - 1).forEach(function (i) {\n\t\t\tvar temp = data[i];\n\t\t\tdata[i] = data[i + 1];\n\t\t\tdata[i + 1] = temp;\n\t\t});\n\t\n\t\treturn data;\n\t}\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: 128,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 0.25,\n\t\t\tcount: 32\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'swap2-mutation',\n\t\trun: run,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 638:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(628);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('swap-group-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 2),\n\t\t    fromIndexes = _ref2[0],\n\t\t    toIndexes = _ref2[1];\n\t\n\t\tgroups.swap(fromIndexes, toIndexes);\n\t}, {\n\t\tweight: 0.5,\n\t\tgroupSize: 5,\n\t\tcount: 2\n\t});\n\n/***/ },\n\n/***/ 639:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _calculate = __webpack_require__(640);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar initialState = {\n\t\tweight: 0.2,\n\t\tgroupSize: 5,\n\t\tcount: 2,\n\t\ttransposeSize: 2\n\t};\n\t\n\tvar render = function render(_ref, onblur) {\n\t\tvar count = _ref.count,\n\t\t    groupSize = _ref.groupSize,\n\t\t    transposeSize = _ref.transposeSize;\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: count,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'count',\n\t\t\t\ttitle: 'Count of groups',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 10,\n\t\t\t\tstep: 1\n\t\t\t}),\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: groupSize,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'groupSize',\n\t\t\t\ttitle: 'Group size in percents',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 100,\n\t\t\t\tstep: 1\n\t\t\t}),\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: transposeSize,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'transposeSize',\n\t\t\t\ttitle: 'Size of transposition in steps',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 7,\n\t\t\t\tstep: 1\n\t\t\t})\n\t\t);\n\t};\n\t\n\texports.default = {\n\t\tname: 'transpose-mutation',\n\t\trun: _calculate.calculate,\n\t\trender: render,\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn initialState;\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 640:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.calculate = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tvar _createGroupMutation = __webpack_require__(628);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar MAX_GEN_VALUE = (0, _lodash.last)(_MusicContext.availableValuesInGF);\n\t\n\tfunction transposeGen(gen, transposeSize) {\n\t\tif ([_MusicContext.PAUSE, _MusicContext.HOLD].includes(gen)) {\n\t\t\treturn gen;\n\t\t}\n\t\tvar newValue = gen + transposeSize;\n\t\tvar rem = newValue % MAX_GEN_VALUE;\n\t\treturn rem ? rem : MAX_GEN_VALUE;\n\t}\n\t\n\tvar calculate = exports.calculate = (0, _createGroupMutation.createCalculate)(function (groups, _ref, _ref2) {\n\t\tvar _ref3 = _slicedToArray(_ref, 1),\n\t\t    indexes = _ref3[0];\n\t\n\t\tvar transposeSize = _ref2.transposeSize;\n\t\n\t\tindexes.forEach(function (i) {\n\t\t\tvar chunk = groups.get(i);\n\t\t\tgroups.set(i, chunk.map(function (g) {\n\t\t\t\treturn transposeGen(g, transposeSize);\n\t\t\t}));\n\t\t});\n\t});\n\n/***/ },\n\n/***/ 641:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultOptions = {\n\t\tcount: 64\n\t};\n\t\n\tvar UP_CORNER = 14;\n\tvar DOWN_CORNER = 1;\n\t\n\tvar UpAndDownMutation = function () {\n\t\tfunction UpAndDownMutation() {\n\t\t\t_classCallCheck(this, UpAndDownMutation);\n\t\t}\n\t\n\t\t_createClass(UpAndDownMutation, [{\n\t\t\tkey: 'mutate',\n\t\t\tvalue: function mutate(data) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\t\t\tvar indexes = _utils.arrayUtils.getRandomIndexes(options.count, data.length);\n\t\t\t\tindexes.forEach(function (i) {\n\t\t\t\t\tif (data[i] === -1 || data[i] === 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdata[i] = _this._mutateOne(data[i]);\n\t\t\t\t});\n\t\t\t\treturn data;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_mutateOne',\n\t\t\tvalue: function _mutateOne(value) {\n\t\t\t\tif (Math.random() > 0.5) {\n\t\t\t\t\t//TODO: export to common END\n\t\t\t\t\tif (value < UP_CORNER) {\n\t\t\t\t\t\treturn value + 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\t//TODO: export to common START\n\t\t\t\t\tif (value > DOWN_CORNER + 1) {\n\t\t\t\t\t\treturn value - 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn UpAndDownMutation;\n\t}();\n\t\n\tvar instance = new UpAndDownMutation();\n\tvar run = instance.mutate.bind(instance);\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: 128,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 1,\n\t\t\tcount: 7\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'up-and-down-mutation',\n\t\trun: run,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 642:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Component = exports.run = undefined;\n\t\n\tvar _createProvider = __webpack_require__(606);\n\t\n\tvar _plugins = __webpack_require__(643);\n\t\n\tvar _createCompositeProvi = (0, _createProvider.createCompositeProvider)('fitness', _plugins.plugins);\n\t\n\tvar run = _createCompositeProvi.run,\n\t    Component = _createCompositeProvi.Component;\n\texports.run = run;\n\texports.Component = Component;\n\n/***/ },\n\n/***/ 643:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.plugins = undefined;\n\t\n\tvar _BasicReferenceFitness = __webpack_require__(644);\n\t\n\tvar _BasicReferenceFitness2 = _interopRequireDefault(_BasicReferenceFitness);\n\t\n\tvar _ClusterFitness = __webpack_require__(646);\n\t\n\tvar _ClusterFitness2 = _interopRequireDefault(_ClusterFitness);\n\t\n\tvar _DirectionFitness = __webpack_require__(650);\n\t\n\tvar _DirectionFitness2 = _interopRequireDefault(_DirectionFitness);\n\t\n\tvar _IntervalFitness = __webpack_require__(652);\n\t\n\tvar _IntervalFitness2 = _interopRequireDefault(_IntervalFitness);\n\t\n\tvar _MagnitudeFitness = __webpack_require__(655);\n\t\n\tvar _MagnitudeFitness2 = _interopRequireDefault(_MagnitudeFitness);\n\t\n\tvar _MelodyFitness = __webpack_require__(657);\n\t\n\tvar _MelodyFitness2 = _interopRequireDefault(_MelodyFitness);\n\t\n\tvar _MelodyLineFitness = __webpack_require__(658);\n\t\n\tvar _MelodyLineFitness2 = _interopRequireDefault(_MelodyLineFitness);\n\t\n\tvar _NoteSizePartialFitness = __webpack_require__(660);\n\t\n\tvar _NoteSizePartialFitness2 = _interopRequireDefault(_NoteSizePartialFitness);\n\t\n\tvar _RhythmLineFitness = __webpack_require__(664);\n\t\n\tvar _RhythmLineFitness2 = _interopRequireDefault(_RhythmLineFitness);\n\t\n\tvar _RodNoteFitness = __webpack_require__(666);\n\t\n\tvar _RodNoteFitness2 = _interopRequireDefault(_RodNoteFitness);\n\t\n\tvar _SignSequenceFitness = __webpack_require__(668);\n\t\n\tvar _SignSequenceFitness2 = _interopRequireDefault(_SignSequenceFitness);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar plugins = exports.plugins = [_BasicReferenceFitness2.default, _ClusterFitness2.default, _DirectionFitness2.default, _IntervalFitness2.default, _MagnitudeFitness2.default, _MelodyFitness2.default, _MelodyLineFitness2.default, _NoteSizePartialFitness2.default, _RhythmLineFitness2.default, _RodNoteFitness2.default, _SignSequenceFitness2.default];\n\n/***/ },\n\n/***/ 644:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _normalization = __webpack_require__(645);\n\t\n\tvar run = function run(content, reference) {\n\t\tvar normContent = (0, _normalization.normalizeNotesDiscrete)(content);\n\t\tvar normReference = (0, _normalization.normalizeNotesDiscrete)(reference);\n\t\tvar point = 1 / normContent.length;\n\t\n\t\treturn normContent.reduce(function (store, item, index) {\n\t\t\treturn item === normReference[index] ? store + point : store;\n\t\t}, 0);\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'basic-reference-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 645:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.normalizer = exports.normalizePitchToOctave = exports.normalizeNotesDiscrete = exports.normalizeRhythm = exports.normalizeHolds = undefined;\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Replace holds with pauses\r\n\t * @type {Array<Number>}\r\n\t */\n\tvar normalizeHolds = exports.normalizeHolds = function normalizeHolds(content) {\n\t\treturn content.reduce(function (store, current) {\n\t\t\treturn store.concat(current === -1 ? 0 : current);\n\t\t}, []);\n\t};\n\t\n\tvar normalizeRhythm = exports.normalizeRhythm = function normalizeRhythm(content) {\n\t\treturn content.reduce(function (reducer, current) {\n\t\t\treturn reducer.concat([_MusicContext.PAUSE, _MusicContext.HOLD].includes(current) ? 0 : 1);\n\t\t}, []);\n\t};\n\t\n\t/**\r\n\t * Replace holds with previous notePitchs/pauses\r\n\t * @example 7, -1, -1, 0, -1 = 7, 7, 7, 0, 0\r\n\t */\n\tvar normalizeNotesDiscrete = exports.normalizeNotesDiscrete = function normalizeNotesDiscrete(content) {\n\t\treturn content.reduce(function (store, current) {\n\t\t\tif (current >= 0) {\n\t\t\t\tstore.note = current;\n\t\t\t}\n\t\t\tstore.data.push(store.note);\n\t\t\treturn store;\n\t\t}, { data: [], note: 0 }).data;\n\t};\n\t\n\t// TODO: probably could be dynamic, for now static\n\tvar MAX_ONE_OCTAVE_VALUE = _MusicContext2.default.getMaxOneOctaveValue();\n\tvar normalizePitchToOctave = exports.normalizePitchToOctave = function normalizePitchToOctave(content) {\n\t\treturn content.map(function (v) {\n\t\t\treturn _utils.numberUtils.normalizeValue(v, MAX_ONE_OCTAVE_VALUE);\n\t\t});\n\t};\n\t\n\tvar normalizer = exports.normalizer = function normalizer(normalizers) {\n\t\treturn function (content) {\n\t\t\treturn normalizers.reduce(function (data, normalizerFn) {\n\t\t\t\treturn normalizerFn(data);\n\t\t\t}, content);\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 646:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _clusterMask = __webpack_require__(647);\n\t\n\tvar _executors = __webpack_require__(649);\n\t\n\texports.default = {\n\t\tname: 'cluster-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_clusterMask.clusterMask)(_executors.barEqualityComparer),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0.1, _important: false };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 647:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.clusterMask = undefined;\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _helpers = __webpack_require__(648);\n\t\n\t// const DEFAULT_THRESHOLD = 0.5;\n\t\n\tvar clusterMask = exports.clusterMask = (0, _helpers.maskFactory)(function (bar) {\n\t\treturn (/* { threshold = DEFAULT_THRESHOLD } = {} */bar.reduce(function (reducer, value) {\n\t\t\t\treturn reducer + value === _MusicContext.PAUSE ? 0 : 1;\n\t\t\t}, 0) / bar.length\n\t\t);\n\t});\n\n/***/ },\n\n/***/ 648:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.maskFactory = undefined;\n\t\n\tvar _Composition = __webpack_require__(621);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar maskFactory = exports.maskFactory = function maskFactory(barAnalyzer) {\n\t\treturn function (data, options) {\n\t\t\treturn _Composition2.default.create(data).rawBars().map(function (bar) {\n\t\t\t\treturn barAnalyzer(bar, options);\n\t\t\t});\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 649:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar fitnessExecutor = exports.fitnessExecutor = function fitnessExecutor(extractor) {\n\t\treturn function (comparer) {\n\t\t\treturn function (content, reference) {\n\t\t\t\tvar options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\t\t\treturn comparer(extractor(content, options), extractor(reference, options), options);\n\t\t\t};\n\t\t};\n\t};\n\t\n\tvar barEqualityComparer = exports.barEqualityComparer = function barEqualityComparer(content, reference) {\n\t\treturn reference.reduce(function (reducer, value, index) {\n\t\t\treturn content[index] === value ? reducer + 1 : reducer;\n\t\t}, 0) / content.length;\n\t};\n\t\n\tvar barContentEqualityComparer =\n\t/* @params {Array<Array<number>>} content - array of bars which are GNF-like [1, 5, ...] */\n\texports.barContentEqualityComparer = function barContentEqualityComparer(content, reference) {\n\t\treturn reference.reduce(function (reducer, value, index) {\n\t\t\treturn reducer + barEqualityComparer(value, content[index]);\n\t\t}, 0) / content.length;\n\t};\n\n/***/ },\n\n/***/ 650:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _directionMask = __webpack_require__(651);\n\t\n\tvar _executors = __webpack_require__(649);\n\t\n\texports.default = {\n\t\tname: 'direction-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_directionMask.directionAnalyzer)(_executors.barEqualityComparer),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0.01 };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 651:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.directionAnalyzer = exports.DIRECTION = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.directionForBar = directionForBar;\n\t\n\t__webpack_require__(32);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _helpers = __webpack_require__(648);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } // For Object.entries in jest tests\n\t\n\t\n\tvar DIRECTION = exports.DIRECTION = {\n\t\tUP: 'UP',\n\t\tDOWN: 'DOWN',\n\t\tSTABLE: 'STABLE',\n\t\tNONE: 'NONE'\n\t};\n\t\n\tvar DEFAULT_SIZE = 3;\n\tvar MIN_SPREAD = 3;\n\t\n\tfunction getDirection(a, b) {\n\t\tif (a === b) {\n\t\t\treturn DIRECTION.STABLE;\n\t\t}\n\t\treturn a > b ? DIRECTION.DOWN : DIRECTION.UP;\n\t}\n\t\n\tfunction calculateFrequencies(bar, _ref) {\n\t\tvar _storage;\n\t\n\t\tvar size = _ref.size;\n\t\n\t\tvar storage = (_storage = {}, _defineProperty(_storage, DIRECTION.UP, 0), _defineProperty(_storage, DIRECTION.DOWN, 0), _defineProperty(_storage, DIRECTION.STABLE, 0), _defineProperty(_storage, DIRECTION.NONE, 0), _storage);\n\t\t// Dummy implementation need rework\n\t\tvar chain = [];\n\t\tvar currentDirection = null;\n\t\tfor (var i = 0; i < bar.length; i++) {\n\t\t\tvar value = bar[i];\n\t\t\tif (value === _MusicContext.PAUSE) {\n\t\t\t\tif (chain.length >= size) {\n\t\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\n\t\t\t\t}\n\t\t\t\tchain = [];\n\t\t\t\tcurrentDirection = null;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\tif (!chain.length) {\n\t\t\t\tchain.push(value);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\tvar prev = chain[chain.length - 1];\n\t\t\tvar direction = getDirection(prev, value);\n\t\n\t\t\tif (!currentDirection) {\n\t\t\t\tcurrentDirection = direction;\n\t\t\t\tchain.push(value);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\tif (currentDirection === direction) {\n\t\t\t\tchain.push(value);\n\t\t\t} else {\n\t\t\t\tif (chain.length > size) {\n\t\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\n\t\t\t\t}\n\t\t\t\tchain = [value];\n\t\t\t\tcurrentDirection = null;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (chain.length >= size) {\n\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\n\t\t}\n\t\treturn storage;\n\t}\n\t\n\t/**\r\n\t * @desc exported for tests\r\n\t */\n\tfunction directionForBar(bar) {\n\t\tvar _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t    _ref2$size = _ref2.size,\n\t\t    size = _ref2$size === undefined ? DEFAULT_SIZE : _ref2$size,\n\t\t    _ref2$spread = _ref2.spread,\n\t\t    spread = _ref2$spread === undefined ? MIN_SPREAD : _ref2$spread;\n\t\n\t\tvar cleanedBar = bar.reduce(function (reducer, current) {\n\t\t\treturn current === _MusicContext.HOLD ? reducer : [].concat(_toConsumableArray(reducer), [current]);\n\t\t}, []);\n\t\n\t\tvar frequencies = calculateFrequencies(cleanedBar, { size: size, spread: spread });\n\t\n\t\tvar descSortedFrequencies = Object.entries(frequencies).sort(function (a, b) {\n\t\t\treturn a[1] < b[1];\n\t\t});\n\t\n\t\tvar _descSortedFrequencie = _slicedToArray(descSortedFrequencies, 2),\n\t\t    first = _descSortedFrequencie[0],\n\t\t    second = _descSortedFrequencie[1];\n\t\n\t\tif (first[1] - second[1] >= spread) {\n\t\t\treturn first[0];\n\t\t} else {\n\t\t\treturn DIRECTION.NONE;\n\t\t}\n\t}\n\t\n\t/**\r\n\t * @type {Array<number>}\r\n\t * @return {Array<DIRECTION>}\r\n\t */\n\tvar directionAnalyzer = exports.directionAnalyzer = (0, _helpers.maskFactory)(directionForBar);\n\n/***/ },\n\n/***/ 652:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _calculate = __webpack_require__(653);\n\t\n\tvar _calculate2 = _interopRequireDefault(_calculate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar run = _calculate2.default.fitness.bind(_calculate2.default);\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\t// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\n\t/*\r\n\tconst defaultOptions = {\r\n\t\tintervalValuesWeight: 0.5,\r\n\t\tintervalDispersionWeight: 0.5\r\n\t};\r\n\t */\n\t\n\texports.default = {\n\t\tname: 'interval-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 653:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _common = __webpack_require__(654);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultOptions = {\n\t\tintervalValuesWeight: 0.5,\n\t\tintervalDispersionWeight: 0.5\n\t};\n\t\n\tvar IntervalFitness = function () {\n\t\tfunction IntervalFitness() {\n\t\t\t_classCallCheck(this, IntervalFitness);\n\t\n\t\t\tthis._referenceValues /*: Array<{dispersion: number, average: number}> - array of bars and their interval values */ = null;\n\t\t}\n\t\n\t\t_createClass(IntervalFitness, [{\n\t\t\tkey: 'reset',\n\t\t\tvalue: function reset() {\n\t\t\t\tthis._referenceValues = null;\n\t\t\t}\n\t\n\t\t\t//TODO: options could be passed once\n\t\n\t\t}, {\n\t\t\tkey: 'fitness',\n\t\t\tvalue: function fitness(content, reference) {\n\t\t\t\tvar options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t\t\t\toptions = this._normalizeOptions(Object.assign({}, defaultOptions, options));\n\t\t\t\tvar contentPitch = _utils.notesUtils.toPitch(content);\n\t\t\t\tvar referencePitch = _utils.notesUtils.toPitch(reference);\n\t\n\t\t\t\tvar contentValues = this._calculateIntervalValues(contentPitch);\n\t\t\t\tif (!this._referenceValues) {\n\t\t\t\t\tthis._referenceValues = this._calculateIntervalValues(referencePitch);\n\t\t\t\t}\n\t\n\t\t\t\tvar result = this._calculateFitness(contentValues, options);\n\t\t\t\tconsole.assert((0, _lodash.isNumber)(result), 'Result should be a number');\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_calculateFitness',\n\t\t\tvalue: function _calculateFitness(contentValues, options) {\n\t\t\t\tvar contentMaxIndex = contentValues.length;\n\t\t\t\tvar averageSum = 0;\n\t\t\t\tvar dispersionSum = 0;\n\t\n\t\t\t\tthis._referenceValues.some(function (_ref, i) {\n\t\t\t\t\tvar aRef = _ref.average,\n\t\t\t\t\t    dRef = _ref.dispersion;\n\t\n\t\t\t\t\tif (contentMaxIndex <= i) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tvar _contentValues$i = contentValues[i],\n\t\t\t\t\t    average = _contentValues$i.average,\n\t\t\t\t\t    dispersion = _contentValues$i.dispersion;\n\t\n\t\n\t\t\t\t\taverageSum += Math.abs(aRef - average);\n\t\t\t\t\tdispersionSum += Math.abs(dRef - dispersion);\n\t\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\n\t\t\t\taverageSum = averageSum / this._referenceValues.length;\n\t\t\t\tdispersionSum = dispersionSum / this._referenceValues.length;\n\t\n\t\t\t\tconsole.assert((0, _lodash.isNumber)(averageSum), 'AverageSum is a number');\n\t\n\t\t\t\taverageSum = (1 - averageSum / _common.MAX_AVERAGE_DIFF) * options.intervalValuesWeight;\n\t\t\t\tdispersionSum = (1 - dispersionSum / _common.MAX_DISPERSION_DIFF) * options.intervalDispersionWeight;\n\t\n\t\t\t\tconsole.assert((0, _lodash.isNumber)(averageSum), 'AverageSum is a number');\n\t\t\t\treturn averageSum + dispersionSum;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_calculateIntervalValues',\n\t\t\tvalue: function _calculateIntervalValues(bars) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\treturn bars.map(function (bar) {\n\t\t\t\t\treturn _this._calculateIntervalValuesForBar(bar);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_calculateIntervalValuesForBar',\n\t\t\tvalue: function _calculateIntervalValuesForBar(pitchesBar) {\n\t\t\t\tvar valuesArray = [];\n\t\t\t\tvar count = pitchesBar.length;\n\t\t\t\tvar sum = 0;\n\t\n\t\t\t\tif (!count) {\n\t\t\t\t\treturn { average: 0, dispersion: 0 };\n\t\t\t\t}\n\t\n\t\t\t\tfor (var i = 0; i < count - 1; i++) {\n\t\t\t\t\tvar a = pitchesBar[i];\n\t\t\t\t\tvar b = pitchesBar[i + 1];\n\t\n\t\t\t\t\tvar value = (0, _common.getValueBetweenNotes)(a, b);\n\t\t\t\t\tsum += value;\n\t\t\t\t\tvaluesArray.push(value);\n\t\t\t\t}\n\t\n\t\t\t\tvar average = sum / count;\n\t\t\t\tvar dispersion = valuesArray.map(function (v) {\n\t\t\t\t\treturn Math.pow(v - average, 2);\n\t\t\t\t}).reduce(function (prev, val) {\n\t\t\t\t\treturn prev + val;\n\t\t\t\t}, 0);\n\t\n\t\t\t\treturn { average: average, dispersion: dispersion };\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_normalizeOptions',\n\t\t\tvalue: function _normalizeOptions(options) {\n\t\t\t\tvar max = options.intervalValuesWeight + options.intervalDispersionWeight;\n\t\t\t\treturn Object.assign(options, {\n\t\t\t\t\tintervalValuesWeight: options.intervalValuesWeight / max,\n\t\t\t\t\tintervalDispersionWeight: options.intervalDispersionWeight / max\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn IntervalFitness;\n\t}();\n\t\n\texports.default = new IntervalFitness();\n\n/***/ },\n\n/***/ 654:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.MAX_DISPERSION_DIFF = exports.MAX_AVERAGE_DIFF = undefined;\n\texports.getValueBetweenNotes = getValueBetweenNotes;\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar INTERVAL_TYPE_VALUES = [{\n\t\tPERFECT_CONSONANTS: 1,\n\t\tIMPERFECT_CONSONANTS: 2,\n\t\tSECONDS: 3,\n\t\tSEVENTH: 3,\n\t\tGRATER_THAN_OCTAVE: 5\n\t}, {\n\t\tPERFECT_CONSONANTS: 1,\n\t\tIMPERFECT_CONSONANTS: 3,\n\t\tSECONDS: 1,\n\t\tSEVENTH: 3,\n\t\tGRATER_THAN_OCTAVE: 5\n\t}];\n\t\n\t//0, 1\n\tfunction getIntervalValue(interval) {\n\t\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t\tvar values = {\n\t\t\t//Perfect consonants\n\t\t\t0: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //unison\n\t\t\t5: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //perfect fourth\n\t\t\t7: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //perfect fifth\n\t\t\t12: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //octave\n\t\n\t\t\t//Imperfect consonants\n\t\t\t3: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // min third\n\t\t\t4: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // maj third\n\t\t\t8: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // min sixth\n\t\t\t9: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // big sixth\n\t\n\t\t\t//Seconds\n\t\t\t1: INTERVAL_TYPE_VALUES[type].SECONDS, //min second\n\t\t\t2: INTERVAL_TYPE_VALUES[type].SECONDS, //maj second\n\t\n\t\t\t//Sevenths\n\t\t\t10: INTERVAL_TYPE_VALUES[type].SEVENTH, //min seventh\n\t\t\t11: INTERVAL_TYPE_VALUES[type].SEVENTH, //maj seventh\n\t\n\t\t\t//More then octave\n\t\t\t6: INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE,\n\t\t\t'-1': INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE\n\t\t};\n\t\n\t\tif (interval > 12) {\n\t\t\treturn values[-1];\n\t\t}\n\t\n\t\treturn values[interval];\n\t}\n\t\n\tfunction getValueBetweenNotes(noteA, noteB) {\n\t\tvar mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\t\n\t\t// assume that noteA, noteB are not PAUSE or HOLD;\n\t\tvar halfTones = _MusicContext2.default.getHalfTonesBeetween(noteA, noteB);\n\t\tvar intervalValue = getIntervalValue(halfTones, mode);\n\t\treturn intervalValue;\n\t}\n\t\n\tvar MAX_AVERAGE_DIFF = exports.MAX_AVERAGE_DIFF = 4;\n\tvar MAX_DISPERSION_DIFF = exports.MAX_DISPERSION_DIFF = MAX_AVERAGE_DIFF * MAX_AVERAGE_DIFF;\n\n/***/ },\n\n/***/ 655:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _calculate = __webpack_require__(656);\n\t\n\tvar _calculate2 = _interopRequireDefault(_calculate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar run = _calculate2.default.fitness.bind(_calculate2.default);\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'magnitude-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 656:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar BIT_VALUES = [4, 2, 3, 1];\n\tvar MAX_DISTANCE = 4;\n\t//each bar has 10 balls to normalize we need to /16 and it's 1 ball for bar and /8 (8 bars)\n\t\n\tvar PAUSE = -1;\n\tvar HOLD = 0;\n\t\n\tvar MagnitudeFitness = function () {\n\t\tfunction MagnitudeFitness() {\n\t\t\t_classCallCheck(this, MagnitudeFitness);\n\t\t}\n\t\n\t\t_createClass(MagnitudeFitness, [{\n\t\t\tkey: 'fitness',\n\t\t\tvalue: function fitness(content, reference) {\n\t\t\t\tvar sum = 0;\n\t\t\t\tfor (var i = 0, l = content.length; i < l; i++) {\n\t\t\t\t\tvar index = i % 16; // from 0 - 15;\n\t\t\t\t\tvar bitValue = this._getBitValue(index);\n\t\t\t\t\tvar refValue = reference[i];\n\t\t\t\t\tvar contentValue = content[i];\n\t\n\t\t\t\t\tif (refValue === PAUSE || contentValue === PAUSE || refValue === HOLD || contentValue === HOLD) {\n\t\t\t\t\t\tif (refValue === contentValue) {\n\t\t\t\t\t\t\tsum += bitValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar distance = Math.abs(content[i] - reference[i]);\n\t\n\t\t\t\t\tif (distance > MAX_DISTANCE) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tsum += bitValue * (1 - distance / MAX_DISTANCE);\n\t\t\t\t}\n\t\n\t\t\t\treturn this._normalize(sum);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getBitValue',\n\t\t\tvalue: function _getBitValue(index) {\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar start = i * 4;\n\t\t\t\t\tif (index >= start && index < start + 4) {\n\t\t\t\t\t\treturn BIT_VALUES[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthrow new 'Something went wrong in MagnitudeFitness._gitBitValue'();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_normalize',\n\t\t\tvalue: function _normalize(value) {\n\t\t\t\treturn value / 8 / 10 / 4;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn MagnitudeFitness;\n\t}();\n\t\n\texports.default = new MagnitudeFitness();\n\n/***/ },\n\n/***/ 657:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _calculate = __webpack_require__(656);\n\t\n\tvar _calculate2 = _interopRequireDefault(_calculate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar run = _calculate2.default.fitness.bind(_calculate2.default);\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\t// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\n\t/*\r\n\tconst defaultOptions = {\r\n\t\tpitch: 1,\r\n\t\trhythm: 1,\r\n\t\tmaxPitchDistance: 4\r\n\t};\r\n\t*/\n\texports.default = {\n\t\tname: 'magnitude-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 658:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _melodyLineMask = __webpack_require__(659);\n\t\n\tvar _executors = __webpack_require__(649);\n\t\n\texports.default = {\n\t\tname: 'melody-line-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_melodyLineMask.melodyLineMask)(_executors.barContentEqualityComparer),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0.5, _important: false };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 659:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.melodyLineMask = undefined;\n\t\n\tvar _helpers = __webpack_require__(648);\n\t\n\tvar _normalization = __webpack_require__(645);\n\t\n\tvar melodyLineMask = exports.melodyLineMask = (0, _helpers.maskFactory)(function (bar) {\n\t  return (0, _normalization.normalizeNotesDiscrete)(bar);\n\t});\n\n/***/ },\n\n/***/ 660:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _noteSizeDistributionAnalyzer = __webpack_require__(661);\n\t\n\tvar _calculateError = __webpack_require__(662);\n\t\n\tvar run = function run(content, reference, _options) {\n\t\tconsole.assert(content.length === reference.length);\n\t\n\t\tvar referenceAnalysis = (0, _noteSizeDistributionAnalyzer.noteSizeDistributionAnalyzer)(reference);\n\t\tvar contentAnalysis = (0, _noteSizeDistributionAnalyzer.noteSizeDistributionAnalyzer)(content);\n\t\treturn referenceAnalysis.reduce(function (reducer, bar, index) {\n\t\t\tvar contentBar = contentAnalysis[index];\n\t\t\tvar error = (0, _calculateError.calculateError)(bar, contentBar);\n\t\t\treturn reducer + (1 - error);\n\t\t}, 0) / referenceAnalysis.length;\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 0.3,\n\t\t\t_important: false\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'note-size-partial-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 661:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.noteSizeDistributionAnalyzer = undefined;\n\t\n\tvar _Composition = __webpack_require__(621);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction calculateDistributionForBar(bar) {\n\t\tvar step = 1 / bar.length;\n\t\tvar result = bar.reduce(function (reducer, note) {\n\t\t\tvar size = note.length();\n\t\t\treducer[size] = (reducer[size] || 0) + step;\n\t\t\treturn reducer;\n\t\t}, {});\n\t\n\t\treturn result;\n\t}\n\t\n\tvar noteSizeDistributionAnalyzer = exports.noteSizeDistributionAnalyzer = function noteSizeDistributionAnalyzer(data) {\n\t\tvar ignorePauses = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\treturn _Composition2.default.create(data).bars().map(function (bar) {\n\t\t\treturn calculateDistributionForBar(bar, ignorePauses);\n\t\t});\n\t};\n\n/***/ },\n\n/***/ 662:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.calculateError = undefined;\n\t\n\tvar _calculateDiffObject = __webpack_require__(663);\n\t\n\tvar calculateError = exports.calculateError = function calculateError(objA, objB) {\n\t\treturn Object.values((0, _calculateDiffObject.calculateDiffObject)(objA, objB)).reduce(function (prev, current) {\n\t\t\treturn prev + current;\n\t\t}, 0);\n\t};\n\n/***/ },\n\n/***/ 663:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar calculateDiffObject = exports.calculateDiffObject = function calculateDiffObject(barA, barB) {\n\t\treturn Object.keys(barB).map(function (key) {\n\t\t\treturn { key: key, value: barB[key] };\n\t\t}).reduce(function (diff, _ref) {\n\t\t\tvar key = _ref.key,\n\t\t\t    value = _ref.value;\n\t\n\t\t\tif (diff[key] != null) {\n\t\t\t\tvar difference = diff[key] - value;\n\t\t\t\tdiff[key] = difference > 0 ? difference : 0;\n\t\t\t}\n\t\t\treturn diff;\n\t\t}, _extends({}, barA));\n\t};\n\n/***/ },\n\n/***/ 664:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _rhythmLineMask = __webpack_require__(665);\n\t\n\tvar _executors = __webpack_require__(649);\n\t\n\texports.default = {\n\t\tname: 'rhythm-line-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_rhythmLineMask.rhythmLineMask)(_executors.barContentEqualityComparer),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0.2, _important: false };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 665:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.rhythmLineMask = undefined;\n\t\n\tvar _helpers = __webpack_require__(648);\n\t\n\tvar _normalization = __webpack_require__(645);\n\t\n\tvar rhythmLineMask = exports.rhythmLineMask = (0, _helpers.maskFactory)(function (bar) {\n\t  return (0, _normalization.normalizeRhythm)(bar);\n\t});\n\n/***/ },\n\n/***/ 666:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _rodNoteMask = __webpack_require__(667);\n\t\n\tvar _executors = __webpack_require__(649);\n\t\n\texports.default = {\n\t\tname: 'rod-note-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_rodNoteMask.rodNoteAnalyzer)(function (referenceByBar, contentByBar) {\n\t\t\tvar step = 1 / referenceByBar.length;\n\t\t\treturn referenceByBar.reduce(function (reducer, value, index) {\n\t\t\t\tvar subStep = step / value.length;\n\t\t\t\treturn value.reduce(function (subReducer, subValue, subIndex) {\n\t\t\t\t\treturn subValue === contentByBar[index][subIndex] ? subReducer + subStep : subReducer;\n\t\t\t\t}, 0) + reducer;\n\t\t\t}, 0);\n\t\t}),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0, _important: false };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 667:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.rodNoteAnalyzer = exports.rodNoteForBar = exports.ROD_TYPE = undefined;\n\t\n\tvar _ROD_MASK;\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _helpers = __webpack_require__(648);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar ROD_TYPE = exports.ROD_TYPE = {\n\t\tFIRST: 'FIRST',\n\t\tTWO: 'TWO',\n\t\tFOUR: 'FOUR',\n\t\tFIRST_AND_LAST: 'FIRST_AND_LAST'\n\t};\n\t\n\tvar ROD_MASK = (_ROD_MASK = {}, _defineProperty(_ROD_MASK, ROD_TYPE.FIRST, [0]), _defineProperty(_ROD_MASK, ROD_TYPE.TWO, [0, 4]), _defineProperty(_ROD_MASK, ROD_TYPE.FOUR, [0, 2, 4, 6]), _defineProperty(_ROD_MASK, ROD_TYPE.FIRST_AND_LAST, [0, 6]), _ROD_MASK);\n\t\n\t/**\r\n\t * @description exported for tests\r\n\t */\n\tvar rodNoteForBar = exports.rodNoteForBar = function rodNoteForBar(bar) {\n\t\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t    _ref$rodeType = _ref.rodeType,\n\t\t    rodeType = _ref$rodeType === undefined ? ROD_TYPE.FIRST : _ref$rodeType;\n\t\n\t\treturn ROD_MASK[rodeType].reduce(function (reducer, index) {\n\t\t\treturn [].concat(_toConsumableArray(reducer), [bar[index] === _MusicContext.HOLD ? null : bar[index]]);\n\t\t}, []);\n\t};\n\t/**\r\n\t * @description holds in rod notes became nulls\r\n\t * @type {Array<number>}\r\n\t */\n\tvar rodNoteAnalyzer = exports.rodNoteAnalyzer = (0, _helpers.maskFactory)(rodNoteForBar);\n\n/***/ },\n\n/***/ 668:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _signMask = __webpack_require__(669);\n\t\n\tvar _executors = __webpack_require__(649);\n\t\n\texports.default = {\n\t\tname: 'sign-sequence-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_signMask.signMask)(_executors.barContentEqualityComparer),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0, _important: false };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 669:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.signMask = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.barAnalyzer = barAnalyzer;\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _Composition = __webpack_require__(621);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar filterBar = function filterBar(bar) {\n\t\treturn bar.map(function (x) {\n\t\t\treturn x === _MusicContext.HOLD ? _MusicContext.PAUSE : x;\n\t\t});\n\t};\n\t\n\t/**\r\n\t * @internal Exported for tests \r\n\t */\n\tfunction barAnalyzer(_ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 2),\n\t\t    bar = _ref2[0],\n\t\t    _ref2$ = _ref2[1],\n\t\t    prevBar = _ref2$ === undefined ? [] : _ref2$;\n\t\n\t\treturn filterBar(bar).reduce(function (_ref3, note) {\n\t\t\tvar prev = _ref3.prev,\n\t\t\t    data = _ref3.data;\n\t\n\t\t\tif (prev == null) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: [],\n\t\t\t\t\tprev: note\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tvar diff = note - prev;\n\t\n\t\t\tvar value = 0;\n\t\t\tif (diff > 0) {\n\t\t\t\tvalue = 1;\n\t\t\t} else if (diff < 0) {\n\t\t\t\tvalue = -1;\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tdata: [].concat(_toConsumableArray(data), [value]),\n\t\t\t\tprev: note\n\t\t\t};\n\t\t}, { data: [], prev: (0, _lodash.last)(filterBar(prevBar)) }).data;\n\t}\n\t\n\tvar signMask = exports.signMask = function signMask(data, options) {\n\t\treturn _Composition2.default.create(data).rawBars().reduce(function (reducer, bar, index, array) {\n\t\t\treturn [].concat(_toConsumableArray(reducer), [barAnalyzer([bar, index ? array[index - 1] : undefined], options)]);\n\t\t}, []);\n\t};\n\n/***/ },\n\n/***/ 670:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.render = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _index = __webpack_require__(612);\n\t\n\tvar _initialState = __webpack_require__(615);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar NAMESPACE = 'options';\n\t\n\t_initialState2.default.GA[NAMESPACE] = {\n\t\tmaxIterations: 200,\n\t\tdeathLimit: 0.2,\n\t\tcount: 100,\n\t\tthreshold: 0.9, /* End processing when someone near good (best 1) */\n\t\tmutationProbability: 0.5,\n\t\tuseRandomInitialIndividuals: true,\n\t\tcountOfBestToLiveThrought: 0,\n\t\tstopOnEndOfIterations: true,\n\t\n\t\tuseEvolutionStrategies: true,\n\t\tmigrationRate: 20,\n\t\t/**\r\n\t  * @type {number} from 0 - 1 in percents\r\n\t  */\n\t\tmigrationSize: 0.1,\n\t\tgroupCount: 4\n\t};\n\t\n\tvar createSliderFactory = function createSliderFactory(state, onblur) {\n\t\treturn function (field, props) {\n\t\t\treturn _react2.default.createElement(_UIFactory.SliderControl, _extends({\n\t\t\t\tdefaultValue: state[field],\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: field\n\t\t\t}, props));\n\t\t};\n\t};\n\t\n\tvar render = exports.render = function render(props) {\n\t\tvar store = props.store;\n\t\n\t\tvar state = store.getState().GA[NAMESPACE];\n\t\tvar onblur = function onblur(field, value) {\n\t\t\tstore.dispatch((0, _index.changeOptions)([NAMESPACE, field], value));\n\t\t};\n\t\tvar createSlider = createSliderFactory(state, onblur);\n\t\n\t\treturn _react2.default.createElement(\n\t\t\t_reactBootstrap.Panel,\n\t\t\t{ collapsible: true, defaultExpanded: true, header: 'Options' },\n\t\t\tcreateSlider('maxIterations', { max: 10000, min: 50, step: 10 }),\n\t\t\tcreateSlider('deathLimit'),\n\t\t\tcreateSlider('count', { max: 500, min: 25, step: 1 }),\n\t\t\tcreateSlider('threshold'),\n\t\t\tcreateSlider('mutationProbability'),\n\t\t\tcreateSlider('countOfBestToLiveThrought', { max: 10, min: 0, step: 1 }),\n\t\t\t_react2.default.createElement(_UIFactory.CheckboxControl, {\n\t\t\t\tonBlur: onblur,\n\t\t\t\tdefaultValue: state['useRandomInitialIndividuals'],\n\t\t\t\tfield: 'useRandomInitialIndividuals' }),\n\t\t\t_react2.default.createElement(_UIFactory.CheckboxControl, {\n\t\t\t\tonBlur: onblur,\n\t\t\t\tdefaultValue: state['stopOnEndOfIterations'],\n\t\t\t\tfield: 'stopOnEndOfIterations' }),\n\t\t\t_react2.default.createElement(_UIFactory.CheckboxControl, {\n\t\t\t\tonBlur: onblur,\n\t\t\t\tdefaultValue: state['useEvolutionStrategies'],\n\t\t\t\tfield: 'useEvolutionStrategies' }),\n\t\t\tcreateSlider('migrationRate', { max: 500, min: 0, step: 1 }),\n\t\t\tcreateSlider('migrationSize', { title: 'Migration Size (in percents of population)', max: 1, min: 0, step: 0.01 }),\n\t\t\tcreateSlider('groupCount', { max: 25, min: 0, step: 1 })\n\t\t);\n\t};\n\n/***/ },\n\n/***/ 671:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.plugins = exports.Component = undefined;\n\t\n\tvar _createRenderComponent = __webpack_require__(608);\n\t\n\tvar _createPluginsHash = __webpack_require__(607);\n\t\n\tvar _initialState = __webpack_require__(615);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tvar _DarwinEvolution = __webpack_require__(672);\n\t\n\tvar _DarwinEvolution2 = _interopRequireDefault(_DarwinEvolution);\n\t\n\tvar _LamarkEvolution = __webpack_require__(678);\n\t\n\tvar _LamarkEvolution2 = _interopRequireDefault(_LamarkEvolution);\n\t\n\tvar _VriesEvolution = __webpack_require__(680);\n\t\n\tvar _VriesEvolution2 = _interopRequireDefault(_VriesEvolution);\n\t\n\tvar _KimuraEvolution = __webpack_require__(681);\n\t\n\tvar _KimuraEvolution2 = _interopRequireDefault(_KimuraEvolution);\n\t\n\tvar _PunctuatedEquilibriumEvolution = __webpack_require__(689);\n\t\n\tvar _PunctuatedEquilibriumEvolution2 = _interopRequireDefault(_PunctuatedEquilibriumEvolution);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar EVOLUTION_KEY = 'evolution';\n\t\n\t// TODO: export somewhere, copy paste from BaseCalculateProvider\n\t\n\t\n\t// NOTE: list of available evolutions\n\tfunction registerInStore(providerName, initialState, plugins) {\n\t    initialState[providerName] = {};\n\t    Object.keys(plugins).map(function (key) {\n\t        return plugins[key];\n\t    }).forEach(function (_ref) {\n\t        var name = _ref.name,\n\t            getInitialState = _ref.getInitialState;\n\t        return initialState[providerName][name] = getInitialState();\n\t    });\n\t}\n\t\n\tfunction createEvolutionProvider(evolution) {\n\t    var plugins = (0, _createPluginsHash.createPluginsHash)(evolution);\n\t    registerInStore(EVOLUTION_KEY, _initialState2.default.GA, plugins);\n\t    var Component = (0, _createRenderComponent.createRenderComponent)(EVOLUTION_KEY, plugins, { expanded: true });\n\t\n\t    return {\n\t        Component: Component,\n\t        plugins: plugins\n\t    };\n\t}\n\t\n\tvar _createEvolutionProvi = createEvolutionProvider([_DarwinEvolution2.default, _LamarkEvolution2.default, _VriesEvolution2.default, _KimuraEvolution2.default, _PunctuatedEquilibriumEvolution2.default]);\n\t\n\tvar Component = _createEvolutionProvi.Component,\n\t    plugins = _createEvolutionProvi.plugins;\n\texports.Component = Component;\n\texports.plugins = plugins;\n\n/***/ },\n\n/***/ 672:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _GA = __webpack_require__(673);\n\t\n\texports.default = {\n\t    executor: _GA.GA,\n\t    name: 'darwin-evolution',\n\t    getInitialState: function getInitialState() {\n\t        return { weight: 0.5 };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 673:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.GA = exports.NodeGA = exports.BrowserGA = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _BaseGA3 = __webpack_require__(674);\n\t\n\tvar _loop2 = __webpack_require__(677);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BrowserGA = exports.BrowserGA = function (_BaseGA) {\n\t    _inherits(BrowserGA, _BaseGA);\n\t\n\t    function BrowserGA() {\n\t        _classCallCheck(this, BrowserGA);\n\t\n\t        return _possibleConstructorReturn(this, (BrowserGA.__proto__ || Object.getPrototypeOf(BrowserGA)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(BrowserGA, [{\n\t        key: '_loop',\n\t        value: function _loop(cond, body, done) {\n\t            (0, _loop2.loop)(cond, body, done);\n\t        }\n\t    }]);\n\t\n\t    return BrowserGA;\n\t}(_BaseGA3.BaseGA);\n\t\n\tvar NodeGA = exports.NodeGA = function (_BaseGA2) {\n\t    _inherits(NodeGA, _BaseGA2);\n\t\n\t    function NodeGA(preferences) {\n\t        var workerOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t        var reference = arguments[2];\n\t        var rate = arguments[3];\n\t\n\t        _classCallCheck(this, NodeGA);\n\t\n\t        var _this2 = _possibleConstructorReturn(this, (NodeGA.__proto__ || Object.getPrototypeOf(NodeGA)).call(this, preferences, workerOptions, reference, rate));\n\t\n\t        _this2._rate = rate;\n\t        return _this2;\n\t    }\n\t\n\t    _createClass(NodeGA, [{\n\t        key: '_loop',\n\t        value: function _loop(cond, body, done) {\n\t            //debounceLoop(cond, body, done, this._rate);\n\t            (0, _loop2.syncLoop)(cond, body, done);\n\t        }\n\t    }]);\n\t\n\t    return NodeGA;\n\t}(_BaseGA3.BaseGA);\n\t\n\tvar isNode = new Function('try { return this === global; } catch(e) { return false; }')();\n\tconsole.log('ENVIRONMENT: ' + (isNode ? 'NodeJS' : 'Browser'));\n\tvar GA = exports.GA = isNode ? NodeGA : BrowserGA;\n\n/***/ },\n\n/***/ 674:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.BaseGA = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Individual = __webpack_require__(675);\n\t\n\tvar _Individual2 = _interopRequireDefault(_Individual);\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tvar _populationSorter = __webpack_require__(676);\n\t\n\tvar _CrossoverProvider = __webpack_require__(605);\n\t\n\tvar _MutationProvider = __webpack_require__(619);\n\t\n\tvar _FitnessProvider = __webpack_require__(642);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultWorkerOptions = {\n\t    onProgress: undefined,\n\t    onDone: undefined,\n\t    onPause: undefined,\n\t    notifyRate: 10,\n\t\n\t    onMigration: undefined,\n\t    migrationRate: undefined,\n\t    migrationCount: 10\n\t};\n\t\n\tvar BaseGA = exports.BaseGA = function () {\n\t\n\t    /**\r\n\t     * @param {{ options: {}, evolution: {}, crossover: {}, mutation: {}, fitness: {} }} preferences\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type {{ options: {}, evolution: {}, crossover: {}, mutation: {}, fitness: {} }}\r\n\t     */\n\t    function BaseGA(preferences) {\n\t        var workerOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t        var reference = arguments[2];\n\t        var id = arguments[3];\n\t\n\t        _classCallCheck(this, BaseGA);\n\t\n\t        this._migrants = null;\n\t        var crossover = preferences.crossover,\n\t            mutation = preferences.mutation,\n\t            fitness = preferences.fitness,\n\t            options = preferences.options,\n\t            evolution = preferences.evolution;\n\t\n\t        this._id = id;\n\t        // -1) Grab selected reference\n\t        this._reference = reference;\n\t\n\t        // 0) Grab and store options\n\t        this._preference = preferences;\n\t        this._options = options;\n\t        this._evolution = evolution;\n\t        this._workerOptions = Object.assign({}, defaultWorkerOptions, workerOptions);\n\t\n\t        // 1) Create context for individuals\n\t        this._context = {\n\t            crossover: (0, _CrossoverProvider.run)(crossover),\n\t            mutation: (0, _MutationProvider.run)(mutation),\n\t            fitness: (0, _FitnessProvider.run)(fitness)\n\t        };\n\t\n\t        // 2) Set current state variables\n\t        this._cleanState();\n\t\n\t        // 3) Perform initial run\n\t        this._run();\n\t    }\n\t\n\t    /**\r\n\t     * @description Called from GARunner on migration event\r\n\t     * @params {Array<number[]>} migrants - array of migrants of type Individual.content\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type {Array<Individual> | null}\r\n\t     */\n\t\n\t\n\t    _createClass(BaseGA, [{\n\t        key: 'migrate',\n\t        value: function migrate(migrants) {\n\t            var _this = this;\n\t\n\t            this._migrants = migrants.map(function (x) {\n\t                return new _Individual2.default(_this._reference, x, null, false, _this._context);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'resume',\n\t        value: function resume() {\n\t            this._paused = false;\n\t            this._run();\n\t        }\n\t    }, {\n\t        key: 'pause',\n\t        value: function pause() {\n\t            this._paused = true;\n\t        }\n\t    }, {\n\t        key: 'stop',\n\t        value: function stop() {\n\t            this._paused = true;\n\t            this._stopped = true;\n\t        }\n\t\n\t        //-----------------------------\n\t        //  1. Initial Population\n\t        //-----------------------------\n\t\n\t    }, {\n\t        key: '_createInitialPopulation',\n\t        value: function _createInitialPopulation() {\n\t            this._population = [];\n\t\n\t            for (var i = 0; i < this._options.count; i++) {\n\t                this._population.push(new _Individual2.default(this._reference, null, null, this._options.useRandomInitialIndividuals, this._context));\n\t            }\n\t        }\n\t\n\t        //-----------------------------\n\t        //  2. Mutate/Crossover\n\t        //-----------------------------\n\t\n\t    }, {\n\t        key: '_crossover',\n\t        value: function _crossover() {\n\t            var result = [];\n\t            var clones = this._sortByFitness(this._population.slice());\n\t\n\t            while (clones.length > 2) {\n\t                var mama = clones.pop();\n\t                var papa = clones.pop();\n\t                var baby = papa.crossover(mama);\n\t                result.push(baby);\n\t            }\n\t\n\t            return result;\n\t        }\n\t    }, {\n\t        key: '_mutate',\n\t        value: function _mutate(population) {\n\t            var probability = this._options.mutationProbability;\n\t            var clones = population.slice();\n\t            return clones.map(function (item) {\n\t                if (Math.random() < probability) {\n\t                    item.mutate();\n\t                }\n\t                return item;\n\t            });\n\t        }\n\t\n\t        //-----------------------------\n\t        //  3. Selection\n\t        //-----------------------------\n\t\n\t    }, {\n\t        key: '_removeClones',\n\t        value: function _removeClones(population) {\n\t            return Object.values(population.reduce(function (reducer, item) {\n\t                return _extends({}, reducer, _defineProperty({}, item.getHash(), item));\n\t            }, {}));\n\t        }\n\t    }, {\n\t        key: '_selection',\n\t        value: function _selection(newPopulation) {\n\t            var _options = this._options,\n\t                deathLimit = _options.deathLimit,\n\t                stopOnEndOfIterations = _options.stopOnEndOfIterations,\n\t                count = _options.countOfBestToLiveThrought;\n\t\n\t\n\t            var goodGuys = this._removeClones(newPopulation).filter(function (item) {\n\t                return item.fitnessValue > deathLimit;\n\t            });\n\t\n\t            // TODO: it's variations i guess\n\t            if (stopOnEndOfIterations) {\n\t                goodGuys = goodGuys.filter(function (_ref) {\n\t                    var fitnessValue = _ref.fitnessValue;\n\t                    return fitnessValue !== 1;\n\t                });\n\t            }\n\t\n\t            /*\r\n\t            Если порог прохождения никто не прошел\r\n\t            И установлено количество_выживающих_без_учета_фитнеса\r\n\t            То берем ровно столько лучших возможных, сколько не хватает\r\n\t             */\n\t            if (count && goodGuys.length < count) {\n\t                var bestWeHave = this._getBestWeHave(count, goodGuys.length, newPopulation);\n\t                goodGuys = [].concat(_toConsumableArray(goodGuys), _toConsumableArray(bestWeHave));\n\t            }\n\t\n\t            return goodGuys;\n\t        }\n\t\n\t        // PURE\n\t        // USE: _sortByFitness\n\t\n\t    }, {\n\t        key: '_getBestWeHave',\n\t        value: function _getBestWeHave(countWeNeed, countWeHave, currentPopulation) {\n\t            var result = [];\n\t            var population = this._sortByFitness(currentPopulation);\n\t\n\t            for (var i = countWeHave; i < countWeNeed; i++) {\n\t                result.push(population[i]);\n\t            }\n\t            return result;\n\t        }\n\t\n\t        /**\r\n\t         * @description 4. Creates sorted by fitness population \r\n\t         * @param { Array<Individual> } newPopulation\r\n\t         * @returns { Array<Individual> }\r\n\t         */\n\t\n\t    }, {\n\t        key: '_createNewPopulation',\n\t        value: function _createNewPopulation(newPopulation) {\n\t            var population = newPopulation.slice();\n\t            var need = this._options.count - population.length;\n\t\n\t            // if we need more guys\n\t            if (need > 0) {\n\t                for (var i = 0; i < need; i++) {\n\t                    population.push(new _Individual2.default(this._reference, null, null, this._options.useRandomInitialIndividuals, this._context));\n\t                }\n\t                return population;\n\t            }\n\t\n\t            // if we need cut someone\n\t            return this._sortByFitness(population).slice(0, this._options.count);\n\t        }\n\t\n\t        //-----------------------------\n\t        //  5. Finish!\n\t        //-----------------------------\n\t\n\t    }, {\n\t        key: '_isDone',\n\t        value: function _isDone() {\n\t            var _this2 = this;\n\t\n\t            return this._population.some(function (item) {\n\t                return item.fitnessValue > _this2._options.threshold;\n\t            });\n\t        }\n\t    }, {\n\t        key: '_getBest',\n\t        value: function _getBest(population) {\n\t            var _this3 = this;\n\t\n\t            population = population || this._population;\n\t            if (!this._bestOne) {\n\t                this._bestOne = population[0];\n\t            }\n\t            var bestFitness = this._bestOne ? this._bestOne.fitnessValue : 0;\n\t            population.forEach(function (item) {\n\t                if (item.fitnessValue > bestFitness) {\n\t                    bestFitness = item.fitnessValue;\n\t                    _this3._bestOne = item;\n\t                }\n\t            });\n\t            return bestFitness;\n\t        }\n\t    }, {\n\t        key: '_sortByFitness',\n\t        value: function _sortByFitness(population) {\n\t            var desc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\t\n\t            return (0, _populationSorter.populationSorter)(population, desc);\n\t        }\n\t    }, {\n\t        key: '_cleanState',\n\t        value: function _cleanState() {\n\t            this._i = 0;\n\t            this._paused = false;\n\t            this._stopped = false;\n\t            this._population = [];\n\t            this._bestOne = null;\n\t        }\n\t    }, {\n\t        key: '_run',\n\t        value: function _run() {\n\t            var _this4 = this;\n\t\n\t            this._createInitialPopulation();\n\t            this._loop(function () {\n\t                return _this4._needToRun();\n\t            }, function () {\n\t                return _this4._oneEra();\n\t            }, function () {\n\t                return _this4._onCompletion();\n\t            });\n\t        }\n\t\n\t        /**\r\n\t         * @description 1. Condition to run GA loop\r\n\t         */\n\t\n\t    }, {\n\t        key: '_needToRun',\n\t        value: function _needToRun() {\n\t            var _options2 = this._options,\n\t                maxIterations = _options2.maxIterations,\n\t                stopOnEndOfIterations = _options2.stopOnEndOfIterations;\n\t\n\t            return (stopOnEndOfIterations || !this._isDone()) && !this._paused && this._i < maxIterations;\n\t        }\n\t\n\t        /**\r\n\t         * @description 2. GA loop algorithm one iteration's body\r\n\t         */\n\t\n\t    }, {\n\t        key: '_oneEra',\n\t        value: function _oneEra() {\n\t            this._i++;\n\t            var parents = this._population.slice();\n\t\n\t            if (this._migrants) {\n\t                parents.push.apply(parents, _toConsumableArray(this._migrants));\n\t                this._migrants = null;\n\t            }\n\t\n\t            var children = this._mutate(this._crossover());\n\t            var newPopulation = this._selection([].concat(_toConsumableArray(children), _toConsumableArray(parents)));\n\t            this._population = this._createNewPopulation(newPopulation);\n\t            this._notificationProcess();\n\t            this._migrationProcess();\n\t        }\n\t\n\t        /**\r\n\t         * @description 3. GA completion logic\r\n\t         */\n\t\n\t    }, {\n\t        key: '_onCompletion',\n\t        value: function _onCompletion() {\n\t            var _workerOptions = this._workerOptions,\n\t                onPause = _workerOptions.onPause,\n\t                onDone = _workerOptions.onDone;\n\t\n\t\n\t            var populationDTO = this._snapshot(this._population);\n\t\n\t            if (this._stopped) {\n\t                onDone({\n\t                    id: this._id,\n\t                    data: populationDTO\n\t                });\n\t            } else if (this._paused) {\n\t                onPause({\n\t                    id: this._id,\n\t                    data: populationDTO\n\t                });\n\t            } else {\n\t                onDone({\n\t                    id: this._id,\n\t                    data: populationDTO\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: '_notificationProcess',\n\t        value: function _notificationProcess() {\n\t            var _workerOptions2 = this._workerOptions,\n\t                onProgress = _workerOptions2.onProgress,\n\t                notifyRate = _workerOptions2.notifyRate;\n\t            var maxIterations = this._options.maxIterations;\n\t\n\t            var notify = Boolean(onProgress);\n\t\n\t            if (notify && this._i % notifyRate === 0) {\n\t                //TODO: bad calcs this._bestOne and this._bestFitness\n\t                this._getBest();\n\t                var percentage = this._formatFitness(this._i, maxIterations);\n\t\n\t                onProgress({\n\t                    id: this._id,\n\t                    percentage: percentage,\n\t                    best: this._bestOne.toFullFitnessDTO()\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: '_migrationProcess',\n\t        value: function _migrationProcess() {\n\t            var onMigration = this._workerOptions.onMigration;\n\t            var migrationRate = this._options.migrationRate;\n\t\n\t            if (!migrationRate) {\n\t                return;\n\t            }\n\t\n\t            if (onMigration && this._i % migrationRate === 0) {\n\t                onMigration({\n\t                    id: this._id,\n\t                    migrants: this._getMigrants()\n\t                });\n\t            }\n\t        }\n\t\n\t        /**\r\n\t         * @returns {Array<number[]>} - array of Individual contents\r\n\t         */\n\t\n\t    }, {\n\t        key: '_getMigrants',\n\t        value: function _getMigrants() {\n\t            var _options3 = this._options,\n\t                migrationSize = _options3.migrationSize,\n\t                count = _options3.count;\n\t\n\t            var migrantsCount = count * migrationSize | 0;\n\t            return migrantsCount ? (0, _lodash.sampleSize)(this._population, migrantsCount).map(function (x) {\n\t                return x.content;\n\t            }) : [];\n\t        }\n\t    }, {\n\t        key: '_snapshot',\n\t        value: function _snapshot(currentPopulation) {\n\t            var population = this._sortByFitness(currentPopulation);\n\t            // TODO: create Individual factory with preseted context\n\t            var original = new _Individual2.default(this._reference, null, null, false, this._context);\n\t            population.unshift(original);\n\t            return population.map(function (x) {\n\t                return x.toFullFitnessDTO();\n\t            });\n\t        }\n\t    }, {\n\t        key: '_formatFitness',\n\t        value: function _formatFitness(iteration, maxIterations) {\n\t            return iteration / maxIterations * 100;\n\t        }\n\t    }, {\n\t        key: '_loop',\n\t        value: function _loop() /* cond, body, done */{\n\t            throw new Error('Abstract GA class');\n\t        }\n\t\n\t        /**\r\n\t         * @param {number} rate - integer\r\n\t         */\n\t\n\t    }, {\n\t        key: '_isOccur',\n\t        value: function _isOccur(rate) {\n\t            return this._i % rate === 0;\n\t        }\n\t    }]);\n\n\t    return BaseGA;\n\t}();\n\n/***/ },\n\n/***/ 675:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Individual = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _common = __webpack_require__(624);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Individual = exports.Individual = function () {\n\t\t/**\r\n\t  * @param {Array<number>} referenceIndividual\r\n\t  * @param {Array<number>} contentToStart\r\n\t  * @param {number} fitnessValue\r\n\t  * @param {boolean} useRandomToStart\r\n\t  * @param {Object} context\r\n\t  * @param {Function} context.crossover\r\n\t  * @param {Function} context.mutation\r\n\t  * @param {Function} context.fitness\r\n\t  */\n\t\tfunction Individual(referenceIndividual, contentToStart, fitnessValue) {\n\t\t\tvar useRandomToStart = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\t\t\tvar context = arguments[4];\n\t\n\t\t\t_classCallCheck(this, Individual);\n\t\n\t\t\t// -----------------------------\n\t\t\t// -1) Save context\n\t\t\t// -----------------------------\n\t\t\tthis._context = context;\n\t\n\t\t\t// -----------------------------\n\t\t\t// 0) Reference individual\n\t\t\t// -----------------------------\n\t\t\tthis._reference = referenceIndividual.slice();\n\t\n\t\t\t// -----------------------------\n\t\t\t// 1) Content to start\n\t\t\t// -----------------------------\n\t\t\tif (contentToStart) {\n\t\t\t\tthis._content = contentToStart;\n\t\t\t} else {\n\t\t\t\tthis._content = useRandomToStart ? this._reference.map(function () {\n\t\t\t\t\treturn _utils.arrayUtils.randomElement(_common.availableValues);\n\t\t\t\t}) : referenceIndividual.slice();\n\t\t\t}\n\t\n\t\t\t// -----------------------------\n\t\t\t// 2) Content to start\n\t\t\t// -----------------------------\n\t\t\tthis._fitnessValue = fitnessValue == null ? this.fitness().value : fitnessValue;\n\t\t}\n\t\n\t\t_createClass(Individual, [{\n\t\t\tkey: 'clone',\n\t\t\tvalue: function clone() {\n\t\t\t\treturn new Individual(this._reference, this.content, this.fitnessValue, false, this._context);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @description Mutate and recalculate inner fitnessValue\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'mutate',\n\t\t\tvalue: function mutate(_options) {\n\t\t\t\t// TODO: pass options to this._context.mutation(..., options) ???\n\t\t\t\tthis._checkContext();\n\t\t\t\tthis._content = this._context.mutation(this._content);\n\t\t\t\tthis._fitnessValue = this.fitness().value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'crossover',\n\t\t\tvalue: function crossover(someone) {\n\t\t\t\tthis._checkContext();\n\t\t\t\tvar newContent = this._context.crossover(this.content, someone.content);\n\t\t\t\treturn new Individual(this._reference, newContent, null, false, this._context);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fitness',\n\t\t\tvalue: function fitness() {\n\t\t\t\tthis._checkContext();\n\t\t\t\treturn this._context.fitness(this.content, this._reference);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @description NOTE: Always returns by value\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getHash',\n\t\t\tvalue: function getHash() {\n\t\t\t\treturn this._content.join();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'toDTO',\n\t\t\tvalue: function toDTO() {\n\t\t\t\treturn {\n\t\t\t\t\t_fitnessValue: this._fitnessValue,\n\t\t\t\t\t_reference: this._reference.slice(),\n\t\t\t\t\t_content: this._content.slice()\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'toFullFitnessDTO',\n\t\t\tvalue: function toFullFitnessDTO() {\n\t\t\t\treturn {\n\t\t\t\t\tfitness: this.fitness(),\n\t\t\t\t\tcontent: this._content.slice()\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_checkContext',\n\t\t\tvalue: function _checkContext() {\n\t\t\t\tif (!this._context) {\n\t\t\t\t\tthrow new Error('Context is not defined, created via fromDTO');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// TODO: find out better way of getting private fields, maybe create toDTO (in worker) and fromDTO (in UI tread)\n\t\n\t\t}, {\n\t\t\tkey: 'reference',\n\t\t\tget: function get() {\n\t\t\t\treturn this._reference.slice();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'context',\n\t\t\tget: function get() {\n\t\t\t\treturn this._context;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'content',\n\t\t\tget: function get() {\n\t\t\t\treturn this._content.slice();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fitnessValue',\n\t\t\tget: function get() {\n\t\t\t\treturn this._fitnessValue;\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'fromDTO',\n\t\t\tvalue: function fromDTO(_ref) {\n\t\t\t\tvar _reference = _ref._reference,\n\t\t\t\t    _content = _ref._content,\n\t\t\t\t    _fitnessValue = _ref._fitnessValue;\n\t\n\t\t\t\treturn new Individual(_reference, _content, _fitnessValue, false);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Individual;\n\t}();\n\t\n\texports.default = Individual;\n\n/***/ },\n\n/***/ 676:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.populationSorter = populationSorter;\n\t/**\r\n\t * @param {Individual[]} population \r\n\t * @param {number} desc (1 for desc) (-1 for asc) \r\n\t */\n\tfunction populationSorter(population) {\n\t    var desc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\t\n\t    return population.slice().sort(function (a, b) {\n\t        var af = a.fitnessValue;\n\t        var bf = b.fitnessValue;\n\t\n\t        if (af === bf) {\n\t            return 0;\n\t        }\n\t\n\t        return af > bf ? -desc : desc;\n\t    });\n\t}\n\n/***/ },\n\n/***/ 677:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.loop = loop;\n\texports.debounceLoop = debounceLoop;\n\texports.syncLoop = syncLoop;\n\tfunction loop(condition, body, done) {\n\t\tbody();\n\t\n\t\tif (!condition()) {\n\t\t\tdone();\n\t\t\treturn;\n\t\t}\n\t\n\t\tsetTimeout(function () {\n\t\t\treturn loop(condition, body, done);\n\t\t}, 0);\n\t}\n\t\n\t/**\r\n\t * @param {Function} condition\r\n\t * @param {Function} body\r\n\t * @param {Function} done\r\n\t * @param {number} defaultRate\r\n\t * @param {number} currentRate\r\n\t */\n\tfunction debounceLoop(condition, body, done) {\n\t\tvar defaultRate = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1000;\n\t\tvar currentRate = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : defaultRate;\n\t\n\t\tbody();\n\t\n\t\tif (!condition()) {\n\t\t\tdone();\n\t\t\treturn;\n\t\t}\n\t\n\t\tif (currentRate === 0) {\n\t\t\tsetTimeout(function () {\n\t\t\t\treturn debounceLoop(condition, body, done, defaultRate, defaultRate);\n\t\t\t}, 0);\n\t\t\treturn;\n\t\t}\n\t\n\t\tdebounceLoop(condition, body, done, defaultRate, --currentRate);\n\t}\n\t\n\tfunction syncLoop(condition, body, done) {\n\t\twhile (condition()) {\n\t\t\tbody();\n\t\t}\n\t\n\t\tdone();\n\t}\n\n/***/ },\n\n/***/ 678:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _GA2 = __webpack_require__(673);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _common = __webpack_require__(679);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar render = function render(state, onblur) {\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        (0, _UIFactory.createSliderFactory)(state, onblur)([{ field: 'adaptationRate' }, { field: 'adaptationPercent' }, { field: 'maxChildren', max: 10 }, { field: 'environmentChangeRate', max: 1000 }, { field: 'changeWeight', min: 0, max: 1, step: 0.01 }])\n\t    );\n\t};\n\t\n\tvar LamarkExecutor = function (_GA) {\n\t    _inherits(LamarkExecutor, _GA);\n\t\n\t    function LamarkExecutor() {\n\t        var _ref;\n\t\n\t        var _temp, _this, _ret;\n\t\n\t        _classCallCheck(this, LamarkExecutor);\n\t\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LamarkExecutor.__proto__ || Object.getPrototypeOf(LamarkExecutor)).call.apply(_ref, [this].concat(args))), _this), _this._environmentChanger = new _common.EnvironmentChanger(), _temp), _possibleConstructorReturn(_this, _ret);\n\t    }\n\t\n\t    _createClass(LamarkExecutor, [{\n\t        key: '_oneEra',\n\t        value: function _oneEra() {\n\t            _get(LamarkExecutor.prototype.__proto__ || Object.getPrototypeOf(LamarkExecutor.prototype), '_oneEra', this).call(this);\n\t            var _evolution = this._evolution,\n\t                adaptationRate = _evolution.adaptationRate,\n\t                environmentChangeRate = _evolution.environmentChangeRate;\n\t\n\t\n\t            if (this._isOccur(adaptationRate)) {\n\t                this._adaptate();\n\t            }\n\t\n\t            if (this._isOccur(environmentChangeRate)) {\n\t                this._changeEnvironment();\n\t            }\n\t        }\n\t    }, {\n\t        key: '_changeEnvironment',\n\t        value: function _changeEnvironment() {\n\t            var changeWeight = this._evolution.changeWeight;\n\t\n\t            this._context = this._environmentChanger.createContext(this._preference, changeWeight);\n\t        }\n\t    }, {\n\t        key: '_adaptate',\n\t        value: function _adaptate() {\n\t            var _this2 = this;\n\t\n\t            var _evolution2 = this._evolution,\n\t                adaptationPercent = _evolution2.adaptationPercent,\n\t                maxChildren = _evolution2.maxChildren;\n\t\n\t            var populationSize = this._population.length;\n\t            var adaptantsCount = Math.floor(populationSize * adaptationPercent / 100);\n\t\n\t            if (!adaptantsCount) {\n\t                return;\n\t            }\n\t\n\t            var indexes = _utils.arrayUtils.getRandomIndexes(adaptantsCount, populationSize);\n\t            var goodAdaptants = [];\n\t\n\t            indexes.forEach(function (index) {\n\t                var old = _this2._population[index];\n\t                var newOne = old.clone();\n\t                newOne.mutate();\n\t                if (newOne.fitnessValue > old.fitnessValue) {\n\t                    goodAdaptants.push(newOne);\n\t                    _this2._population[index] = newOne;\n\t                }\n\t            });\n\t\n\t            // If we have good adaptants create childrens from them\n\t            if (goodAdaptants.length >= 2) {\n\t                while (goodAdaptants.length > 1) {\n\t                    var childrenCount = _utils.numberUtils.randomBetween(1, maxChildren);\n\t                    var mama = goodAdaptants.pop();\n\t                    var papa = goodAdaptants.pop();\n\t\n\t                    while (childrenCount > 0) {\n\t                        childrenCount--;\n\t                        this._population.push(papa.crossover(mama));\n\t                    }\n\t                }\n\t\n\t                this._population = this._createNewPopulation(this._population);\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return LamarkExecutor;\n\t}(_GA2.GA);\n\t\n\texports.default = {\n\t    executor: LamarkExecutor,\n\t    render: render,\n\t    name: 'lamark-evolution',\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            weight: 0.5,\n\t\n\t            // Adaptation\n\t            adaptationRate: 10,\n\t            adaptationPercent: 20,\n\t            maxChildren: 4,\n\t\n\t            // Environment change\n\t            environmentChangeRate: 70,\n\t            changeWeight: 0.2\n\t        };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 679:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.EnvironmentChanger = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _CrossoverProvider = __webpack_require__(605);\n\t\n\tvar _MutationProvider = __webpack_require__(619);\n\t\n\tvar _FitnessProvider = __webpack_require__(642);\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar EnvironmentChanger = exports.EnvironmentChanger = function () {\n\t    function EnvironmentChanger() {\n\t        _classCallCheck(this, EnvironmentChanger);\n\t    }\n\t\n\t    _createClass(EnvironmentChanger, [{\n\t        key: '_changeWeights',\n\t\n\t        /**\r\n\t         * @description Change weight property of GO options by reference\r\n\t         */\n\t        value: function _changeWeights(geneticOperatorOptions, fluctuateRate) {\n\t            Object.values(geneticOperatorOptions).forEach(function (x) {\n\t                x.weight = _utils.numberUtils.fluctuate(x.weight, fluctuateRate);\n\t            });\n\t            return geneticOperatorOptions;\n\t        }\n\t\n\t        /**\r\n\t         * @param { { crossover: { weight: number }, mutation: { weight: number }, fitness: { weight: number } } } options\r\n\t         * @param {number} changeWeight - between 0 and 1\r\n\t         */\n\t\n\t    }, {\n\t        key: 'createContext',\n\t        value: function createContext(options, changeWeight) {\n\t            var crossover = options.crossover,\n\t                mutation = options.mutation,\n\t                fitness = options.fitness;\n\t\n\t            return {\n\t                crossover: (0, _CrossoverProvider.run)(this._changeWeights(crossover, changeWeight)),\n\t                mutation: (0, _MutationProvider.run)(this._changeWeights(mutation, changeWeight)),\n\t                fitness: (0, _FitnessProvider.run)(this._changeWeights(fitness, changeWeight))\n\t            };\n\t        }\n\t\n\t        /**\r\n\t         * @param { { crossover: { weight: number }, mutation: { weight: number }, fitness: { weight: number } } } options\r\n\t         * @param {number} changeWeight - between 0 and 1\r\n\t         */\n\t\n\t    }, {\n\t        key: 'fluctuateOptions',\n\t        value: function fluctuateOptions(options, changeWeight) {\n\t            var _cloneDeep = (0, _lodash.cloneDeep)(options),\n\t                crossover = _cloneDeep.crossover,\n\t                mutation = _cloneDeep.mutation,\n\t                fitness = _cloneDeep.fitness;\n\t\n\t            return _extends({}, options, {\n\t                crossover: this._changeWeights(crossover, changeWeight),\n\t                mutation: this._changeWeights(mutation, changeWeight),\n\t                fitness: this._changeWeights(fitness, changeWeight)\n\t            });\n\t        }\n\t    }]);\n\n\t    return EnvironmentChanger;\n\t}();\n\n/***/ },\n\n/***/ 680:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tvar _GA2 = __webpack_require__(673);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _common = __webpack_require__(679);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar VriesExecutor = function (_GA) {\n\t    _inherits(VriesExecutor, _GA);\n\t\n\t    function VriesExecutor() {\n\t        var _ref;\n\t\n\t        var _temp, _this, _ret;\n\t\n\t        _classCallCheck(this, VriesExecutor);\n\t\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = VriesExecutor.__proto__ || Object.getPrototypeOf(VriesExecutor)).call.apply(_ref, [this].concat(args))), _this), _this._environmentChanger = new _common.EnvironmentChanger(), _temp), _possibleConstructorReturn(_this, _ret);\n\t    }\n\t\n\t    _createClass(VriesExecutor, [{\n\t        key: '_oneEra',\n\t        value: function _oneEra() {\n\t            _get(VriesExecutor.prototype.__proto__ || Object.getPrototypeOf(VriesExecutor.prototype), '_oneEra', this).call(this);\n\t            var catastropheRate = this._evolution.catastropheRate;\n\t\n\t\n\t            if (this._isOccur(catastropheRate)) {\n\t                this._catastrophe();\n\t            }\n\t        }\n\t    }, {\n\t        key: '_catastrophe',\n\t        value: function _catastrophe() {\n\t            var _evolution = this._evolution,\n\t                mutationCatastropheWeight = _evolution.mutationCatastropheWeight,\n\t                deadCatastropheWeight = _evolution.deadCatastropheWeight,\n\t                environmentCatastropheWeight = _evolution.environmentCatastropheWeight;\n\t\n\t\n\t            var catastropheKey = this._getCatastropheKey();\n\t\n\t            switch (catastropheKey) {\n\t                case 'mutation':\n\t                    this._mutationCatastrophe(mutationCatastropheWeight);\n\t                    break;\n\t                case 'dead':\n\t                    this._deadCatastrophe(deadCatastropheWeight);\n\t                    break;\n\t                case 'environment':\n\t                    this._environmentCatastrophe(environmentCatastropheWeight);\n\t                    break;\n\t            }\n\t        }\n\t    }, {\n\t        key: '_getCatastropheKey',\n\t        value: function _getCatastropheKey() {\n\t            var _evolution2 = this._evolution,\n\t                mutationCatastropheProbability = _evolution2.mutationCatastropheProbability,\n\t                deadCatastropheProbability = _evolution2.deadCatastropheProbability,\n\t                environmentCatastropheProbability = _evolution2.environmentCatastropheProbability;\n\t\n\t            return _utils.selectionUtils.getRandomKey({\n\t                mutationCatastropheProbability: mutationCatastropheProbability,\n\t                deadCatastropheProbability: deadCatastropheProbability,\n\t                environmentCatastropheProbability: environmentCatastropheProbability\n\t            }).replace('CatastropheProbability', '');\n\t        }\n\t\n\t        /**\r\n\t         * @param {number} weight - from 0 to 1\r\n\t         */\n\t\n\t    }, {\n\t        key: '_mutationCatastrophe',\n\t        value: function _mutationCatastrophe(weight) {\n\t            console.log('Mutation Catastrophe Occurs!');\n\t            if (!weight) {\n\t                return;\n\t            }\n\t\n\t            this._options.mutationProbability = _utils.numberUtils.strip(this._options.mutationProbability + weight);\n\t        }\n\t\n\t        /**\r\n\t         * @param {number} weight - from 0 to 1\r\n\t         */\n\t\n\t    }, {\n\t        key: '_deadCatastrophe',\n\t        value: function _deadCatastrophe(weight) {\n\t            console.log('Dead Catastrophe Occurs!');\n\t            if (!weight) {\n\t                return;\n\t            }\n\t            var populationSize = this._population.length;\n\t            var howMuchWouldDie = Math.floor(weight * populationSize);\n\t\n\t            if (!howMuchWouldDie) {\n\t                return;\n\t            }\n\t\n\t            /**\r\n\t             * @type {Array<number>}\r\n\t             */\n\t            var indexesToRemove = _utils.arrayUtils.getRandomIndexes(howMuchWouldDie, populationSize);\n\t            var stippedPopulation = this._population.filter(function (_, i) {\n\t                return !indexesToRemove.includes(i);\n\t            });\n\t            this._population = this._createNewPopulation(stippedPopulation);\n\t        }\n\t\n\t        /**\r\n\t         * @param {number} weight - from 0 to 1\r\n\t         */\n\t\n\t    }, {\n\t        key: '_environmentCatastrophe',\n\t        value: function _environmentCatastrophe(weight) {\n\t            console.log('Environmental Catastrophe Occurs!');\n\t            if (!weight) {\n\t                return;\n\t            }\n\t            this._context = this._environmentChanger.createContext(this._preference, weight);\n\t        }\n\t    }]);\n\t\n\t    return VriesExecutor;\n\t}(_GA2.GA);\n\t\n\tvar render = function render(state, onblur) {\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        (0, _UIFactory.createSliderFactory)(state, onblur)([{ field: 'catastropheRate', min: 0, max: 100 }, (0, _UIFactory.probabilitySlider)('mutationCatastropheProbability'), (0, _UIFactory.probabilitySlider)('mutationCatastropheWeight'), (0, _UIFactory.probabilitySlider)('deadCatastropheProbability'), (0, _UIFactory.probabilitySlider)('deadCatastropheWeight'), (0, _UIFactory.probabilitySlider)('environmentCatastropheProbability'), (0, _UIFactory.probabilitySlider)('environmentCatastropheWeight')])\n\t    );\n\t};\n\t\n\texports.default = {\n\t    render: render,\n\t    executor: VriesExecutor,\n\t    name: 'vries-evolution',\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            weight: 0.5,\n\t            catastropheRate: 10,\n\t            mutationCatastropheProbability: 0.2,\n\t            mutationCatastropheWeight: 0.3,\n\t            deadCatastropheProbability: 0.2,\n\t            deadCatastropheWeight: 0.3,\n\t            environmentCatastropheProbability: 0.2,\n\t            environmentCatastropheWeight: 0.3\n\t        };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 681:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _KimuraExecutor = __webpack_require__(682);\n\t\n\tvar _getInitialStateFromMeta = __webpack_require__(687);\n\t\n\tvar _getRenderFromMeta = __webpack_require__(688);\n\t\n\tvar META = {\n\t    speciesCount: {\n\t        value: 2,\n\t        min: 2,\n\t        max: 10\n\t    },\n\t    speciesSeparationRate: {\n\t        value: 10,\n\t        min: 10,\n\t        max: 1000\n\t    }\n\t};\n\t\n\texports.default = {\n\t    executor: _KimuraExecutor.KimuraExecutor,\n\t    render: (0, _getRenderFromMeta.getRenderFromMeta)(META),\n\t    name: 'kimura-evolution',\n\t    getInitialState: (0, _getInitialStateFromMeta.getInitialStateFromMeta)(META, 0.5)\n\t};\n\n/***/ },\n\n/***/ 682:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t        value: true\n\t});\n\texports.KimuraExecutor = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _clusterfck = __webpack_require__(683);\n\t\n\tvar _clusterfck2 = _interopRequireDefault(_clusterfck);\n\t\n\tvar _GA2 = __webpack_require__(673);\n\t\n\tvar _Individual = __webpack_require__(675);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar KimuraExecutor = exports.KimuraExecutor = function (_GA) {\n\t        _inherits(KimuraExecutor, _GA);\n\t\n\t        function KimuraExecutor() {\n\t                _classCallCheck(this, KimuraExecutor);\n\t\n\t                return _possibleConstructorReturn(this, (KimuraExecutor.__proto__ || Object.getPrototypeOf(KimuraExecutor)).apply(this, arguments));\n\t        }\n\t\n\t        _createClass(KimuraExecutor, [{\n\t                key: '_oneEra',\n\t                value: function _oneEra() {\n\t                        _get(KimuraExecutor.prototype.__proto__ || Object.getPrototypeOf(KimuraExecutor.prototype), '_oneEra', this).call(this);\n\t                        var speciesSeparationRate = this._evolution.speciesSeparationRate;\n\t\n\t\n\t                        if (this._isOccur(speciesSeparationRate)) {\n\t                                this._separate();\n\t                        }\n\t                }\n\t                /**\r\n\t                 * @type { { speciesSeparationRate: number, speciesCount: number } }\r\n\t                 */\n\t\n\t        }, {\n\t                key: '_separate',\n\t                value: function _separate() {\n\t                        var _this2 = this;\n\t\n\t                        var speciesCount = this._evolution.speciesCount;\n\t\n\t                        // 0. Create clusters\n\t                        /**\r\n\t                         * @type { Array<{ Array<number> }> } - array of clusters and its content Individual.content\r\n\t                         */\n\t\n\t                        var clusters = _clusterfck2.default.kmeans(this._population.map(function (x) {\n\t                                return x.content;\n\t                        }));\n\t                        var countOfClusters = clusters.length;\n\t\n\t                        if (speciesCount >= countOfClusters) {\n\t                                return;\n\t                        }\n\t\n\t                        /**\r\n\t                         * NOTE: The choice of clusters can be. (TODO: Could be an option later on)\r\n\t                         * 1. By best fitness of random individual in cluster\r\n\t                         * 2. By best fitness in cluster\r\n\t                         * 3. Random\r\n\t                         * ✓ 4. By cluster size\r\n\t                         */\n\t\n\t                        // 1. Sort by size\n\t                        clusters.sort(function (c1, c2) {\n\t                                return c1.length - c2.length;\n\t                        });\n\t\n\t                        // 2. Grab only needed count of clusters\n\t                        var clustersToUse = clusters.slice(0, speciesCount);\n\t\n\t                        // 3. Flatten clusters\n\t                        var gensForNewPopulation = clustersToUse.reduce(function (store, cluster) {\n\t                                return [].concat(_toConsumableArray(store), _toConsumableArray(cluster));\n\t                        }, []);\n\t\n\t                        // 4. Recreate individuals from gens\n\t                        var newPopulation = gensForNewPopulation.map(function (x) {\n\t                                return new _Individual.Individual(_this2._reference, x, null, false, _this2._context);\n\t                        });\n\t\n\t                        // 5. Recreate population\n\t                        this._population = this._createNewPopulation(newPopulation);\n\t                }\n\t        }]);\n\n\t        return KimuraExecutor;\n\t}(_GA2.GA);\n\n/***/ },\n\n/***/ 687:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t/**\r\n\t * @param { { [field]: { min: number, max: number, value: number } } } meta\r\n\t * @param {number} weight - from 0 to 1\r\n\t */\n\tvar getInitialStateFromMeta = exports.getInitialStateFromMeta = function getInitialStateFromMeta(meta) {\n\t    var weight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.3;\n\t    return function () {\n\t        return _extends({\n\t            weight: weight\n\t        }, Object.entries(meta).reduce(function (store, _ref) {\n\t            var _ref2 = _slicedToArray(_ref, 2),\n\t                key = _ref2[0],\n\t                value = _ref2[1].value;\n\t\n\t            return _extends({}, store, _defineProperty({}, key, value));\n\t        }, {}));\n\t    };\n\t};\n\n/***/ },\n\n/***/ 688:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getRenderFromMeta = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(609);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar getRenderFromMeta = exports.getRenderFromMeta = function getRenderFromMeta(meta) {\n\t    return function (state, onblur) {\n\t        return _react2.default.createElement(\n\t            'div',\n\t            null,\n\t            (0, _UIFactory.createSliderFactory)(state, onblur)(Object.entries(meta).map(function (_ref) {\n\t                var _ref2 = _slicedToArray(_ref, 2),\n\t                    field = _ref2[0],\n\t                    _ref2$ = _ref2[1],\n\t                    min = _ref2$.min,\n\t                    max = _ref2$.max;\n\t\n\t                return {\n\t                    field: field,\n\t                    min: min,\n\t                    max: max,\n\t                    step: max === 1 ? 0.01 : 1\n\t                };\n\t            }))\n\t        );\n\t    };\n\t};\n\n/***/ },\n\n/***/ 689:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _PunctuatedEquilibriumExecutor = __webpack_require__(690);\n\t\n\tvar _getInitialStateFromMeta = __webpack_require__(687);\n\t\n\tvar _getRenderFromMeta = __webpack_require__(688);\n\t\n\tvar META = {\n\t    // NOTE: not implemented for now\n\t    // environmentChangeWeight: {\n\t    //     value: 0.3,\n\t    //     min: 0,\n\t    //     max: 1\n\t    // },\n\t    // environmentChangeRate: {\n\t    //     value: 10,\n\t    //     min: 0,\n\t    //     max: 100\n\t    // },\n\t    environmentDifferenceWeight: {\n\t        value: 0.3,\n\t        min: 0,\n\t        max: 1\n\t    },\n\t    groupsCount: {\n\t        value: 4,\n\t        min: 1,\n\t        max: 25\n\t    }\n\t};\n\t\n\texports.default = {\n\t    executor: _PunctuatedEquilibriumExecutor.PunctuatedEquilibriumExecutor,\n\t    render: (0, _getRenderFromMeta.getRenderFromMeta)(META),\n\t    name: 'punctuated-equilibrium-evolution',\n\t    getInitialState: (0, _getInitialStateFromMeta.getInitialStateFromMeta)(META, .5)\n\t};\n\n/***/ },\n\n/***/ 690:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.PunctuatedEquilibriumExecutor = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(691);\n\t\n\tvar _SimpleGARunner = __webpack_require__(692);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _FitnessProvider = __webpack_require__(642);\n\t\n\tvar _Individual = __webpack_require__(675);\n\t\n\tvar _common = __webpack_require__(679);\n\t\n\tvar _populationSorter = __webpack_require__(676);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULT_NOTIFY_RATE = 10;\n\t\n\tvar PunctuatedEquilibriumExecutor = exports.PunctuatedEquilibriumExecutor = function () {\n\t\n\t    /**\r\n\t     * @param {{ options: {}, evolution: { groupsCount: number, environmentChangeWeight: number, environmentChangeRate: number, environmentDifferenceWeight: number }, crossover: {}, mutation: {}, fitness: {} }} preferences\r\n\t     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type { [uuid: string]: boolean }\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type { { [uuid: string]: { data: { content: Array<number> }[] } } }\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @description Hash of runner and its current iteration.\r\n\t     * @type { { [uuid: string]: number } }\r\n\t     */\n\t    function PunctuatedEquilibriumExecutor(preferences) {\n\t        var workerOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t        var reference = arguments[2];\n\t        var id = arguments[3];\n\t\n\t        _classCallCheck(this, PunctuatedEquilibriumExecutor);\n\t\n\t        this._environmentChanger = new _common.EnvironmentChanger();\n\t        this.currentIteration = 0;\n\t        this.runners = {};\n\t        this.iteration = {};\n\t        this.progressEvents = {};\n\t        this.pauseEvents = {};\n\t        this.doneEvents = {};\n\t        this._pauseFlags = null;\n\t        this._doneFlags = {};\n\t        this._best = null;\n\t        this._migrants = null;\n\t        this._migrantsToSendToChilds = null;\n\t        this._currentEra = 0;\n\t\n\t        var groupsCount = preferences.evolution.groupsCount;\n\t\n\t        this.preferences = preferences;\n\t        this.evolutionId = id;\n\t        this.workerOptions = _extends({}, workerOptions, { notifyRate: DEFAULT_NOTIFY_RATE });\n\t        this.reference = reference;\n\t\n\t        if (this.preferences.options.migrationRate % DEFAULT_NOTIFY_RATE) {\n\t            console.warn('Migration rate (' + this.preferences.options.migrationRate + ') is not supported. Should int divided by notification rate (' + DEFAULT_NOTIFY_RATE + ').');\n\t        }\n\t\n\t        for (var i = 0; i < groupsCount; i++) {\n\t            this._createInstance(preferences, reference);\n\t        }\n\t    }\n\t\n\t    /**\r\n\t     * @description Called from GARunner on migration event\r\n\t     * @params {Array<number[]>} migrants - array of migrants of type Individual.content\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type {Array<number[]>}\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type { [uuid: string]: boolean }\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type { { [uuid: string]: { data: { content: Array<number> }[] } } }\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type { { [uuid: string]: { { best: { content: Array<number>, fitness: { full: { [fitnessName: string]: value }, value: number } }, percentage: number } } } }\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type { [uuid: string]: SimpleGARunner }\r\n\t     */\n\t\n\t\n\t    _createClass(PunctuatedEquilibriumExecutor, [{\n\t        key: 'migrate',\n\t        value: function migrate(migrants) {\n\t            var _migrantsToSendToChil;\n\t\n\t            if (!migrants || !migrants.length) {\n\t                return;\n\t            }\n\t            this._migrantsToSendToChilds = this._migrantsToSendToChilds || [];\n\t            (_migrantsToSendToChil = this._migrantsToSendToChilds).push.apply(_migrantsToSendToChil, _toConsumableArray(migrants));\n\t        }\n\t    }, {\n\t        key: 'stop',\n\t        value: function stop() {\n\t            Object.values(this.runners).forEach(function (r) {\n\t                r.stop();\n\t                r.destroy();\n\t            });\n\t            this.runners = {};\n\t            this.iteration = {};\n\t            this.progressEvents = {};\n\t            this._currentEra = 0;\n\t        }\n\t    }, {\n\t        key: 'pause',\n\t        value: function pause() {\n\t            this._pauseFlags = Object.keys(this.runners).reduce(function (store, key) {\n\t                return _extends({}, store, _defineProperty({}, key, false));\n\t            }, {});\n\t            Object.values(this.runners).forEach(function (r) {\n\t                return r.pause();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'resume',\n\t        value: function resume() {\n\t            Object.values(this.runners).forEach(function (r) {\n\t                return r.resume();\n\t            });\n\t        }\n\t    }, {\n\t        key: '_oneEra',\n\t        value: function _oneEra() {\n\t            var onMigration = this.workerOptions.onMigration;\n\t\n\t            this._currentEra += DEFAULT_NOTIFY_RATE;\n\t            console.log('new era', this._currentEra);\n\t\n\t            if (onMigration && this._migrants && this._currentEra % this.preferences.options.migrationRate === 0) {\n\t                console.log('migration from PunctuatedEquilibriumExecutor');\n\t                onMigration({\n\t                    id: this.evolutionId,\n\t                    migrants: this._migrants\n\t                });\n\t                this._migrants = null;\n\t            }\n\t        }\n\t    }, {\n\t        key: '_createInstance',\n\t        value: function _createInstance(rootOptions, reference) {\n\t            var _this = this;\n\t\n\t            var id = (0, _utils.uuid)();\n\t            var options = this._createInstanceOptions(rootOptions);\n\t\n\t            var instanceWorkerOptions = {\n\t                onDone: function onDone(e) {\n\t                    return _this._onInstanceDone(e, id);\n\t                },\n\t                onProgress: function onProgress(e) {\n\t                    return _this._onInstanceProgress(e, id);\n\t                },\n\t\n\t                /**\r\n\t                 * @param { { data: { content: Array<number> }[] } } e\r\n\t                 */\n\t                onPause: function onPause(e) {\n\t                    return _this._onInstancePause(e, id);\n\t                }\n\t            };\n\t\n\t            var instance = new _SimpleGARunner.SimpleGARunner(options, instanceWorkerOptions, reference, function (migrants) {\n\t                return _this._onMigrationFromInstances(migrants);\n\t            });\n\t            this.progressEvents[id] = null;\n\t            this.iteration[id] = 0;\n\t            this.runners[id] = instance;\n\t            this._doneFlags[id] = false;\n\t        }\n\t    }, {\n\t        key: '_onMigrationFromInstances',\n\t        value: function _onMigrationFromInstances(migrants) {\n\t            var _migrants;\n\t\n\t            this._migrants = this._migrants || [];\n\t            (_migrants = this._migrants).push.apply(_migrants, _toConsumableArray(migrants));\n\t            var migrantsToSend = this._migrantsToSendToChilds;\n\t            this._migrantsToSendToChilds = null;\n\t            return migrantsToSend;\n\t        }\n\t    }, {\n\t        key: '_onInstanceDone',\n\t        value: function _onInstanceDone(e, subId) {\n\t            this.doneEvents[subId] = e;\n\t            this._doneFlags[subId] = true;\n\t\n\t            if (Object.values(this._doneFlags).some(function (x) {\n\t                return !x;\n\t            })) {\n\t                return;\n\t            }\n\t\n\t            var event = this._getSnapshotEvent(this.doneEvents);\n\t            this.workerOptions.onDone(_extends({\n\t                id: this.evolutionId\n\t            }, event));\n\t            this._doneFlags = {};\n\t        }\n\t\n\t        /**\r\n\t         * \r\n\t         * @param { { best: { content: Array<number>, fitness: { full: { [fitnessName: string]: value }, value: number } }, percentage: number } } e \r\n\t         * @param {string} subId \r\n\t         */\n\t\n\t    }, {\n\t        key: '_onInstanceProgress',\n\t        value: function _onInstanceProgress(e, subId) {\n\t            this.iteration[subId] += 1;\n\t            this.progressEvents[subId] = e;\n\t\n\t            if (this.currentIteration >= this._getMinIteration()) {\n\t                return;\n\t            }\n\t\n\t            this._oneEra();\n\t            this.currentIteration += 1;\n\t\n\t            var event = this._getCurrentIterationEvent();\n\t            if (!event) {\n\t                return;\n\t            }\n\t\n\t            this.workerOptions.onProgress(_extends({}, event, {\n\t                id: this.evolutionId\n\t            }));\n\t        }\n\t\n\t        /**\r\n\t         * @param { { data: { content: Array<number> }[] } } e\r\n\t         * @param {string} subId\r\n\t         */\n\t\n\t    }, {\n\t        key: '_onInstancePause',\n\t        value: function _onInstancePause(e, subId) {\n\t            this.pauseEvents[subId] = e;\n\t            this._pauseFlags[subId] = true;\n\t\n\t            if (Object.values(this._pauseFlags).some(function (x) {\n\t                return !x;\n\t            })) {\n\t                return;\n\t            }\n\t\n\t            var event = this._getSnapshotEvent(this.pauseEvents);\n\t            this.workerOptions.onPause(_extends({\n\t                id: this.evolutionId\n\t            }, event));\n\t            this._pauseFlags = {};\n\t        }\n\t    }, {\n\t        key: '_getSnapshotEvent',\n\t        value: function _getSnapshotEvent(events) {\n\t            var _this2 = this;\n\t\n\t            // NOTE: population snapshot contains original reference as a first element\n\t            var original = void 0;\n\t            var raw = Object.values(events).filter(function (x) {\n\t                return x;\n\t            }).reduce(function (store, _ref) {\n\t                var data = _ref.data;\n\t\n\t                original = data.shift();\n\t                return [].concat(_toConsumableArray(store), _toConsumableArray(data.map(function (_ref2) {\n\t                    var content = _ref2.content;\n\t                    return content;\n\t                })));\n\t            }, []);\n\t\n\t            var fitness = this.preferences.fitness;\n\t\n\t            var context = {\n\t                fitness: (0, _FitnessProvider.run)(fitness)\n\t            };\n\t\n\t            // 2. Recreate and sort population;\n\t            /**\r\n\t             * @type {Array<{ content: Array[number], fitness: { value: number } }>}\r\n\t             */\n\t            var individuals = (0, _populationSorter.populationSorter)(raw.map(function (x) {\n\t                return new _Individual.Individual(_this2.reference, x, null, false, context);\n\t            })).map(function (x) {\n\t                return x.toFullFitnessDTO();\n\t            });\n\t            individuals.unshift(original);\n\t\n\t            return {\n\t                data: individuals\n\t            };\n\t        }\n\t    }, {\n\t        key: '_getCurrentIterationEvent',\n\t        value: function _getCurrentIterationEvent() {\n\t            var _this3 = this;\n\t\n\t            var fitness = this.preferences.fitness;\n\t\n\t\n\t            var context = {\n\t                fitness: (0, _FitnessProvider.run)(fitness)\n\t            };\n\t\n\t            /**\r\n\t             * @type { { best: { content: Array<number>, fitness: { full: { [fitnessName: string]: value }, value: number } }, percentage: number }[] }\r\n\t             */\n\t            var events = Object.values(this.progressEvents).filter(function (x) {\n\t                return x;\n\t            });\n\t            var percentage = events.reduce(function (value, _ref3) {\n\t                var percentage = _ref3.percentage;\n\t                return percentage > value ? value : percentage;\n\t            }, events[0].percentage);\n\t\n\t            // NOTE: for the end we don't wanna have two 100 points on graph so we wait for done\n\t            if (percentage === 100) {\n\t                return null;\n\t            }\n\t\n\t            var bestGuys = events.map(function (event) {\n\t                return new _Individual.Individual(_this3.reference, event.best.content, null, false, context);\n\t            });\n\t\n\t            if (!this._best) {\n\t                this._best = bestGuys[0];\n\t            }\n\t\n\t            var best = bestGuys.reduce(function (bestOne, individual) {\n\t                return bestOne.fitnessValue > individual.fitnessValue ? bestOne : individual;\n\t            }, bestGuys[0]);\n\t\n\t            if (best.fitnessValue > this._best.fitnessValue) {\n\t                this._best = best;\n\t            }\n\t\n\t            return {\n\t                best: this._best.toFullFitnessDTO(),\n\t                percentage: percentage\n\t            };\n\t        }\n\t\n\t        /**\r\n\t         * @param {{ options: {}, evolution: { groupsCount: number, environmentChangeWeight: number, environmentChangeRate: number, environmentDifferenceWeight: number }, crossover: {}, mutation: {}, fitness: {} }} rootOptions\r\n\t         */\n\t\n\t    }, {\n\t        key: '_createInstanceOptions',\n\t        value: function _createInstanceOptions(rootOptions) {\n\t            var _rootOptions$evolutio = rootOptions.evolution,\n\t                environmentDifferenceWeight = _rootOptions$evolutio.environmentDifferenceWeight,\n\t                groupsCount = _rootOptions$evolutio.groupsCount,\n\t                count = rootOptions.options.count;\n\t\n\t            var oneGroupCount = Math.floor(count / groupsCount);\n\t            return _extends({}, this._environmentChanger.fluctuateOptions(rootOptions, environmentDifferenceWeight), {\n\t                options: _extends({}, rootOptions.options, {\n\t                    count: oneGroupCount\n\t                })\n\t            });\n\t        }\n\t    }, {\n\t        key: '_getMinIteration',\n\t        value: function _getMinIteration() {\n\t            return Math.min.apply(Math, _toConsumableArray(Object.values(this.iteration)));\n\t        }\n\t    }]);\n\n\t    return PunctuatedEquilibriumExecutor;\n\t}();\n\n/***/ },\n\n/***/ 691:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// https://github.com/dmihal/Subworkers\n\t/* eslint-disable */\n\t(function () {\n\t\n\t  /* Detect if we're in a worker or not */\n\t  var isWorker = false;\n\t  try {\n\t    document;\n\t  } catch (e) {\n\t    isWorker = true;\n\t  }\n\t\n\t  if (isWorker) {\n\t    if (!self.Worker) {\n\t      self.Worker = function (path) {\n\t        var that = this;\n\t        this.id = Math.random().toString(36).substr(2, 5);\n\t\n\t        this.eventListeners = {\n\t          \"message\": []\n\t        };\n\t        self.addEventListener(\"message\", function (e) {\n\t          if (e.data._from === that.id) {\n\t            var newEvent = new MessageEvent(\"message\");\n\t            newEvent.initMessageEvent(\"message\", false, false, e.data.message, that, \"\", null, []);\n\t            that.dispatchEvent(newEvent);\n\t            if (that.onmessage) {\n\t              that.onmessage(newEvent);\n\t            }\n\t          }\n\t        });\n\t\n\t        var location = self.location.pathname;\n\t        var absPath = location.substring(0, location.lastIndexOf('/')) + '/' + path;\n\t        self.postMessage({\n\t          _subworker: true,\n\t          cmd: 'newWorker',\n\t          id: this.id,\n\t          path: absPath\n\t        });\n\t      };\n\t      Worker.prototype = {\n\t        onerror: null,\n\t        onmessage: null,\n\t        postMessage: function postMessage(message) {\n\t          self.postMessage({\n\t            _subworker: true,\n\t            id: this.id,\n\t            cmd: 'passMessage',\n\t            message: message\n\t          });\n\t        },\n\t        terminate: function terminate() {\n\t          self.postMessage({\n\t            _subworker: true,\n\t            cmd: 'terminate',\n\t            id: this.id\n\t          });\n\t        },\n\t        addEventListener: function addEventListener(type, listener, useCapture) {\n\t          if (this.eventListeners[type]) {\n\t            this.eventListeners[type].push(listener);\n\t          }\n\t        },\n\t        removeEventListener: function removeEventListener(type, listener, useCapture) {\n\t          if (!(type in this.eventListeners)) return;\n\t          var index = this.eventListeners[type].indexOf(listener);\n\t          if (index !== -1) {\n\t            this.eventListeners[type].splice(index, 1);\n\t          }\n\t        },\n\t        dispatchEvent: function dispatchEvent(event) {\n\t          var listeners = this.eventListeners[event.type];\n\t          for (var i = 0; i < listeners.length; i++) {\n\t            listeners[i](event);\n\t          }\n\t        }\n\t      };\n\t    }\n\t  }\n\t\n\t  var allWorkers = {};\n\t  var cmds = {\n\t    newWorker: function newWorker(event) {\n\t      var worker = new Worker(event.data.path);\n\t      worker.addEventListener(\"message\", function (e) {\n\t        var envelope = {\n\t          _from: event.data.id,\n\t          message: e.data\n\t        };\n\t        event.target.postMessage(envelope);\n\t      });\n\t      allWorkers[event.data.id] = worker;\n\t    },\n\t    terminate: function terminate(event) {\n\t      allWorkers[event.data.id].terminate();\n\t    },\n\t    passMessage: function passMessage(event) {\n\t      allWorkers[event.data.id].postMessage(event.data.message);\n\t    }\n\t  };\n\t  var messageRecieved = function messageRecieved(event) {\n\t    if (event.data._subworker) {\n\t      cmds[event.data.cmd](event);\n\t    }\n\t  };\n\t\n\t  /* Hijack Worker */\n\t  var oldWorker = Worker;\n\t  Worker = function (_Worker) {\n\t    function Worker(_x) {\n\t      return _Worker.apply(this, arguments);\n\t    }\n\t\n\t    Worker.toString = function () {\n\t      return _Worker.toString();\n\t    };\n\t\n\t    return Worker;\n\t  }(function (path) {\n\t    if (this.constructor !== Worker) {\n\t      throw new TypeError(\"Failed to construct 'Worker': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n\t    }\n\t\n\t    var blobIndex = path.indexOf('blob:');\n\t\n\t    if (blobIndex !== -1 && blobIndex !== 0) {\n\t      path = path.substring(blobIndex);\n\t    }\n\t\n\t    var newWorker = new oldWorker(path);\n\t    newWorker.addEventListener(\"message\", messageRecieved);\n\t\n\t    return newWorker;\n\t  });\n\t})();\n\n/***/ },\n\n/***/ 692:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.SimpleGARunner = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleGAWorker = __webpack_require__(693);\n\t\n\tvar _SimpleGAWorker2 = _interopRequireDefault(_SimpleGAWorker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * @description TODO: merge with GARunner\r\n\t */\n\tvar SimpleGARunner = exports.SimpleGARunner = function () {\n\t\n\t    /**\r\n\t     * @param { Object } options\r\n\t     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n\t     */\n\t    function SimpleGARunner(options, workerOptions, reference, onMigration) {\n\t        _classCallCheck(this, SimpleGARunner);\n\t\n\t        this.onMigration = onMigration;\n\t        this._setupDefault(options, workerOptions, reference);\n\t    }\n\t\n\t    /**\r\n\t     * @param { Object } options\r\n\t     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n\t     * @param {*} reference \r\n\t     */\n\t\n\t    /**\r\n\t     * @type {Worker}\r\n\t     */\n\t\n\t\n\t    _createClass(SimpleGARunner, [{\n\t        key: '_setupDefault',\n\t        value: function _setupDefault(options, workerOptions, reference) {\n\t            this._worker = new _SimpleGAWorker2.default();\n\t            this._worker.onmessage = this._createOnMessage(workerOptions, this._worker);\n\t            this._worker.onerror = function (err) {\n\t                return console.warn(err);\n\t            };\n\t            this._worker.postMessage({ data: { options: options, reference: reference }, action: 'start' });\n\t        }\n\t    }, {\n\t        key: 'pause',\n\t        value: function pause() {\n\t            this._worker.postMessage({ action: 'pause' });\n\t        }\n\t    }, {\n\t        key: 'resume',\n\t        value: function resume() {\n\t            this._worker.postMessage({ action: 'resume' });\n\t        }\n\t    }, {\n\t        key: 'stop',\n\t        value: function stop() {\n\t            this._worker.postMessage({ action: 'stop' });\n\t        }\n\t    }, {\n\t        key: 'destroy',\n\t        value: function destroy() {\n\t            this._worker.terminate();\n\t        }\n\t\n\t        /**\r\n\t         * @description To react on worker postMessages\r\n\t         */\n\t\n\t    }, {\n\t        key: '_createOnMessage',\n\t        value: function _createOnMessage(_ref, instance) {\n\t            var _this = this;\n\t\n\t            var onDone = _ref.onDone,\n\t                onProgress = _ref.onProgress,\n\t                onPause = _ref.onPause;\n\t\n\t            return function (_ref2) {\n\t                var _ref2$data = _ref2.data,\n\t                    data = _ref2$data.data,\n\t                    action = _ref2$data.action;\n\t\n\t                console.log('SimpleGARunner: onmessage from worker ' + action);\n\t\n\t                if (action === 'done') {\n\t                    var population = data.data;\n\t                    onProgress({ percentage: 100, best: population[1] });\n\t                    onDone(data);\n\t                    return;\n\t                }\n\t\n\t                if (onProgress && action === 'progress') {\n\t                    onProgress({\n\t                        percentage: data.percentage,\n\t                        best: data.best\n\t                    });\n\t                }\n\t\n\t                if (onPause && action === 'pause') {\n\t                    onPause(data);\n\t                }\n\t\n\t                if (action === 'migrate') {\n\t                    var migrantsToSendBack = _this.onMigration(data.migrants);\n\t                    if (migrantsToSendBack) {\n\t                        instance.postMessage({\n\t                            action: 'migrate',\n\t                            data: { migrants: migrantsToSendBack }\n\t                        });\n\t                    }\n\t                }\n\t            };\n\t        }\n\t    }]);\n\n\t    return SimpleGARunner;\n\t}();\n\n/***/ },\n\n/***/ 693:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function() {\n\t\treturn new Worker(__webpack_require__.p + \"c01b4358ef245848376a.worker.js\");\n\t};\n\n/***/ },\n\n/***/ 694:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.GARunner = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tvar _GAWorker = __webpack_require__(695);\n\t\n\tvar _GAWorker2 = _interopRequireDefault(_GAWorker);\n\t\n\tvar _utils = __webpack_require__(610);\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * @class Creates GA worker instance and passes options to it.\r\n\t * Creates everytime user pushes to \"run\" button\r\n\t */\n\tvar GARunner = exports.GARunner = function () {\n\t\n\t    /**\r\n\t     * @param { { useEvolutionStrategies: boolean } } options\r\n\t     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type {Worker}\r\n\t     */\n\t\n\t\n\t    /**\r\n\t     * @type {Array<number[]>} - an array of Individuals content\r\n\t     */\n\t    function GARunner(options, workerOptions) {\n\t        _classCallCheck(this, GARunner);\n\t\n\t        this.workersPool = {};\n\t        this.migrationPool = [];\n\t        this._useEvolutionStrategies = false;\n\t\n\t        var reference = _MusicContext2.default.getCurrentComposition();\n\t        var evolution = options.evolution;\n\t        this._useEvolutionStrategies = options.options.useEvolutionStrategies;\n\t\n\t        if (this._useEvolutionStrategies) {\n\t            this._setupEvolutions(evolution, options, workerOptions, reference);\n\t        } else {\n\t            this._setupDefault(options, workerOptions, reference);\n\t        }\n\t    }\n\t\n\t    _createClass(GARunner, [{\n\t        key: '_setupEvolutions',\n\t        value: function _setupEvolutions(evolution, options, workerOptions, reference) {\n\t            var _this = this;\n\t\n\t            // 1. Determine which evolution is used\n\t            var migrationSize = options.options.migrationSize;\n\t\n\t\n\t            var availableEvolutions = Object.entries(evolution).filter(function (_ref) {\n\t                var _ref2 = _slicedToArray(_ref, 2),\n\t                    _ = _ref2[0],\n\t                    evolutionOptions = _ref2[1];\n\t\n\t                return evolutionOptions.weight > 0;\n\t            });\n\t\n\t            var max = availableEvolutions.reduce(function (sum, _ref3) {\n\t                var _ref4 = _slicedToArray(_ref3, 2),\n\t                    _ = _ref4[0],\n\t                    weight = _ref4[1].weight;\n\t\n\t                return sum + weight;\n\t            }, 0);\n\t\n\t            var normalizedPopulation = availableEvolutions.map(function (_ref5) {\n\t                var _ref6 = _slicedToArray(_ref5, 2),\n\t                    name = _ref6[0],\n\t                    evolutionOptions = _ref6[1];\n\t\n\t                return [name, _extends({}, evolutionOptions, {\n\t                    size: Math.floor(migrationSize * evolutionOptions.weight / max)\n\t                })];\n\t            });\n\t\n\t            normalizedPopulation.forEach(function (_ref7) {\n\t                var _ref8 = _slicedToArray(_ref7, 2),\n\t                    evolutionName = _ref8[0],\n\t                    evolutionOptions = _ref8[1];\n\t\n\t                var randomKey = evolutionName + '_' + (0, _utils.uuid)();\n\t                var worker = _this.workersPool[randomKey] = new _GAWorker2.default();\n\t                worker.onmessage = _this._createOnMessageForEvolution(workerOptions, evolutionOptions, worker, evolutionName);\n\t                worker.onerror = function (err) {\n\t                    return console.warn(err);\n\t                };\n\t\n\t                worker.postMessage({\n\t                    data: {\n\t                        options: _extends({}, options, {\n\t                            // NOTE: Change population size according to weight \n\t                            count: evolutionOptions.size\n\t                        }),\n\t                        reference: reference,\n\t                        id: randomKey,\n\t                        evolutionName: evolutionName\n\t                    },\n\t                    action: 'start'\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: '_setupDefault',\n\t        value: function _setupDefault(options, workerOptions, reference) {\n\t            this._worker = new _GAWorker2.default();\n\t            this._worker.onmessage = this._createOnMessage(workerOptions);\n\t            this._worker.onerror = function (err) {\n\t                return console.warn(err);\n\t            };\n\t            this._worker.postMessage({ data: { options: options, reference: reference }, action: 'start' });\n\t        }\n\t    }, {\n\t        key: 'pause',\n\t        value: function pause() {\n\t            if (this._useEvolutionStrategies) {\n\t                // TODO: do i need id to pass to pause?\n\t                Object.values(this.workersPool).forEach(function (w) {\n\t                    return w.postMessage({ action: 'pause' });\n\t                });\n\t            } else {\n\t                this._worker.postMessage({ action: 'pause' });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'resume',\n\t        value: function resume() {\n\t            if (this._useEvolutionStrategies) {\n\t                // TODO: do i need id to pass to resume?\n\t                Object.values(this.workersPool).forEach(function (w) {\n\t                    return w.postMessage({ action: 'resume' });\n\t                });\n\t            } else {\n\t                this._worker.postMessage({ action: 'resume' });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'stop',\n\t        value: function stop() {\n\t            if (this._useEvolutionStrategies) {\n\t                // TODO: do i need id to pass to stop?\n\t                Object.values(this.workersPool).forEach(function (w) {\n\t                    return w.postMessage({ action: 'stop' });\n\t                });\n\t            } else {\n\t                this._worker.postMessage({ action: 'stop' });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'destroy',\n\t        value: function destroy() {\n\t            if (this._useEvolutionStrategies) {\n\t                Object.values(this.workersPool).forEach(function (w) {\n\t                    return w.terminate();\n\t                });\n\t                this.workersPool = {};\n\t            } else {\n\t                this._worker.terminate();\n\t            }\n\t        }\n\t    }, {\n\t        key: '_createOnMessageForEvolution',\n\t        value: function _createOnMessageForEvolution(_ref9, evolutionOptions, instance, evolutionName) {\n\t            var onDone = _ref9.onDone,\n\t                onProgress = _ref9.onProgress,\n\t                onPause = _ref9.onPause;\n\t\n\t            var _this2 = this;\n\t\n\t            return function (_ref10) {\n\t                var _ref10$data = _ref10.data,\n\t                    data = _ref10$data.data,\n\t                    action = _ref10$data.action;\n\t\n\t                console.log('Evolutions: onmessage from worker ' + evolutionName + ', ' + action);\n\t\n\t                if (action === 'done') {\n\t                    var population = data.data;\n\t                    onProgress({\n\t                        id: data.id,\n\t                        percentage: 100,\n\t                        best: population[1]\n\t                    });\n\t                    onDone(data);\n\t                    return;\n\t                }\n\t\n\t                if (onProgress && action === 'progress') {\n\t                    onProgress({\n\t                        id: data.id,\n\t                        percentage: data.percentage,\n\t                        best: data.best\n\t                    });\n\t                }\n\t\n\t                if (onPause && action === 'pause') {\n\t                    onPause(data);\n\t                }\n\t\n\t                if (action === 'migrate') {\n\t                    var _migrationPool;\n\t\n\t                    var migrants = data.migrants,\n\t                        id = data.id;\n\t\n\t                    // Send migrants back\n\t\n\t                    var migrantsToSend = _this2._getMigrants(migrants.length);\n\t                    if (migrantsToSend) {\n\t                        instance.postMessage({\n\t                            action: 'migrate',\n\t                            data: { migrants: migrantsToSend }\n\t                        });\n\t                    }\n\t\n\t                    // Store received migrants\n\t                    (_migrationPool = _this2.migrationPool).push.apply(_migrationPool, _toConsumableArray(migrants));\n\t                }\n\t            };\n\t        }\n\t    }, {\n\t        key: '_createOnMessage',\n\t        value: function _createOnMessage(_ref11) {\n\t            var onDone = _ref11.onDone,\n\t                onProgress = _ref11.onProgress,\n\t                onPause = _ref11.onPause;\n\t\n\t            return function (_ref12) {\n\t                var _ref12$data = _ref12.data,\n\t                    data = _ref12$data.data,\n\t                    action = _ref12$data.action;\n\t\n\t                console.log('onmessage from worker ' + action);\n\t\n\t                if (action === 'done') {\n\t                    var population = data.data;\n\t                    onProgress({ percentage: 100, best: population[1] });\n\t                    onDone(data);\n\t                    return;\n\t                }\n\t\n\t                if (onProgress && action === 'progress') {\n\t                    onProgress({\n\t                        percentage: data.percentage,\n\t                        best: data.best\n\t                    });\n\t                }\n\t\n\t                if (onPause && action === 'pause') {\n\t                    onPause(data);\n\t                }\n\t            };\n\t        }\n\t\n\t        /**\r\n\t         * @description Grab random migrants from pool.\r\n\t         * NOTE! it could even be previous migrants from this exact evolution\r\n\t         * @param {number} count \r\n\t         */\n\t\n\t    }, {\n\t        key: '_getMigrants',\n\t        value: function _getMigrants(count) {\n\t            var _this3 = this;\n\t\n\t            console.log(this.migrationPool.length);\n\t            var indexes = _utils.arrayUtils.getRandomIndexes(count, this.migrationPool.length);\n\t            var result = indexes.map(function (i) {\n\t                return _this3.migrationPool[i];\n\t            });\n\t            (0, _lodash.remove)(this.migrationPool, function (_, index) {\n\t                return indexes.includes(index);\n\t            });\n\t            console.log(this.migrationPool.length);\n\t            return result;\n\t        }\n\t    }]);\n\n\t    return GARunner;\n\t}();\n\n/***/ },\n\n/***/ 695:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function() {\n\t\treturn new Worker(__webpack_require__.p + \"7325311df0010cbd8d08.worker.js\");\n\t};\n\n/***/ },\n\n/***/ 696:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.IndividualsTable = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _Player = __webpack_require__(461);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar IndividualsTable = exports.IndividualsTable = function (_React$Component) {\n\t\t_inherits(IndividualsTable, _React$Component);\n\t\n\t\tfunction IndividualsTable(params) {\n\t\t\t_classCallCheck(this, IndividualsTable);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, (IndividualsTable.__proto__ || Object.getPrototypeOf(IndividualsTable)).call(this, params));\n\t\n\t\t\t_this.stop = function () {\n\t\t\t\t_Player2.default.stop();\n\t\t\t};\n\t\n\t\t\t_this.state = {\n\t\t\t\tselectedIndex: -1\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(IndividualsTable, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'individuals-table-wrapper' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h4',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Population ',\n\t\t\t\t\t\tthis.props.name,\n\t\t\t\t\t\t':'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Table,\n\t\t\t\t\t\t{ striped: true, bordered: true, condensed: true, hover: true },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'thead',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'tr',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('th', null),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'th',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'Name'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'th',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'Fitness'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'tbody',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tthis._renderPopulation()\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'renderItem',\n\t\t\tvalue: function renderItem(item, index) {\n\t\t\t\tvar selected = this.state.selectedIndex === index;\n\t\t\t\tvar classes = selected ? 'highlight' : '';\n\t\t\t\tvar fitnessFrag = selected ? this.renderFitnessInfo(item) : item.fitness.value.toFixed(3);\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'tr',\n\t\t\t\t\t{ className: classes, key: index, onClick: this.onSelect.bind(this, item, index) },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.ButtonGroup,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ bsStyle: 'info', onClick: this.play.bind(this, item.content) },\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-play' })\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ bsStyle: 'info', onClick: this.stop },\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-stop' })\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'name' + index\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tfitnessFrag\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_renderPopulation',\n\t\t\tvalue: function _renderPopulation() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\treturn this.props.population.map(function (x, i) {\n\t\t\t\t\treturn _this2.renderItem(x, i);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'renderFitnessInfoItems',\n\t\t\tvalue: function renderFitnessInfoItems(items) {\n\t\t\t\treturn items.map(function (_ref) {\n\t\t\t\t\tvar key = _ref.key,\n\t\t\t\t\t    value = _ref.value,\n\t\t\t\t\t    className = _ref.className;\n\t\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t\t'tr',\n\t\t\t\t\t\t{ key: key, className: className },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'td',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'td',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tvalue.toFixed(3)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'renderFitnessInfo',\n\t\t\tvalue: function renderFitnessInfo(item) {\n\t\t\t\tvar fitness = this.renderFitnessInfoItems([{\n\t\t\t\t\tkey: 'total',\n\t\t\t\t\tclassName: 'total',\n\t\t\t\t\tvalue: item.fitness.value\n\t\t\t\t}].concat(Object.keys(item.fitness.full).map(function (key) {\n\t\t\t\t\treturn { key: key, value: item.fitness.full[key] };\n\t\t\t\t})));\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Table,\n\t\t\t\t\t{ condensed: true, style: { marginBottom: 0 } },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'tbody',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tfitness\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'play',\n\t\t\tvalue: function play(content) {\n\t\t\t\t_Player2.default.play(content);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'onSelect',\n\t\t\tvalue: function onSelect(item, index) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tselectedIndex: index\n\t\t\t\t});\n\t\t\t\tthis.props.onSelect(item);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn IndividualsTable;\n\t}(_react2.default.Component);\n\n/***/ },\n\n/***/ 697:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ABCJS = __webpack_require__(698);\n\t\n\tvar _ABCJS2 = _interopRequireDefault(_ABCJS);\n\t\n\tvar _convertToABC = __webpack_require__(699);\n\t\n\tvar _convertToABC2 = _interopRequireDefault(_convertToABC);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Sheet = function (_React$Component) {\n\t\t_inherits(Sheet, _React$Component);\n\t\n\t\tfunction Sheet(params) {\n\t\t\t_classCallCheck(this, Sheet);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, (Sheet.__proto__ || Object.getPrototypeOf(Sheet)).call(this, params));\n\t\n\t\t\t_this._element = null;\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Sheet, [{\n\t\t\tkey: 'componentDidMount',\n\t\t\tvalue: function componentDidMount() {\n\t\t\t\tthis._element = this.refs.abcjs;\n\t\t\t\tif (this.props.data) {\n\t\t\t\t\tthis._initializeWidget(this.props.data);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'componentWillReceiveProps',\n\t\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\t\tif (!nextProps.data) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tthis._initializeWidget(nextProps.data);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement('div', { ref: 'abcjs' });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_initializeWidget',\n\t\t\tvalue: function _initializeWidget(data) {\n\t\t\t\t_ABCJS2.default.renderAbc(this._element, (0, _convertToABC2.default)(data), null, {\n\t\t\t\t\tscale: 1\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Sheet;\n\t}(_react2.default.Component);\n\t\n\texports.default = Sheet;\n\n/***/ },\n\n/***/ 698:\n/***/ function(module, exports) {\n\n\tmodule.exports = ABCJS;\n\n/***/ },\n\n/***/ 699:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = convertToABC;\n\t/*\r\n\t!assumptations \r\n\t1/8 as a default length\r\n\tc maj as a default key\r\n\t*/\n\tvar NEW_LINE = '\\n';\n\t\n\tvar defaultHeader = '\\nX:1\\nT:Abc\\nM:4/4\\nC:GA\\nK:C\\nL:1/8\\n';\n\t\n\tvar referenceTable = {\n\t\t0: 'z',\n\t\t1: 'C',\n\t\t2: 'D',\n\t\t3: 'E',\n\t\t4: 'F',\n\t\t5: 'G',\n\t\t6: 'A',\n\t\t7: 'B',\n\t\t8: 'c',\n\t\t9: 'd',\n\t\t10: 'e',\n\t\t11: 'f',\n\t\t12: 'g',\n\t\t13: 'a',\n\t\t14: 'b'\n\t};\n\t\n\tfunction createNote(noteIndex, size) {\n\t\tif (noteIndex == null) {\n\t\t\treturn '';\n\t\t}\n\t\treturn referenceTable[noteIndex] + size;\n\t}\n\t\n\tfunction convertToABC(source) {\n\t\tvar answer = defaultHeader;\n\t\n\t\tvar previousNote = null;\n\t\tvar size = 1;\n\t\n\t\tfor (var i = 0, l = source.length; i < l; i++) {\n\t\t\tvar item = source[i];\n\t\n\t\t\tif (item === -1) {\n\t\t\t\tsize++;\n\t\t\t} else {\n\t\t\t\tanswer += createNote(previousNote, size);\n\t\t\t\tpreviousNote = item;\n\t\t\t\tsize = 1;\n\t\t\t}\n\t\n\t\t\t//last note\n\t\t\tif (i === source.length - 1) {\n\t\t\t\tanswer += createNote(previousNote, size);\n\t\t\t}\n\t\n\t\t\tif (i && i % 8 === 0) {\n\t\t\t\tanswer += '|';\n\t\t\t}\n\t\n\t\t\tif (i && i % 32 === 0) {\n\t\t\t\tanswer += NEW_LINE;\n\t\t\t}\n\t\t}\n\t\n\t\treturn answer;\n\t}\n\n/***/ },\n\n/***/ 700:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(479);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // 3d Party\n\t\n\t\n\t// Plugin\n\t\n\t\n\tvar DEFAULT = 'default';\n\t\n\tvar Compositions = function (_React$Component) {\n\t\t_inherits(Compositions, _React$Component);\n\t\n\t\tfunction Compositions(params) {\n\t\t\t_classCallCheck(this, Compositions);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, (Compositions.__proto__ || Object.getPrototypeOf(Compositions)).call(this, params));\n\t\n\t\t\t_this.select = function (item) {\n\t\t\t\t_MusicContext2.default.selectComposition(item);\n\t\t\t\t_this.setState({\n\t\t\t\t\tcurrentKey: item\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\t_this.state = {\n\t\t\t\tcompositions: _MusicContext2.default.getAllCompositions(),\n\t\t\t\tnameRaw: '',\n\t\t\t\tname: '',\n\t\t\t\tcurrentKey: _MusicContext2.default.getCurrentKey()\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Compositions, [{\n\t\t\tkey: 'onNameChange',\n\t\t\tvalue: function onNameChange(e) {\n\t\t\t\tvar nameRaw = e.target.value;\n\t\t\t\tthis.setState({ nameRaw: nameRaw });\n\t\t\t\tthis.setState({ name: '' });\n\t\n\t\t\t\tif (_MusicContext2.default.isValidName(nameRaw)) {\n\t\t\t\t\tthis.setState({ name: nameRaw });\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'remove',\n\t\t\tvalue: function remove(item) {\n\t\t\t\t_MusicContext2.default.remove(item);\n\t\t\t\tthis.setState({\n\t\t\t\t\tcompositions: _MusicContext2.default.getAllCompositions()\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'renderCompositionItem',\n\t\t\tvalue: function renderCompositionItem(item) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'tr',\n\t\t\t\t\t{ key: item, className: item === this.state.currentKey ? 'selected' : '' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactRouter.Link,\n\t\t\t\t\t\t\t{ to: '/compositions/' + item },\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\titem !== DEFAULT ? _react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.ButtonGroup,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ bsStyle: 'info', onClick: function onClick() {\n\t\t\t\t\t\t\t\t\t\treturn _this2.select(item);\n\t\t\t\t\t\t\t\t\t} },\n\t\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: 'ok-sign' })\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ bsStyle: 'danger', onClick: this.remove.bind(this, item) },\n\t\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: 'remove' })\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) : _react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ bsStyle: 'info', onClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn _this2.select(item);\n\t\t\t\t\t\t\t\t} },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: 'ok-sign' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h2',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Compositions'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Table,\n\t\t\t\t\t\t{ striped: true, bordered: true, condensed: true, hover: true },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'tbody',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tthis.state.compositions.map(this.renderCompositionItem.bind(this))\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h2',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'New'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(_reactBootstrap.FormControl, { type: 'text', label: 'Name', onChange: this.onNameChange.bind(this), value: this.state.nameRaw }),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactRouter.Link,\n\t\t\t\t\t\t{ to: '/compositions/' + this.state.name },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ bsStyle: 'info', disabled: !this.state.name },\n\t\t\t\t\t\t\t'New'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Compositions;\n\t}(_react2.default.Component);\n\t\n\texports.default = Compositions;\n\n/***/ },\n\n/***/ 701:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(206);\n\t\n\tvar _Player = __webpack_require__(461);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _MusicContext = __webpack_require__(625);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tvar _Sheet = __webpack_require__(697);\n\t\n\tvar _Sheet2 = _interopRequireDefault(_Sheet);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // 3d Party\n\t\n\t\n\t// Framework\n\t\n\t\n\t// Plugin\n\t\n\t\n\t// Local\n\t\n\t\n\tvar DEFAULT = 'default';\n\t\n\tvar Composition = function (_React$Component) {\n\t\t_inherits(Composition, _React$Component);\n\t\n\t\tfunction Composition(params) {\n\t\t\t_classCallCheck(this, Composition);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, (Composition.__proto__ || Object.getPrototypeOf(Composition)).call(this, params));\n\t\n\t\t\tvar composition = _MusicContext2.default.getByKey(_this.props.params.composition) || null;\n\t\n\t\t\t_this.state = {\n\t\t\t\tcompositionRaw: composition ? _this.compositionToString(composition) : '',\n\t\t\t\tcomposition: composition,\n\t\t\t\tinvalidName: true,\n\t\t\t\tinvalidComposition: false,\n\t\t\t\tisDefault: _this.props.params.composition === DEFAULT\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Composition, [{\n\t\t\tkey: '_convert',\n\t\t\tvalue: function _convert(raw) {\n\t\t\t\tvar rawArray = raw.split(' ');\n\t\n\t\t\t\trawArray = rawArray.map(function (item) {\n\t\t\t\t\treturn Number(item);\n\t\t\t\t});\n\t\n\t\t\t\tif (rawArray.some(function (item) {\n\t\t\t\t\treturn isNaN(item) || _MusicContext.availableValuesInGF.indexOf(item) === -1;\n\t\t\t\t})) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\n\t\t\t\treturn rawArray;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'compositionToString',\n\t\t\tvalue: function compositionToString(array) {\n\t\t\t\treturn array && array.join(' ') || '';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'save',\n\t\t\tvalue: function save() {\n\t\t\t\tvar composition = this.state.composition;\n\t\t\t\tvar name = this.props.params.composition;\n\t\t\t\t_MusicContext2.default.save(name, composition);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'onChange',\n\t\t\tvalue: function onChange(e) {\n\t\t\t\tvar composition = e.target.value;\n\t\t\t\tvar converted = this._convert(e.target.value);\n\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tcompositionRaw: composition\n\t\t\t\t});\n\t\n\t\t\t\tif (converted) {\n\t\t\t\t\t_Player2.default.set(converted);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tcomposition: converted,\n\t\t\t\t\t\tinvalidComposition: false\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tinvalidComposition: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar compositionKey = this.props.params.composition;\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h3',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tcompositionKey\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Row,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 4, md: 4 },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.FormControl, { componentClass: 'textarea', style: { height: 230 }, label: 'Notes', onChange: this.onChange.bind(this), value: this.state.compositionRaw }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ disabled: this.state.isDefault || this.state.invalidComposition, bsStyle: 'success', onClick: this.save.bind(this) },\n\t\t\t\t\t\t\t\t'Save'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 4, md: 4 },\n\t\t\t\t\t\t\t_react2.default.createElement(_Sheet2.default, { data: this.state.composition })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Composition;\n\t}(_react2.default.Component);\n\t\n\texports.default = Composition;\n\n/***/ },\n\n/***/ 702:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Root = undefined;\n\t\n\tvar _react = __webpack_require__(33);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(703);\n\t\n\tvar _reactRouter = __webpack_require__(479);\n\t\n\tvar _routes = __webpack_require__(203);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Root = exports.Root = function Root(_ref) {\n\t    var store = _ref.store;\n\t    return _react2.default.createElement(\n\t        _reactRedux.Provider,\n\t        { store: store },\n\t        _react2.default.createElement(_reactRouter.Router, { history: _reactRouter.hashHistory, routes: _routes2.default })\n\t    );\n\t};\n\n/***/ },\n\n/***/ 726:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.configureStore = configureStore;\n\t\n\tvar _redux = __webpack_require__(709);\n\t\n\tvar _reducers = __webpack_require__(727);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction configureStore(initialState) {\n\t\treturn (0, _redux.createStore)(_reducers2.default, initialState);\n\t}\n\n/***/ },\n\n/***/ 727:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _redux = __webpack_require__(709);\n\t\n\tvar _reducers = __webpack_require__(728);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = (0, _redux.combineReducers)({ GA: _reducers2.default });\n\n/***/ },\n\n/***/ 728:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _redux = __webpack_require__(709);\n\t\n\tvar _utils = __webpack_require__(729);\n\t\n\tvar _initialState = __webpack_require__(615);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar crossover = (0, _utils.createPluginsReducer)('crossover', _initialState2.default.GA);\n\tvar mutation = (0, _utils.createPluginsReducer)('mutation', _initialState2.default.GA);\n\tvar options = (0, _utils.createPluginsReducer)('options', _initialState2.default.GA);\n\tvar fitness = (0, _utils.createPluginsReducer)('fitness', _initialState2.default.GA);\n\tvar evolution = (0, _utils.createPluginsReducer)('evolution', _initialState2.default.GA);\n\t\n\texports.default = (0, _redux.combineReducers)({\n\t\tcrossover: crossover,\n\t\tmutation: mutation,\n\t\tfitness: fitness,\n\t\toptions: options,\n\t\tevolution: evolution\n\t});\n\n/***/ },\n\n/***/ 729:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.createDeepProperty = createDeepProperty;\n\texports.createPluginsReducer = createPluginsReducer;\n\t\n\tvar _lodash = __webpack_require__(198);\n\t\n\tvar _index = __webpack_require__(612);\n\t\n\tfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\t\n\tfunction createDeepProperty(_ref) {\n\t\tvar optionsPath = _ref.optionsPath,\n\t\t    value = _ref.value;\n\t\n\t\tvar obj = {};\n\t\tvar stopIndex = optionsPath.length - 1;\n\t\treturn optionsPath.reduce(function (prev, current, currentIndex) {\n\t\t\tif (currentIndex === stopIndex) {\n\t\t\t\tprev[current] = value;\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\treturn prev[current] = {};\n\t\t}, obj);\n\t}\n\t\n\tfunction createPluginsReducer(namespace, fullState) {\n\t\tvar initialState = fullState[namespace];\n\t\treturn function () {\n\t\t\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\t\t\tvar action = arguments[1];\n\t\n\t\t\tswitch (action.type) {\n\t\t\t\tcase _index.OPTIONS_CHANGE_ACTION:\n\t\t\t\t\t{\n\t\t\t\t\t\tif (action.optionsPath[0] !== namespace) {\n\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// NOTE: remove namespace from path;\n\t\n\t\t\t\t\t\tvar _action$optionsPath = _toArray(action.optionsPath),\n\t\t\t\t\t\t    optionsPath = _action$optionsPath.slice(1);\n\t\n\t\t\t\t\t\tvar newFragment = createDeepProperty({ optionsPath: optionsPath, value: action.value });\n\t\n\t\t\t\t\t\treturn (0, _lodash.merge)(_extends({}, state), newFragment);\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn state;\n\t\t\t}\n\t\t};\n\t}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// app.560af2f67b39365b5266.js","import 'array.prototype.findindex';\r\nimport './main.css';\r\nimport './styles/dashboard.css';\r\nimport './polyfills';\r\n\r\n//LIBS\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { throttle } from 'lodash';\r\n\r\n//APP\r\nimport './plugins/all.jsx';\r\nimport { APP_VERSION, VERSION_KEY, STATE_KEY } from './VERSION';\r\nimport { Root } from './containers/root';\r\nimport { configureStore } from './store/configureStore';\r\nimport initialState from './store/initialState';\r\nimport { storage } from './store/persistStorage';\r\n\r\nfunction migrate(persistedState, currentState) {\r\n\t// NOTE: Do not use localStorage in development.\r\n\tif (process.env.NODE_ENV === 'development') {\r\n\t\treturn currentState;\r\n\t}\r\n\r\n\tif (persistedState && storage.get(VERSION_KEY) === APP_VERSION) {\r\n\t\treturn persistedState;\r\n\t}\r\n\tstorage.set(VERSION_KEY, APP_VERSION);\r\n\treturn currentState;\r\n}\r\n\r\nconst store = configureStore(migrate(storage.get(STATE_KEY), initialState));\r\n\r\nif (process.env.NODE_ENV === 'development' && window) {\r\n\t// NOTE: to debug\r\n\twindow.store = store; \r\n}\r\n\r\nstore.subscribe(\r\n\tthrottle(() =>\r\n\t\tstorage.set(STATE_KEY, store.getState()), 1000));\r\n\r\nrender(\r\n\t<Root store={store} />,\r\n\tdocument.getElementById('root')\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/index.jsx","if (!Object.values) {\r\n  Object.values = x =>\r\n      Object.keys(x).reduce((y, z) =>\r\n          y.push(x[z]) && y, []);\r\n}\r\n\r\nif (!Object.entries) {\r\n  Object.entries = x =>\r\n      Object.keys(x).reduce((y, z) =>\r\n          y.push([z, x[z]]) && y, []);\r\n}\r\n\r\nif (!Array.prototype.includes) {\r\n  Array.prototype.includes = function(searchElement /*, fromIndex*/) {\r\n    if (this == null) {\r\n      throw new TypeError('Array.prototype.includes called on null or undefined');\r\n    }\r\n\r\n    var O = Object(this);\r\n    var len = parseInt(O.length, 10) || 0;\r\n    if (len === 0) {\r\n      return false;\r\n    }\r\n    var n = parseInt(arguments[1], 10) || 0;\r\n    var k;\r\n    if (n >= 0) {\r\n      k = n;\r\n    } else {\r\n      k = len + n;\r\n      if (k < 0) {k = 0;}\r\n    }\r\n    var currentElement;\r\n    while (k < len) {\r\n      currentElement = O[k];\r\n      if (searchElement === currentElement ||\r\n         (searchElement !== searchElement && currentElement !== currentElement)) { // NaN !== NaN\r\n        return true;\r\n      }\r\n      k++;\r\n    }\r\n    return false;\r\n  };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/polyfills.js","//TODO: Generate this file npm generate all plugins facade\r\nimport './GA/index.jsx';\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/all.jsx","import PluginRegister from '../PluginRegister.jsx';\r\nimport Index from './components/Index.jsx';\r\nimport Compositions from './components/Compositions.jsx';\r\nimport Composition from './components/Composition.jsx';\r\n\r\nPluginRegister.register({\r\n\tpath: '/',\r\n\tcomponent: Index,\r\n\ttitle: 'Genetic Algorithms (reference)'\r\n});\r\n\r\nPluginRegister.register({\r\n\tpath: '/compositions',\r\n\tcomponent: Compositions,\r\n\ttitle: 'Manage compositions'\r\n});\r\n\r\nPluginRegister.register({\r\n\tpath: '/compositions/:composition',\r\n\tcomponent: Composition,\r\n\ttitle: 'Manage compositions',\r\n\tuseNav: false\r\n});\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/index.jsx","import routes from '../routes.jsx';\r\nimport nav from '../nav.js';\r\n\r\n// TODO: reimplement singleton to context\r\n\r\n/**\r\n * @description Used to register plugins in app.\r\n * Also provides a link in navigation sidebar\r\n */\r\nclass PluginRegister {\r\n\t/**\r\n\t * @param {Object} options\r\n\t * @param {string} options.path\r\n\t * @param {React.Component} options.component\r\n\t * @param {string} options.title \r\n\t * @param {Boolean} [options.useNav=true]\r\n\t * @return {void}\r\n\t */\r\n\tregister({ path, component, title, useNav = true }) {\r\n\t\tuseNav && nav.push({ path, title });\r\n\t\troutes.childRoutes.push({ path, component });\r\n\t}\r\n}\r\n\r\nexport default new PluginRegister();\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/PluginRegister.jsx","import App from './components/App.jsx';\r\n\r\nconst routes = {\r\n\tpath: '/ga',\r\n\tcomponent: App,\r\n\tchildRoutes: []\r\n};\r\n\r\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/routes.jsx","import React from 'react';\r\nimport nav from '../nav.js';\r\n\r\nimport { Grid, Row } from 'react-bootstrap';\r\nimport LayoutNavBar from './layout/LayoutNavBar.jsx';\r\nimport LayoutSideBar from './layout/LayoutSideBar.jsx';\r\nimport LayoutMain from './layout/LayoutMain.jsx';\r\n\r\n\r\nimport Index from '../plugins/GA/components/Index';\r\n\r\nexport default class App extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<LayoutNavBar />\r\n\t\t\t\t<Grid fluid>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<LayoutSideBar nav={nav} />\r\n\t\t\t\t\t\t<LayoutMain>\r\n\t\t\t\t\t\t\t{this.props.children || <Index />}\r\n\t\t\t\t\t\t</LayoutMain>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/components/App.jsx","/**\r\n * Array<{title: string, path: string}>\r\n */\r\nconst nav = [];\r\n/*\r\nnav.push({\r\n\ttitle: 'Home',\r\n\tpath: '/'\r\n});\r\n*/\r\nexport default nav;\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/nav.js","import React from 'react';\r\nimport PlayerControls from '../PlayerControls.jsx';\r\nimport { Navbar, NavbarBrand, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router';\r\nimport { APP_VERSION } from '../../VERSION';\r\nimport { resetState } from '../../resetState';\r\n\r\nexport default class LayoutNavBar extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Navbar inverse fixedTop>\r\n\t\t\t\t<NavbarBrand>\r\n\t\t\t\t\t<Link to=\"#/\">\r\n\t\t\t\t\t\tGENOM {APP_VERSION || ''}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</NavbarBrand>\r\n\t\t\t\t<PlayerControls />\r\n\t\t\t\t<Button style={{ marginTop: 6 }} onClick={this.onResetState}>Reset state</Button>\r\n\t\t  \t</Navbar>\r\n\t\t);\r\n\t}\r\n\r\n\tonResetState = () => resetState();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/components/layout/LayoutNavBar.jsx","import React from 'react';\r\nimport Player from '../players/soundfont-player/Player.js';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\n\r\nexport default class PlayerControls extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\r\n\t\tPlayer.onSet(notes => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tenabled: Boolean(notes)\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.state = {\r\n\t\t\tenabled: false\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form className=\"navbar-form navbar-left\">\r\n\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t<Button disabled={!this.state.enabled} onClick={this.play.bind(this)}>\r\n\t\t\t\t\t\t<span className=\"glyphicon glyphicon-play\"></span>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button disabled={!this.state.enabled} onClick={this.stop.bind(this)}>\r\n\t\t\t\t\t\t<span className=\"glyphicon glyphicon-stop\"></span>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</ButtonGroup>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\r\n\tplay() {\r\n\t\tPlayer.play();\r\n\t}\r\n\r\n\tstop() {\r\n\t\tPlayer.stop();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/components/PlayerControls.jsx","import Soundfont from 'soundfont-player';\r\nimport instrumentNames from './instrumentNames.js';\r\nimport { REFERENCE_TABLE } from '../common.js';\r\n\r\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\nfunction isHold(val) {\r\n\treturn val === -1\r\n}\r\n\r\nfunction isPause(val) {\r\n\treturn val === 0\r\n}\r\n\r\nconst NOTE_LENGTH = 0.2; // 1/8 is 300ms const for now TODO: move to options\r\n\r\nclass Converter {\r\n\t//notes is Array<number> where number -1, .. , 15\r\n\tstatic convert(notes) {\r\n\t\tlet result = [];\r\n\r\n\t\tnotes.forEach(noteCode => {\r\n\t\t\tif ( isHold(noteCode) && result.length ) {\r\n\t\t\t\tresult[result.length - 1].duration += NOTE_LENGTH;\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif ( isPause(noteCode) ) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tnote: null,\r\n\t\t\t\t\tduration: NOTE_LENGTH\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tresult.push({\r\n\t\t\t\tnote: REFERENCE_TABLE[noteCode],\r\n\t\t\t\tduration: NOTE_LENGTH\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\n// NOTE: copy paste from soundfont-player\r\nfunction nameToUrl(name, sf = 'MusyngKite', format = 'mp3') {\r\n\tconst protocol = window.location.protocol;\r\n  \treturn `${protocol}//gleitz.github.io/midi-js-soundfonts/` + sf + '/' + name + '-' + format + '.js';\r\n}\r\n\r\n//this._instrument.play(note, time, duration);\r\nclass Player {\r\n\tconstructor(instrumentName = instrumentNames.acoustic_grand_piano) {\r\n\t\tthis._callbacks = [];\r\n\t\tthis._ctx = new window.AudioContext();\r\n\r\n\t\tthis._notes = [];\r\n\t\tthis._prevNotes = [];\r\n\t\tthis._timeout = null;\r\n\t\tthis._instrument = null;\r\n\t\r\n\t\tthis._isPlaying = false;\r\n\r\n\t\tSoundfont\r\n\t\t\t.instrument(this._ctx, instrumentName, {\r\n\t\t\t\tnameToUrl\r\n\t\t\t})\r\n\t\t\t.then((instrument) =>\r\n\t\t\t\tthis._instrument = instrument);\r\n\t}\r\n\r\n\tset(notes) {\r\n\t\tthis._notes = Converter.convert(notes);\r\n\t\tthis._prevNotes = this._notes.slice();\r\n\t\tthis._runCallbacks(notes);\r\n\t}\r\n\r\n\t_runCallbacks(param) {\r\n\t\tif ( this._callbacks.length ) {\r\n\t\t\tthis._callbacks.forEach(callback => {\r\n\t\t\t\tcallback(param);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonSet(callback) {\r\n\t\tthis._callbacks.push(callback);\r\n\t}\r\n\r\n\toffSet() {\r\n\t\tthis._callbacks = [];\r\n\t}\r\n\r\n\t//notes is Array<number> where number -1, .. , 15\r\n\tplay(notes) {\r\n\t\tif ( notes ) {\r\n\t\t\tthis.set(notes);\r\n\t\t}\r\n\r\n\t\tif ( this._instrument ) {\r\n\t\t\tthis._playInternal();\r\n\t\t} else {\r\n\t\t\tconsole.warn('Instruments not loaded yet');\r\n\t\t}\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis._notes = [];\r\n\t\tthis._prevNotes = [];\r\n\t\tthis._runCallbacks(null);\r\n\t}\r\n\r\n\t_playInternal() {\r\n\t\tthis._isPlaying = true;\r\n\t\tthis._notes = this._prevNotes.slice();\r\n\t\tthis._playTick();\r\n\t}\r\n\r\n\t_playTick() {\r\n\t\tconst noteItem = this._notes.shift();\r\n\r\n\t\tif ( !noteItem || !this._isPlaying ) {\r\n\t\t\tthis._clear();\r\n\t\t\treturn;\t\t\t\r\n\t\t}\r\n\r\n\t\tlet { note, duration } = noteItem;\r\n\t\tthis._instrument.play(note, this._ctx.currentTime);\r\n\t\tthis._timeout = setTimeout(() => this._playTick(), duration * 1000); // timeout use mileseconds while we put second into noteItem\r\n\t}\r\n\r\n\t_clear() {\r\n\t\tclearTimeout(this._timeout);\r\n\t\tthis._timeout = null;\r\n\t}\r\n\r\n\tstop() {\r\n\t\tthis._isPlaying = false;\r\n\t}\r\n}\r\n\r\nexport default new Player();\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/players/soundfont-player/Player.js","const instrumentNames = {\r\n\taccordion: 'accordion',\r\n\tacoustic_bass: 'acoustic_bass',\r\n\tacoustic_grand_piano: 'acoustic_grand_piano',\r\n\tacoustic_guitar_nylon: 'acoustic_guitar_nylon',\r\n\tacoustic_guitar_steel: 'acoustic_guitar_steel',\r\n\tagogo: 'agogo',\r\n\talto_sax: 'alto_sax',\r\n\tapplause: 'applause',\r\n\tbagpipe: 'bagpipe',\r\n\tbanjo: 'banjo',\r\n\tbaritone_sax: 'baritone_sax',\r\n\tbassoon: 'bassoon',\r\n\tbird_tweet: 'bird_tweet',\r\n\tblown_bottle: 'blown_bottle',\r\n\tbrass_section: 'brass_section',\r\n\tbreath_noise: 'breath_noise',\r\n\tbright_acoustic_piano: 'bright_acoustic_piano',\r\n\tcelesta: 'celesta',\r\n\tcello: 'cello',\r\n\tchoir_aahs: 'choir_aahs',\r\n\tchurch_organ: 'church_organ',\r\n\tclarinet: 'clarinet',\r\n\tclavinet: 'clavinet',\r\n\tcontrabass: 'contrabass',\r\n\tdistortion_guitar: 'distortion_guitar',\r\n\tdrawbar_organ: 'drawbar_organ',\r\n\tdulcimer: 'dulcimer',\r\n\telectric_bass_finger: 'electric_bass_finger',\r\n\telectric_bass_pick: 'electric_bass_pick',\r\n\telectric_grand_piano: 'electric_grand_piano',\r\n\telectric_guitar_clean: 'electric_guitar_clean',\r\n\telectric_guitar_jazz: 'electric_guitar_jazz',\r\n\telectric_guitar_muted: 'electric_guitar_muted',\r\n\telectric_piano_1: 'electric_piano_1',\r\n\telectric_piano_2: 'electric_piano_2',\r\n\tenglish_horn: 'english_horn',\r\n\tfiddle: 'fiddle',\r\n\tflute: 'flute',\r\n\tfrench_horn: 'french_horn',\r\n\tfretless_bass: 'fretless_bass',\r\n\tfx_1_rain: 'fx_1_rain',\r\n\tfx_2_soundtrack: 'fx_2_soundtrack',\r\n\tfx_3_crystal: 'fx_3_crystal',\r\n\tfx_4_atmosphere: 'fx_4_atmosphere',\r\n\tfx_5_brightness: 'fx_5_brightness',\r\n\tfx_6_goblins: 'fx_6_goblins',\r\n\tfx_7_echoes: 'fx_7_echoes',\r\n\tfx_8_scifi: 'fx_8_scifi',\r\n\tglockenspiel: 'glockenspiel',\r\n\tguitar_fret_noise: 'guitar_fret_noise',\r\n\tguitar_harmonics: 'guitar_harmonics',\r\n\tgunshot: 'gunshot',\r\n\tharmonica: 'harmonica',\r\n\tharpsichord: 'harpsichord',\r\n\thelicopter: 'helicopter',\r\n\thonkytonk_piano: 'honkytonk_piano',\r\n\tkalimba: 'kalimba',\r\n\tkoto: 'koto',\r\n\tlead_1_square: 'lead_1_square',\r\n\tlead_2_sawtooth: 'lead_2_sawtooth',\r\n\tlead_3_calliope: 'lead_3_calliope',\r\n\tlead_4_chiff: 'lead_4_chiff',\r\n\tlead_5_charang: 'lead_5_charang',\r\n\tlead_6_voice: 'lead_6_voice',\r\n\tlead_7_fifths: 'lead_7_fifths',\r\n\tlead_8_bass__lead: 'lead_8_bass__lead',\r\n\tmarimba: 'marimba',\r\n\tmelodic_tom: 'melodic_tom',\r\n\tmusic_box: 'music_box',\r\n\tmuted_trumpet: 'muted_trumpet',\r\n\toboe: 'oboe',\r\n\tocarina: 'ocarina',\r\n\torchestra_hit: 'orchestra_hit',\r\n\torchestral_harp: 'orchestral_harp',\r\n\toverdriven_guitar: 'overdriven_guitar',\r\n\tpad_1_new_age: 'pad_1_new_age',\r\n\tpad_2_warm: 'pad_2_warm',\r\n\tpad_3_polysynth: 'pad_3_polysynth',\r\n\tpad_4_choir: 'pad_4_choir',\r\n\tpad_5_bowed: 'pad_5_bowed',\r\n\tpad_6_metallic: 'pad_6_metallic',\r\n\tpad_7_halo: 'pad_7_halo',\r\n\tpad_8_sweep: 'pad_8_sweep',\r\n\tpan_flute: 'pan_flute',\r\n\tpercussive_organ: 'percussive_organ',\r\n\tpiccolo: 'piccolo',\r\n\tpizzicato_strings: 'pizzicato_strings',\r\n\trecorder: 'recorder',\r\n\treed_organ: 'reed_organ',\r\n\treverse_cymbal: 'reverse_cymbal',\r\n\trock_organ: 'rock_organ',\r\n\tseashore: 'seashore',\r\n\tshakuhachi: 'shakuhachi',\r\n\tshamisen: 'shamisen',\r\n\tshanai: 'shanai',\r\n\tsitar: 'sitar',\r\n\tslap_bass_1: 'slap_bass_1',\r\n\tslap_bass_2: 'slap_bass_2',\r\n\tsoprano_sax: 'soprano_sax',\r\n\tsteel_drums: 'steel_drums',\r\n\tstring_ensemble_1: 'string_ensemble_1',\r\n\tstring_ensemble_2: 'string_ensemble_2',\r\n\tsynth_bass_1: 'synth_bass_1',\r\n\tsynth_bass_2: 'synth_bass_2',\r\n\tsynth_brass_1: 'synth_brass_1',\r\n\tsynth_brass_2: 'synth_brass_2',\r\n\tsynth_choir: 'synth_choir',\r\n\tsynth_drum: 'synth_drum',\r\n\tsynth_strings_1: 'synth_strings_1',\r\n\tsynth_strings_2: 'synth_strings_2',\r\n\ttaiko_drum: 'taiko_drum',\r\n\ttango_accordion: 'tango_accordion',\r\n\ttelephone_ring: 'telephone_ring',\r\n\ttenor_sax: 'tenor_sax',\r\n\ttimpani: 'timpani',\r\n\ttinkle_bell: 'tinkle_bell',\r\n\ttremolo_strings: 'tremolo_strings',\r\n\ttrombone: 'trombone',\r\n\ttrumpet: 'trumpet',\r\n\ttuba: 'tuba',\r\n\ttubular_bells: 'tubular_bells',\r\n\tvibraphone: 'vibraphone',\r\n\tviola: 'viola',\r\n\tviolin: 'violin',\r\n\tvoice_oohs: 'voice_oohs',\r\n\twhistle: 'whistle',\r\n\twoodblock: 'woodblock',\r\n\txylophone: 'xylophone'\r\n};\r\n\r\nexport default instrumentNames;\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/players/soundfont-player/instrumentNames.js","export const REFERENCE_TABLE = {\r\n\t1: 'C3',\r\n\t2: 'D3',\r\n\t3: 'E3',\r\n\t4: 'F3',\r\n\t5: 'G3',\r\n\t6: 'A3',\r\n\t7: 'B3',\r\n\t8: 'C4',\r\n\t9: 'D4',\r\n\t10: 'E4',\r\n\t11: 'F4',\r\n\t12: 'G4',\r\n\t13: 'A4',\r\n\t14: 'B4'\r\n}; \r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/players/common.js","export const APP_VERSION = '0.0.4';\r\nexport const STATE_KEY = '__APP_STATE__';\r\nexport const VERSION_KEY = '__APP_VERSION__';\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/VERSION.js","import { storage } from './store/persistStorage';\r\nimport { VERSION_KEY, STATE_KEY } from './VERSION';\r\n\r\nexport function resetState() {\r\n\tstorage.remove(VERSION_KEY);\r\n\tstorage.remove(STATE_KEY);\r\n\tlocation.reload();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/resetState.js","export const storage = {\r\n\tget(key) {\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(localStorage.getItem(key));\r\n\t\t} catch (e) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t},\r\n\tset(key, value) {\r\n\t\ttry {\r\n\t\t\treturn localStorage.setItem(key, JSON.stringify(value));\r\n\t\t} catch (e) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t},\r\n\tremove(key) {\r\n\t\ttry {\r\n\t\t\treturn localStorage.removeItem(key);\r\n\t\t} catch (e) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/store/persistStorage.js","import React from 'react';\r\nimport { Col, Nav, NavItem } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nexport default class LayoutSideBar extends React.Component {\r\n    render() {\r\n        const navItems = this.props.nav.map(navItem => {\r\n            return (\r\n                <LinkContainer key={navItem.path} to={navItem.path}>\r\n                    <NavItem>{navItem.title}</NavItem>\r\n                </LinkContainer>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <Col sm={3} md={2} className=\"sidebar\">\r\n              <Nav className=\"nav-sidebar\">\r\n                {navItems}\r\n              </Nav>\r\n            </Col>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/components/layout/LayoutSideBar.jsx","import React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\n\r\nexport default class LayoutMain extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Col sm={9} md={10} mdOffset={2} smOffset={3} className=\"main\">\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</Col>\r\n\t\t);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/components/layout/LayoutMain.jsx","//styles\r\nimport './styles.css';\r\n\r\n//libs\r\nimport React from 'react';\r\nimport { isEmpty } from 'lodash';\r\nimport { Button, Grid, Col, Row, ButtonGroup, Panel, ProgressBar } from 'react-bootstrap';\r\nimport { Graph } from './Graph';\r\nimport Player from '../../../players/soundfont-player/Player.js';\r\n\r\n//Components\r\nimport GAOptions from './GAOptions.jsx';\r\nimport { GARunner } from '../lib/ga/GARunner.js';\r\nimport { IndividualsTable } from './IndividualsTable';\r\nimport Sheet from './Sheet.jsx';\r\n\r\nconst DEFAULT_STATE = {\r\n\t/**\r\n\t * @description App state\r\n\t */\r\n\tworking: false,\r\n\tpaused: false,\r\n\r\n\t/**\r\n\t * @description Used to draw Music Scores \r\n\t */\r\n\tselected: null,\r\n\r\n\r\n\t/**\r\n\t * @description Old population holder for single evolution \r\n\t * @deprecated\r\n\t * @type {{ content: number[], fitness: { value: number, full: { [key: string]: number } }}[]\r\n\t */\r\n\tpopulation: [],\r\n\r\n\t/**\r\n\t * @description Populations hash for evolutions\r\n\t * @type { { [evolutionName: string]: { content: number[], fitness: { value: number, full: { [key: string]: number } } }[] }\r\n\t */\r\n\tpopulations: {},\r\n\r\n\t/**\r\n\t * @type { { name: string, values: { x: number, y: number }[] }[] }\r\n\t */\r\n\tstatistics: [],\r\n\r\n\r\n\t/**\r\n\t * @description Used with multiple evolutions to display multiple progress bars\r\n\t * @type {{[evolutionName: string]: number}}\r\n\t */\r\n\tpercentages: {},\r\n\r\n\t/**\r\n\t * @description Progress\r\n\t */\r\n\tpercentage: 0,\r\n\r\n\t/**\r\n\t * @description Best one of all evolutions\r\n\t * @type {{fitness: { value: number }}}\r\n\t */\r\n\tbest: null,\r\n\r\n\t/**\r\n\t * @description Best for each evolutions\r\n\t * @type { [evolutionName: string]: {fitness: { value: number }} }\r\n \t*/\r\n\tbests: {}\r\n};\r\n\r\nexport default class Index extends React.Component {\r\n\tstate = { ...DEFAULT_STATE };\r\n\t/**\r\n\t * @type {GARunner}\r\n\t */\r\n\trunner = null\r\n\r\n\tselect = (item) => {\r\n\t\tPlayer.set(item.content);\r\n\t\tthis.setState({\r\n\t\t\tselected: item.content\r\n\t\t});\r\n\t}\r\n\r\n\trun = () => {\r\n\t\tconst newState = {\r\n\t\t\t...DEFAULT_STATE,\r\n\t\t\tbests: {},\r\n\t\t\tstatistics: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'darwin-evolution',\r\n\t\t\t\t\tvalues: [\r\n\t\t\t\t\t\t{ x: 0, y: 0 }\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tworking: true\r\n\t\t};\r\n\r\n\t\tthis.setState(newState);\r\n\r\n\t\tif (this.runner) {\r\n\t\t\tthis.runner.destroy();\r\n\t\t}\r\n\r\n\t\tthis.runner = this._createRunner();\r\n\t};\r\n\r\n\tresume = () => {\r\n\t\tthis.setState({\r\n\t\t\tpaused: false\r\n\t\t});\r\n\t\tthis.runner && this.runner.resume();\r\n\t};\r\n\r\n\tpause = () => {\r\n\t\tthis.setState({\r\n\t\t\tpaused: true\r\n\t\t});\r\n\t\tthis.runner && this.runner.pause();\r\n\t};\r\n\r\n\tstop = () => {\r\n\t\tthis.runner && this.runner.stop();\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { store } = this.context;\r\n\r\n\t\tlet scoresPanel = null;\r\n\t\tlet progressBar = null;\r\n\t\tlet best = null;\r\n\t\tlet individualsTable = null;\r\n\r\n\t\tif (this.state.population.length) {\r\n\t\t\t// TODO: create table for each worker, or use different colors for rows?\r\n\t\t\tindividualsTable = (\r\n\t\t\t\t<IndividualsTable\r\n\t\t\t\t\tpopulation={this.state.population}\r\n\t\t\t\t\tonSelect={this.select} />\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (!isEmpty(this.state.populations)) {\r\n\t\t\tindividualsTable = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{Object.entries(this.state.populations)\r\n\t\t\t\t\t\t.map(([name, population]) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<IndividualsTable\r\n\t\t\t\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t\t\tpopulation={population}\r\n\t\t\t\t\t\t\t\t\tonSelect={this.select} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.state.selected) {\r\n\t\t\tscoresPanel = (\r\n\t\t\t\t<Panel header=\"Scores\">\r\n\t\t\t\t\t<Sheet data={this.state.selected} />\r\n\t\t\t\t</Panel>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @deprecated\r\n\t\t * @description Display progress bar for single evolution\r\n\t\t */\r\n\t\tif (this.state.percentage) {\r\n\t\t\tconst currentPercent = (this.state.percentage) | 0;\r\n\t\t\tprogressBar = (\r\n\t\t\t\t<div className=\"progress-bar-wrapper\">\r\n\t\t\t\t\t<h3>Progress: </h3>\r\n\t\t\t\t\t<ProgressBar now={currentPercent} label={`${currentPercent}%`} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t/**\r\n\t\t * @description Display progress bar for multiple evolutions\r\n\t\t */\r\n\t\tif (!isEmpty(this.state.percentages)) {\r\n\t\t\tprogressBar = this._renderProgressBarForEvolutions();\r\n\t\t}\r\n\r\n\t\t// Best Guys ProgressBar\r\n\t\tif (this.state.best) {\r\n\t\t\tconst bestValue = (this.state.best.fitness.value * 100) | 0;\r\n\t\t\tbest = (\r\n\t\t\t\t<div className=\"progress-bar-wrapper\">\r\n\t\t\t\t\t<h3>Best: </h3>\r\n\t\t\t\t\t<ProgressBar bsStyle=\"success\" now={bestValue} label={`${bestValue}%`} key=\"1\" />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Grid fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm={8} md={8}>\r\n\t\t\t\t\t\t{this.state.statistics.length ? <Graph series={this.state.statistics} /> : null}\r\n\t\t\t\t\t\t{scoresPanel}\r\n\t\t\t\t\t\t<GAOptions store={store} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm={4} md={4}>\r\n\t\t\t\t\t\t<Panel header=\"Population\">\r\n\t\t\t\t\t\t\t{this._renderButtons()}\r\n\t\t\t\t\t\t\t{best}\r\n\t\t\t\t\t\t\t{progressBar}\r\n\t\t\t\t\t\t\t{individualsTable}\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n\r\n\t_renderProgressBarForEvolutions() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{Object.entries(this.state.percentages)\r\n\t\t\t\t\t.map(([name, percent]) => [this._getEvolutionProgressHeaderText(name), percent | 0])\r\n\t\t\t\t\t.map(([name, percent]) => (\r\n\t\t\t\t\t\t<div key={name} className=\"progress-bar-wrapper\">\r\n\t\t\t\t\t\t\t<h5>Progress {name}:</h5>\r\n\t\t\t\t\t\t\t<ProgressBar now={percent} label={`${percent}%`} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t_getEvolutionProgressHeaderText(evolutionKey) {\r\n\t\tconst name = evolutionKey.replace('-evolution', '');\r\n\t\tconst best = this.state.bests[evolutionKey];\r\n\t\tif (!best) {\r\n\t\t\treturn `(${name})`;\r\n\t\t}\r\n\t\treturn `(${name}) ${best.fitness.value * 100 | 0}%`;\r\n\t}\r\n\r\n\t_renderButtons() {\r\n\t\treturn (\r\n\t\t\t<ButtonGroup>\r\n\t\t\t\t{this._renderFirstButton()}\r\n\t\t\t\t<Button bsStyle=\"danger\" onClick={this.stop}>\r\n\t\t\t\t\t<span className=\"glyphicon glyphicon-stop\"></span>\r\n\t\t\t\t</Button>\r\n\t\t\t</ButtonGroup>\r\n\t\t);\r\n\t}\r\n\r\n\t_renderFirstButton() {\r\n\t\tconst { paused, working } = this.state;\r\n\r\n\t\tif (working && !paused) {\r\n\t\t\treturn (\r\n\t\t\t\t<Button bsStyle=\"warning\" onClick={this.pause}>\r\n\t\t\t\t\t<span className=\"glyphicon glyphicon-pause\"></span>\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Button bsStyle=\"success\" onClick={working ? this.resume : this.run}>\r\n\t\t\t\t<span className=\"glyphicon glyphicon-play\"></span>\r\n\t\t\t</Button>\r\n\t\t);\r\n\t}\r\n\r\n\t_createRunner() {\r\n\t\tconst options = this.context.store.getState().GA;\r\n\r\n\t\tif (options.options.useEvolutionStrategies) {\r\n\t\t\treturn this._createEvolutionRunner(options);\r\n\t\t} else {\r\n\t\t\treturn this._createDefaultRunner(options);\r\n\t\t}\r\n\t}\r\n\r\n\t_createDefaultRunner(options) {\r\n\t\tconst onDone = ({ data: population }) => this.setState({ population, working: false, paused: false }); // onDone back to default state\r\n\t\tconst onPause = ({ data: population }) => this.setState({ population });\r\n\t\tconst onProgress = ({ percentage, best }) => {\r\n\t\t\tconst statistics = this.state.statistics;\r\n\r\n\t\t\tstatistics[0].values.push({\r\n\t\t\t\tx: percentage,\r\n\t\t\t\ty: (best.fitness.value * 100)\r\n\t\t\t});\r\n\r\n\t\t\tthis.setState({ best, percentage, statistics });\r\n\t\t};\r\n\t\treturn new GARunner(options, { onDone, onProgress, onPause });\r\n\t}\r\n\r\n\t_createEvolutionRunner(options) {\r\n\t\tconst onDone = ({ id, data: population }) => {\r\n\t\t\tconst { populations } = this.state;\r\n\t\t\tconst name = this._getNameFromId(id);\r\n\t\t\tthis.setState({\r\n\t\t\t\tpopulations: {\r\n\t\t\t\t\t...populations,\r\n\t\t\t\t\t[name]: population\r\n\t\t\t\t},\r\n\t\t\t\tworking: false,\r\n\t\t\t\tpaused: false\r\n\t\t\t});\r\n\t\t};\r\n\t\tconst onPause = ({ id, data: population }) => {\r\n\t\t\tconst { populations } = this.state;\r\n\t\t\tconst name = this._getNameFromId(id);\r\n\t\t\tthis.setState({\r\n\t\t\t\tpopulations: {\r\n\t\t\t\t\t...populations,\r\n\t\t\t\t\t[name]: population\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\tconst onProgress = ({ id, percentage, best }) => {\r\n\t\t\tconst { statistics, bests } = this.state;\r\n\r\n\t\t\tconst prevBestFitnessValue = this.state.best && this.state.best.fitness.value || 0;\r\n\t\t\tconst currentBestFitnessValue = best.fitness.value;\r\n\t\t\tconst percentages = this.state.percentages;\r\n\r\n\t\t\tconst name = this._getNameFromId(id);\r\n\t\t\tconst series = statistics.find(x => x.name === name);\r\n\t\t\tconst item = {\r\n\t\t\t\tx: percentage,\r\n\t\t\t\ty: (currentBestFitnessValue * 100)\r\n\t\t\t};\r\n\r\n\t\t\tif (series) {\r\n\t\t\t\tseries.values.push(item);\r\n\t\t\t} else {\r\n\t\t\t\tstatistics.push({\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tvalues: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titem\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst newState = {\r\n\t\t\t\tstatistics,\r\n\t\t\t\tbests: {\r\n\t\t\t\t\t...bests,\r\n\t\t\t\t\t[name]: best\r\n\t\t\t\t},\r\n\t\t\t\tpercentages: {\r\n\t\t\t\t\t...percentages,\r\n\t\t\t\t\t[name]: percentage\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (currentBestFitnessValue > prevBestFitnessValue) {\r\n\t\t\t\tnewState.best = best;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState(newState);\r\n\t\t};\r\n\t\treturn new GARunner(options, { onDone, onProgress, onPause });\r\n\t}\r\n\r\n\t_getNameFromId(id) {\r\n\t\treturn id.split('_')[0];\r\n\t}\r\n}\r\n// TODO: redo with react-redux connect later on\r\nIndex.contextTypes = {\r\n\tstore: React.PropTypes.object\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/Index.jsx","import React from 'react';\r\nimport { Panel } from 'react-bootstrap';\r\nimport { LineChart } from 'react-d3';\r\nimport Dimensions from 'react-dimensions';\r\n\r\nclass SimpleGraph extends React.Component {\r\n\trender() {\r\n\t\tconst { series, containerWidth } = this.props;\r\n\t\tconst width = containerWidth - 40;\r\n\t\tconst viewBoxObject = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\twidth,\r\n\t\t\theight: width / 2\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<Panel header=\"Graph\">\r\n\t\t\t\t<LineChart\r\n\t\t\t\t\tlegend={true}\r\n\t\t\t\t\tdata={series}\r\n\t\t\t\t\twidth={viewBoxObject.width}\r\n\t\t\t\t\theight={viewBoxObject.height}\r\n\t\t\t\t\tviewBoxObject={viewBoxObject}\r\n\t\t\t\t\tyAxisLabel=\"Best\"\r\n\t\t\t\t\txAxisLabel=\"Elapsed Iteration\"\r\n\t\t\t\t\tgridHorizontal={true} />\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport const Graph = Dimensions()(SimpleGraph);\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/Graph.jsx","import React from 'react';\r\nimport { Component as CrossoverProvider } from '../lib/crossovers/CrossoverProvider';\r\nimport { Component as MutationProvider } from '../lib/mutations/MutationProvider';\r\nimport { Component as FitnessProvider } from '../lib/fitness/FitnessProvider';\r\nimport { render as GAOptionsComponent } from '../lib/ga/options';\r\nimport { Component as EvolutionProvider } from '../lib/evolution/EvolutionProvider';\r\n\r\n/*export default ({ store }) => (\r\n    <div>\r\n        <EvolutionProvider store={store} />\r\n        <GAOptionsComponent store={store} />\r\n        <CrossoverProvider store={store} />\r\n        <MutationProvider store={store} />\r\n        <FitnessProvider store={store} />\r\n    </div>\r\n);*/\r\n\r\nexport default ({ store }) => {\r\n    return (\r\n        <div>\r\n            <EvolutionProvider store={store} />\r\n            <GAOptionsComponent store={store} />\r\n            <CrossoverProvider store={store} />\r\n            <MutationProvider store={store} />\r\n            <FitnessProvider store={store} />\r\n        </div>\r\n    );\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/GAOptions.jsx","import createProvider from '../common/createProvider';\nimport OnePointCrossover from './providers/OnePointCrossover';\nimport TwoPointCrossover from './providers/TwoPointCrossover';\nimport RandomCrossover from './providers/RandomCrossover';\n\nexport const { run, Component } = createProvider('crossover', [\n    OnePointCrossover,\n    TwoPointCrossover,\n    RandomCrossover\n]);\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/CrossoverProvider.js","import {createPluginsHash} from './createPluginsHash';\nimport {createRenderComponent} from './createRenderComponent';\nimport BaseCalculateProvider from './BaseCalculateProvider';\nimport CompositeCalculateProvider from './CompositeCalculateProvider';\nimport rootState from '../../../../store/initialState';\n\nconst initialState = rootState.GA;\n\nexport function createCompositeProvider(providerName, context) {\n\tconst plugins = createPluginsHash(context);\n\tconst instance = new CompositeCalculateProvider(plugins, initialState, providerName);\n\t\n\t// NOTE: run is actually getCalculation function\n\tconst run = ::instance.getRunOnce;\n\treturn {\n\t\trun,\n\t\tComponent: createRenderComponent(providerName, plugins)\n\t};\t\n}\n\n/**\n * @param {string} providerName\n * @param {Array<Object>} context\n * @param {boolean} randomRun\n * @returns {{ run: Function, Component: Function }}\n */\nexport default (providerName, context, randomRun = false) => {\n\tconst plugins = createPluginsHash(context);\n\tconst instance = new BaseCalculateProvider(plugins, initialState, providerName);\n\t\n\t// NOTE: run is actually getCalculation function\n\tconst run = randomRun ? ::instance.getRunRandom: ::instance.getRunOnce;\n\treturn {\n\t\trun,\n\t\tComponent: createRenderComponent(providerName, plugins)\n\t};\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common/createProvider.js","/**\r\n * @param {Array<{name: string, getInitialState: Function}>} context;\r\n */\r\nexport const createPluginsHash = \r\n\t(context) => context\r\n\t\t.reduce((hash, value) => {\r\n\t\t\tif (!value.getInitialState) {\r\n\t\t\t\tvalue.getInitialState = () => ({});\r\n\t\t\t}\r\n\t\t\thash[value.name] = value;\r\n\t\t\treturn hash;\r\n\t\t}, {});\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common/createPluginsHash.js","import React from 'react';\r\nimport { Panel } from 'react-bootstrap';\r\nimport { SliderControl } from '../../components/UIFactory.jsx';\r\nimport { changeOptions } from '../../actions/index';\r\n\r\n/**\r\n * @description pluginKey = crossover | mutation | fitness | evolution\r\n */\r\nexport const createRenderComponent = (pluginKey, plugins, { expanded = false } = {}) => {\r\n\treturn ({ store }) => {\r\n\t\tconst state = store.getState().GA[pluginKey];\r\n\r\n\t\tconst onblur = (name, field, value) => {\r\n\t\t\tstore.dispatch(\r\n\t\t\t\tchangeOptions([pluginKey, name, field], value)\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tconst options = Object\r\n\t\t\t.keys(plugins)\r\n\t\t\t.map((name) => {\r\n\t\t\t\tconst plugin = plugins[name];\r\n\t\t\t\tconst innerMarkup = plugin.render && plugin.render(state[name], onblur.bind(null, name));\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Panel header={name} key={name}>\r\n\t\t\t\t\t\t<SliderControl\r\n\t\t\t\t\t\t\tdefaultValue={state[name].weight}\r\n\t\t\t\t\t\t\tonBlur={onblur.bind(null, name)}\r\n\t\t\t\t\t\t\tfield={'weight'} />\r\n\t\t\t\t\t\t{innerMarkup}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Panel defaultExpanded={expanded} collapsible header={pluginKey + ' options'}>\r\n\t\t\t\t{options}\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t};\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common/createRenderComponent.jsx","import React from 'react';\r\nimport { stringUtils } from '../lib/utils.js';\r\n\r\n\r\nclass BaseControl extends React.Component {\r\n    render() {\r\n        throw new Error('Abstract class');\r\n    }\r\n\r\n    onBlur({ field, type = 'number' }, e) {\r\n        let value;\r\n        switch (type) {\r\n            case 'number':\r\n                value = Number(e.target.value);\r\n                break;\r\n            case 'boolean':\r\n                value = e.target.checked;\r\n                break;\r\n        }\r\n\r\n        this.props.onBlur(field, value);\r\n    }\r\n}\r\n\r\n//{ obj, field, ?title, ?min, ?max}\r\nexport class SliderControl extends BaseControl {\r\n    constructor(params) {\r\n        super(params);\r\n        const { field, defaultValue } = this.props;\r\n        this.state = { value: defaultValue };\r\n        this.blurBinded = this.onBlur.bind(this, { field, type: 'number' });\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ value: event.target.value });\r\n    }\r\n\r\n    render() {\r\n        //optional\r\n        const title = this.props.title || stringUtils.camelCaseToHuman(this.props.field);\r\n        const min = this.props.min || 0;\r\n        const max = this.props.max || 1;\r\n        const step = this.props.step || 0.01;\r\n\r\n        return (\r\n            <div className=\"form-group\">\r\n                <label>{title} - {this.state.value}</label>\r\n                <input\r\n                    type=\"range\"\r\n                    value={this.state.value}\r\n                    min={min}\r\n                    max={max}\r\n                    step={step}\r\n                    onChange={this.onChange}\r\n                    onBlur={this.blurBinded} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class CheckboxControl extends BaseControl {\r\n    constructor(params) {\r\n        super(params);\r\n        this.state = { value: this.props.defaultValue };\r\n    }\r\n\r\n    onChange(event) {\r\n        this.setState({ value: event.target.value });\r\n    }\r\n\r\n    render() {\r\n        const {field, defaultValue, title} = this.props;\r\n        const actualTitle = title || stringUtils.camelCaseToHuman(field);\r\n        return (\r\n            <div className=\"checkbox\">\r\n                <label>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        defaultChecked={defaultValue}\r\n                        onChange={this.onChange.bind(this)}\r\n                        onBlur={this.onBlur.bind(this, { field, type: 'boolean' })} />\r\n                    {actualTitle}\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport const probabilitySlider = (field) => ({ field, min: 0, max: 1, step: 0.01 });\r\n\r\nexport const createSliderFactory =\r\n    (state, onblur) =>\r\n        (fields) =>\r\n            fields.map(\r\n                ({\r\n                    field,\r\n                    title = stringUtils.camelCaseToHuman(field),\r\n                    min = 1,\r\n                    max = 100,\r\n                    step = 1\r\n                }) => (\r\n                        <SliderControl\r\n                            key={field}\r\n                            defaultValue={state[field]}\r\n                            onBlur={onblur}\r\n                            field={field}\r\n                            title={title}\r\n                            min={min}\r\n                            max={max}\r\n                            step={step}\r\n                        />\r\n                    ));\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/UIFactory.jsx","function checkArray(arr) {\r\n\tif (!Array.isArray(arr)) {\r\n\t\tthrow new TypeError(`arr should be an array ${arr} given.`);\r\n\t}\r\n}\r\n\r\nfunction checkObj(obj) {\r\n\tif (!obj || typeof obj !== 'object') {\r\n\t\tthrow new TypeError(`obj should be an object ${obj} given`);\r\n\t}\r\n}\r\n\r\nconst numberUtils = {\r\n\t/**\r\n\t * @param {number} startIndex\r\n\t * @param {number} endIndex not included\r\n\t * @returns {number}\r\n\t */\r\n\trandomBetween(startIndex, endIndex) {\r\n\t\tif (startIndex < 0 || endIndex < 0) {\r\n\t\t\tthrow 'wft randomBetween';\r\n\t\t}\r\n\t\tif (endIndex === undefined) {\r\n\t\t\tendIndex = startIndex;\r\n\t\t\tstartIndex = 0;\r\n\t\t}\r\n\r\n\t\treturn Math.floor(Math.random() * endIndex) + startIndex;\r\n\t},\r\n\r\n\tnormalizeValue(value, maxValue) {\r\n\t\tif (value <= maxValue) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\tconst rem = value % maxValue;\r\n\t\treturn rem ? rem : maxValue;\r\n\t},\r\n\r\n\t/**\r\n\t * @param {number} value - float or int\r\n\t * @param {{ max: number, min: number }} options\r\n\t * @returns {number}\r\n\t */\r\n\tstrip(value, { min = 0, max = 1 } = {}) {\r\n\t\tif (value < min) {\r\n\t\t\treturn min;\r\n\t\t}\r\n\r\n\t\tif (value >= max) {\r\n\t\t\treturn max;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t},\r\n\r\n\t/**\r\n\t * @param {number} basis\r\n\t * @param {number} percent - from 0 to 1\r\n\t * @param {{min: number, max: number}}\r\n\t */\r\n\tfluctuate(basis, percent = 0.2, { min = 0, max = 1 } = {}) {\r\n\t\tconst newValue = basis + (percent * Math.random()) * (randomUtils.headsOrTails() ? 1 : -1);\r\n\t\treturn numberUtils.strip(newValue, { min, max });\r\n\t}\r\n};\r\n\r\nexport const arrayUtils = {\r\n\tlast(array) {\r\n\t\treturn array[array.length - 1];\r\n\t},\r\n\r\n\t/**\r\n\t * @param {T} value\r\n\t * @param {number} length - int or float\r\n\t * @returns {T[]}\r\n\t */\r\n\tmake(value, length) {\r\n\t\t// NOTE: length converted to int to prevent infinite loop in while\r\n\t\tlength = length | 0;\r\n\t\tlet arr = [];\r\n\t\twhile (length--) {\r\n\t\t\tarr[length] = value;\r\n\t\t}\r\n\t\treturn arr;\r\n\t},\r\n\r\n\t/**\r\n\t * @param {number} count\r\n\t * @param {number} length\r\n\t * @param {Array<number>} except - except indexes\r\n\t * @returns {Array<number>}\r\n\t */\r\n\tgetRandomIndexes(count, length, except) {\r\n\t\tconst result = [];\r\n\r\n\t\tif (count > length) {\r\n\t\t\tcount = length;\r\n\t\t}\r\n\r\n\t\twhile (count > 0) {\r\n\t\t\tconst newIndex = numberUtils.randomBetween(length);\r\n\t\t\tif (result.indexOf(newIndex) !== -1) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (except && except.includes(newIndex)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tresult.push(newIndex);\r\n\t\t\tcount--;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\trandomKey(arr) {\r\n\t\tcheckArray(arr);\r\n\t\treturn numberUtils.randomBetween(arr.length);\r\n\t},\r\n\r\n\trandomElement(arr) {\r\n\t\tconst randomKey = arrayUtils.randomKey(arr);\r\n\t\treturn arr[randomKey];\r\n\t},\r\n\r\n\tfindObjectByKey(array, field, value) {\r\n\t\treturn array.find(element => element.hasOwnProperty(field) && element[field] === value);\r\n\t}\r\n};\r\n\r\nconst objectUtils = {\r\n\trandomElement(obj) {\r\n\t\tcheckObj(obj);\r\n\t\tconst keys = Object.keys(obj);\r\n\t\tconst randomKey = arrayUtils.randomElement(keys);\r\n\t\treturn obj[randomKey];\r\n\t}\r\n};\r\n\r\nconst stringUtils = {\r\n\tcamelCaseToHuman(str) {\r\n\t\t// \\d - any digit 0..9 and other locals\r\n\t\tconst reg = /([a-z])([A-Z])/g;\r\n\t\tconst template = '$1 $2';\r\n\t\tconst splitter = ' ';\r\n\r\n\t\treturn str\r\n\t\t\t.replace(reg, template)\r\n\t\t\t.split(splitter)\r\n\t\t\t.map(w => stringUtils.firstUpper(w))\r\n\t\t\t.join(splitter);\r\n\t},\r\n\r\n\tfirstUpper(str) {\r\n\t\treturn `${str[0].toUpperCase()}${str.slice(1).toLowerCase()}`;\r\n\t}\r\n}\r\n\r\nconst selectionUtils = {\r\n\t/**\r\n\t * @param {Object} obj\r\n\t * @param {(field: object) => number} fn - weight getter. Should be between 0 and 1\r\n\t * @returns {string}\r\n\t */\r\n\tgetRandomKey(obj, fn = x => x) {\r\n\t\tconst keys = Object.keys(obj);\r\n\t\tconst weights = Object.values(obj).map(value => fn(value) * 100);\r\n\t\treturn selectionUtils._roulette(keys, weights);\r\n\t},\r\n\r\n\tgetRandomKeyByWeight(obj) {\r\n\t\treturn selectionUtils.getRandomKey(obj, x => x.weight);\r\n\t},\r\n\r\n\t_roulette(keys, weights) /*: string (key)*/ {\r\n\t\tlet rouletteArray = [];\r\n\r\n\t\tkeys.forEach((key, i) => {\r\n\t\t\trouletteArray = rouletteArray.concat(arrayUtils.make(key, weights[i]));\r\n\t\t});\r\n\r\n\t\tconst index = numberUtils.randomBetween(rouletteArray.length);\r\n\t\treturn rouletteArray[index];\r\n\t}\r\n};\r\n\r\nexport const randomUtils = {\r\n\theadsOrTails() {\r\n\t\treturn Math.random() > 0.5;\r\n\t}\r\n};\r\n\r\nexport { default as notesUtils } from './utils/NotesUtils.js';\r\n\r\n// https://gist.github.com/jed/982883\r\nexport const uuid = a => a ? (a ^ Math.random() * 16 >> a / 4).toString(16) : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, uuid);\r\n\r\nexport {\r\n\tobjectUtils as objUtils,\r\n\tnumberUtils,\r\n\tstringUtils,\r\n\tselectionUtils\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils.js","const PAUSE = 0;\r\nconst HOLD = -1;\r\n\r\nclass NotesUtils {\r\n\t/*\r\n\t\t[1, -2, 3, 1, 1] where 1 is 1/8 and \"-\" is pause\r\n\t*/\r\n\t// TODO: redo fitness and this creepy logic\r\n\ttoRhythm( data ) {\r\n\t\tlet result = [];\r\n\t\tlet bar = undefined;\r\n\r\n\t\tdata.forEach((item, i) => {\r\n\t\t\tif ( i % 8 === 0 ) {\r\n\t\t\t\tif ( bar ) {\r\n\t\t\t\t\tresult.push(bar);\r\n\t\t\t\t}\r\n\t\t\t\tbar = [];\r\n\t\t\t}\r\n\r\n\t\t\tif ( item === PAUSE ) {\r\n\t\t\t\tbar.push(-1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( item === HOLD && bar.length ) {\r\n\t\t\t\tconst prevIndex = bar.length - 1; \r\n\t\t\t\tconst prevValue = bar[prevIndex];\r\n\t\t\t\tbar[prevIndex] = prevValue > 0 ? prevValue + 1 : prevValue - 1;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tbar.push(1);\r\n\t\t});\r\n\t\tresult.push(bar);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\ttoPitch( data, ignoreOctaves = false ) {\r\n\t\tlet result = [];\r\n\t\tlet bar = undefined\r\n\r\n\t\tdata.forEach((item, i) => {\r\n\t\t\tif ( i % 8 === 0 ) {\r\n\t\t\t\tif ( bar ) {\r\n\t\t\t\t\tresult.push(bar);\r\n\t\t\t\t}\r\n\t\t\t\tbar = [];\r\n\t\t\t}\r\n\t\t\tif ( item === PAUSE || item === HOLD ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tbar.push(ignoreOctaves ? item % 7 : item);\r\n\t\t});\r\n\r\n\t\tif (bar.length) {\r\n\t\t\tresult.push(bar);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nexport default new NotesUtils();\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/NotesUtils.js","export const OPTIONS_CHANGE_ACTION = 'optionsChangeAction';\r\n\r\nexport function changeOptions(optionsPath, value) {\r\n\treturn {\r\n\t\ttype: OPTIONS_CHANGE_ACTION,\r\n\t\toptionsPath,\r\n\t\tvalue\r\n\t};\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/actions/index.js","import { selectionUtils } from '../utils.js';\r\n\r\n/**\r\n * @description Provides calculation fn\r\n * 1) Once (current fitness, crossover)\r\n * 2) New everytime (mutations)\r\n */\r\nexport default class BaseCalculateProvider {\r\n\tconstructor(allPlugins, initialState, name) {\r\n\t\tthis._all = allPlugins;\r\n\t\tthis._providerName = name; // Mutation, Crossover, Fitness. (any Genetic Operator)\r\n\t\tthis._registerInStore(initialState);\r\n\t}\r\n\r\n\t/**\r\n\t * @description Gets run function once\r\n\t */\r\n\tgetRunOnce(options) {\r\n\t\tconst { fn, key } = this._getKeyAndFunction(options);\r\n\t\tconst settings = options[key];\r\n\r\n\t\treturn (...args) => {\r\n\t\t\treturn fn.run(...args.concat(settings));\r\n\t\t}\r\n\t}\r\n\r\n\tgetRunRandom(options) {\r\n\t\treturn (...args) => {\r\n\t\t\tconst { fn, key } = this._getKeyAndFunction(options);\r\n\t\t\tconst argsExtended = args.concat(options[key]);\r\n\t\t\treturn fn.run(...argsExtended);\r\n\t\t}\r\n\t}\r\n\r\n\t_getKeyAndFunction(options) {\r\n\t\tconst key = this._getKey(options);\r\n\t\tconst fn = this._getFunction(key);\r\n\t\treturn { key, fn };\r\n\t}\r\n\r\n\t_getKey(options) {\r\n\t\treturn selectionUtils.getRandomKeyByWeight(options);\r\n\t}\r\n\t\r\n\t_getFunction(key) {\r\n\t\treturn this._all[key];\r\n\t}\r\n\r\n\t_registerInStore(initialState) {\r\n\t\tinitialState[this._providerName] = {};\r\n\t\tObject\r\n\t\t\t.keys(this._all)\r\n\t\t\t.map(key => this._all[key])\t\r\n\t\t\t.forEach(({ name, getInitialState }) =>\r\n\t\t\t\tinitialState[this._providerName][name] = getInitialState());\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common/BaseCalculateProvider.js","import _ from 'lodash';\r\nimport BaseCalculateProvider from './BaseCalculateProvider';\r\n\r\nexport default class CompositeCalculateProvider extends BaseCalculateProvider {\r\n\t/**\r\n\t * @description Gets run function once\r\n\t */\r\n\tgetRunOnce(options) {\r\n\t\t// get bounded fn and keys * weights\r\n\r\n\t\tconst MAX_WEIGHT = Object\r\n\t\t\t.keys(options)\r\n\t\t\t.map(k => options[k].weight)\r\n\t\t\t.reduce((sum, weight) => sum + weight, 0);\r\n\r\n\t\tconst keyWeightRaw = _(options)\r\n\t\t\t.pickBy(({ weight }) => weight > 0);\r\n\r\n\t\tlet keyWeight = keyWeightRaw\r\n\t\t\t.mapValues(v => v.weight / MAX_WEIGHT)\r\n\t\t\t.value();\r\n\r\n\t\t// NOTE: pick first provider with _important key if it's here\r\n\t\t// TODO: DEBUG {\r\n\t\t{\r\n\t\t\tconst debugKeyWeight = \r\n\t\t\t\tObject\r\n\t\t\t\t\t.keys(options)\r\n\t\t\t\t\t.reduce((reducer, key) => {\r\n\t\t\t\t\t\tconst { _important } = options[key];\r\n\r\n\t\t\t\t\t\tif (reducer.found) {\r\n\t\t\t\t\t\t\treturn reducer;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (_important) {\r\n\t\t\t\t\t\t\treducer.found = true;\r\n\t\t\t\t\t\t\treducer.value[key] = 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn reducer;\r\n\t\t\t\t\t}, { found: false, value: {} })\r\n\t\t\t\t\t.value;\r\n\t\t\tif (!_.isEmpty(debugKeyWeight)) {\r\n\t\t\t\tkeyWeight = debugKeyWeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// }\r\n\r\n\t\tconst fnsAndWeight =\r\n\t\t\tObject\r\n\t\t\t\t.keys(keyWeight)\r\n\t\t\t\t.reduce((reducer, key) => {\r\n\t\t\t\t\tconst settings = options[key];\r\n\t\t\t\t\tconst weight = keyWeight[key];\r\n\t\t\t\t\tconst fn = this._all[key].run;\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...reducer,\r\n\t\t\t\t\t\t[key]: {\r\n\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\tweight,\r\n\t\t\t\t\t\t\tfn: (...args) => fn(...[...args,settings])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}, {});\r\n\r\n\t\treturn (...data) =>\r\n\t\t\tObject\r\n\t\t\t\t.keys(fnsAndWeight)\r\n\t\t\t\t.map(k => fnsAndWeight[k])\r\n\t\t\t\t.reduce((reducer, { fn, weight, key }) => {\r\n\t\t\t\t\tconst value = fn(...data) * weight;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tvalue: value + reducer.value,\r\n\t\t\t\t\t\tfull: {\r\n\t\t\t\t\t\t\t...reducer.full,\r\n\t\t\t\t\t\t\t[key]: value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tfull: {}\t\r\n\t\t\t\t});\r\n\t}\r\n\r\n\tgetRunRandom() {\r\n\t\tthrow new Error('CompositeCalculateProvider use only run once fn');\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common/CompositeCalculateProvider.js","// NOTE: populated by plugins, etc\r\nconst initialState = {\r\n\tGA: {}\r\n};\r\nexport default initialState; \n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/store/initialState.js","import { numberUtils } from '../../utils';\r\n\r\nfunction createPortion(source, point) {\r\n\treturn [source.slice(0, point), source.slice(point)];\r\n}\r\n\r\nfunction crossover(a, b) {\r\n\tconst point = numberUtils.randomBetween(a.length);\r\n\tconst aPortions = createPortion(a, point);\r\n\tconst bPortions = createPortion(b, point);\r\n\r\n\tif ( Math.random() > 0.5 ) {\r\n\t\treturn [].concat(aPortions[0], bPortions[1]);\r\n\t} else {\r\n\t\treturn [].concat(bPortions[0], aPortions[1]);\r\n\t}\r\n}\r\n\r\nconst getInitialState = () => ({ weight: 0.5 });\r\n\r\nexport default {\r\n\tname: 'one-point-crossover',\r\n\trun: crossover,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/providers/OnePointCrossover.jsx","import { numberUtils, randomUtils } from '../../utils';\r\n\r\nfunction createPortion(source, firstPoint, secondPoint) {\r\n\treturn [source.slice(0, firstPoint), source.slice(firstPoint, secondPoint), source.slice(secondPoint)];\r\n}\r\n\r\nfunction crossover(a, b) {\r\n\tlet result = [];\r\n\tlet firstPoint = numberUtils.randomBetween(a.length);\r\n\tlet secondPoint = numberUtils.randomBetween(a.length);\r\n\tlet aUsed = false;\r\n\tlet bUsed = false;\r\n\r\n\twhile ( secondPoint === firstPoint ) {\r\n\t\tsecondPoint = numberUtils.randomBetween(a.length);\r\n\t}\r\n\r\n\tif ( firstPoint > secondPoint ) {\r\n\t\tconst temp = firstPoint;\r\n\t\tfirstPoint = secondPoint;\r\n\t\tsecondPoint = temp;\r\n\t}\r\n\r\n\tconst aPortions = createPortion(a, firstPoint, secondPoint);\r\n\tconst bPortions = createPortion(b, firstPoint, secondPoint);\r\n\r\n\tfor ( let i = 0, l = aPortions.length; i < l; i++ ) {\r\n\t\tif ( i === l - 1 ) {\r\n\t\t\tif ( !bUsed ) {\r\n\t\t\t\tresult = result.concat(bPortions[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if ( !aUsed ) {\r\n\t\t\t\tresult = result.concat(aPortions[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( randomUtils.headsOrTails() ) {\r\n\t\t\tresult = result.concat(aPortions[i]);\r\n\t\t\taUsed = true;\r\n\t\t} else {\r\n\t\t\tresult = result.concat(bPortions[i]);\r\n\t\t\tbUsed = true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nconst getInitialState = () => ({ weight: 0.7 });\r\n\r\nexport default {\r\n\tname: 'two-point-crossover',\r\n\tgetInitialState,\r\n\trun: crossover\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/providers/TwoPointCrossover.jsx","import { arrayUtils } from '../../utils';\r\n\r\nfunction crossover(a, b) {\r\n\tconst clone = b.slice();\r\n\tconst indexes = arrayUtils.getRandomIndexes(a.length / 2, a.length);\r\n\r\n\tindexes\r\n\t\t.forEach(index => {\r\n\t\t\tclone[index] = a[index];\r\n\t\t});\r\n\r\n\treturn clone;\r\n}\r\n\r\nconst getInitialState = () => ({ weight: 0.5 });\r\n\r\nexport default {\r\n\tname: 'random-crossover',\r\n\trun: crossover,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/crossovers/providers/RandomCrossover.js","import createProvider from '../common/createProvider';\r\n\r\nimport changeDurationMutation from './providers/changeDurationMutation';\r\nimport copyPasteMutation from './providers/copyPasteMutation';\r\nimport orderMutation from './providers/orderMutation';\r\nimport randomMutation from './providers/randomMutation';\r\nimport reverseMutation from './providers/reverseMutation';\r\nimport sortMutation from './providers/sortMutation';\r\nimport swap2Mutation from './providers/swap2Mutation';\r\nimport swapGroupMutation from './providers/swapGroupMutation';\r\nimport transposeMutation from './providers/transposeMutation';\r\nimport upAndDownMutation from './providers/upAndDownMutation';\r\n\r\nexport const {run, Component} = createProvider('mutation', [\r\n    changeDurationMutation,\r\n    copyPasteMutation,\r\n    orderMutation,\r\n    randomMutation,\r\n    reverseMutation,\r\n    sortMutation,\r\n    swap2Mutation,\r\n    swapGroupMutation,\r\n    transposeMutation,\r\n    upAndDownMutation\r\n], true /* random run on every request */);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/MutationProvider.js","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../utils.js';\r\nimport Composition from '../../utils/Composition.js';\r\nimport NotesConverter from '../../utils/NotesConverter.js';\r\nimport Note from '../../utils/Note.js';\r\n\r\nconst defaultOptions = {\r\n\tcount: 64\r\n};\r\n\r\n// TODO: class vs functions combination\r\nclass ChangeDuration {\r\n\tmutate( data, options = {} ) {\r\n\t\toptions = Object.assign({}, defaultOptions, options);\r\n\r\n\t\tconst composition = new Composition(data);\r\n\t\tconst bars = composition.bars();\r\n\r\n\t\tconst newBars = bars.map(bar => {\r\n\t\t\tconst countOfIndexes = Math.floor(options.count / bars.length);\r\n\t\t\tconst maxIndex = (bar.length - 1) - 1; //we need neighbor\r\n\r\n\r\n\t\t\tif ( countOfIndexes >= maxIndex ) {\r\n\t\t\t\treturn bar;\r\n\t\t\t}\r\n\r\n\t\t\treturn arrayUtils\r\n\t\t\t\t.getRandomIndexes(countOfIndexes, maxIndex)\r\n\t\t\t\t.reduce((store, mutateIndex) => {\r\n\t\t\t\t\t// If random index exist before but now array (bar) became smaller so we don't have it\r\n\t\t\t\t\tif (!store[mutateIndex + 1]) {\r\n\t\t\t\t\t\treturn store;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst mutateNotes = [store[mutateIndex].clone(), store[mutateIndex + 1].clone()];\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t// Copy of bar from 0 -> mutateIndex\r\n\t\t\t\t\t\t...store.slice(0, mutateIndex).map(n => n.clone()),\r\n\r\n\t\t\t\t\t\t// 2 mutated notes\r\n\t\t\t\t\t\t...this._mutateOne(...mutateNotes),\r\n\r\n\t\t\t\t\t\t// Copy of bar from mutateIndex + 2 to the end\r\n\t\t\t\t\t\t...store.slice(mutateIndex + 2)\r\n\t\t\t\t\t];\r\n\t\t\t\t}, bar);\r\n\t\t});\r\n\r\n\t\treturn NotesConverter.fromBarsToRaw(newBars);\r\n\t}\r\n\r\n\t/**\r\n\t * @param  {Note} a [description]\r\n\t * @param  {Note} b [description]\r\n\t * @return {[Note, Note] | [Note]}\r\n\t */\r\n\t_mutateOne( a, b ) {\r\n\t\tlet inverse = false;\r\n\r\n\t\tif ( Math.random() < 0.5 ) {\r\n\t\t\tinverse = true;\r\n\t\t\t[a, b] = [b, a];\r\n\t\t}\r\n\r\n\t\tconst newA = Note.create(a.value(), a.length() + 1);\r\n\r\n\t\tif (b.length() === 1) {\r\n\t\t\treturn [newA];\r\n\t\t}\r\n\r\n\t\tconst newB = Note.create(b.value(), b.length() - 1);\r\n\t\treturn inverse ? [newB, newA] : [newA, newB];\r\n\t}\r\n}\r\n\r\nconst instance = new ChangeDuration();\r\n\r\nconst run = instance.mutate.bind(instance);\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={16}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 0.4,\r\n\tcount: 7\r\n});\r\n\r\nexport default {\r\n\tname: 'change-duration-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/changeDurationMutation.jsx","import NotesConverter from './NotesConverter.js';\r\nimport MusicContext from '../MusicContext';\r\n\r\nexport default class Composition {\r\n\tstatic create(raw, barLength) {\r\n\t\treturn new Composition(raw, barLength);\r\n\t}\r\n\r\n\tconstructor( raw, barLength = MusicContext.getBarLength() ) {\r\n\t\tif ( !Array.isArray(raw) ) {\r\n\t\t\tthrow `Invalid argument raw: ${raw}, should be an array of numbers`;\r\n\t\t}\r\n\r\n\t\tthis._barLength = barLength;\r\n\t\tthis._raw = null;\r\n\t\tthis._notes = null;\r\n\t\tthis._bars = null;\r\n\r\n\t\tthis._updateState(raw);\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn this._notes.length;\r\n\t}\r\n\r\n\tbars() {\r\n\t\tlet result = [];\r\n\t\tlet bar = [];\r\n\t\tlet counter = 0;\r\n\r\n\t\tthis._notes.forEach(note => {\r\n\t\t\tcounter += note.length();\r\n\t\t\tbar.push(note.clone());\r\n\t\t\t\r\n\t\t\tconsole.assert(counter <= this._barLength, `Counter: ${counter} but should be less than ${this._barLength}`);\r\n\t\t\tif ( counter === this._barLength ) {\r\n\t\t\t\tcounter = 0;\r\n\t\t\t\tresult.push(bar);\r\n\t\t\t\tbar = [];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\trawBars() {\r\n\t\treturn this\r\n\t\t\t.bars()\r\n\t\t\t.map(bar =>\r\n\t\t\t\tbar.reduce((reducer, note) =>\r\n\t\t\t\t\t[...reducer, ...note.toRaw()], []));\r\n\t}\r\n\r\n\traw() {\r\n\t\treturn this._raw.slice();\r\n\t}\r\n\r\n\t_updateState( raw ) {\r\n\t\tthis._raw = raw.slice();\r\n\t\tthis._notes = NotesConverter.toNotes(this._raw);\r\n\t\tthis._bars = this.bars();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/Composition.js","import Note from './Note.js';\r\n\r\nclass NotesConverter {\r\n\tconstructor() {\r\n\t\tthis._PAUSE = 0;\r\n\t\tthis._HOLD = -1;\r\n\t}\t\r\n\r\n\ttoNotes( raw ) {\r\n\t\tlet result = [];\r\n\t\tlet previousNoteValue = 0;\r\n\r\n\t\tfor ( let i = 0, l = raw.length; i < l; i++ ) {\r\n\t\t\tconst item = raw[i];\r\n\r\n\t\t\t// If first item is hold\r\n\t\t\tif ( i === 0 && item === this._HOLD ) {\r\n\t\t\t\t//console.warn('First note is hold! Something wrong, replace it with pause');\r\n\t\t\t\tresult.push(Note.create(0, 1, false));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// If Hold on first note of bars\r\n\t\t\tif ( item === this._HOLD && i % 8 === 0 ) {\r\n\t\t\t\tresult.push(Note.create(previousNoteValue, 1, true));\t\t\t\t\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif ( item === this._HOLD ) {\r\n\t\t\t\tlet last = result.pop();\r\n\t\t\t\tresult.push(Note.create(last.value(), last.length() + 1, false));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpreviousNoteValue = item;\r\n\t\t\tresult.push(Note.create(item, 1, false));\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tfromBarsToRaw( bars ) {\r\n\t\tlet result = [];\r\n\r\n\t\tbars.forEach(bar => {\r\n\t\t\tbar.forEach(n => {\r\n\t\t\t\tresult = result.concat(n.toRaw());\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\nexport default new NotesConverter();\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/NotesConverter.js","//#technical_debt value in range [-1 .. 14]\r\nimport { availableValues } from '../common.js';\r\n\r\nconst PAUSE = 0;\r\nconst NOTES_IN_OCTAVE = 7;\r\n\r\nexport default class Note {\r\n\tconstructor( value, length = 1, legato = false ) {\r\n\t\tif ( value < 0 || availableValues.indexOf(value) === -1 ) {\r\n\t\t\tthrow `Invalid argument value: ${value}`;\r\n\t\t}\r\n\r\n\t\tif ( !Number.isInteger(length) || length <= 0 ) {\r\n\t\t\tthrow `Invalid argument length: ${length}`;\r\n\t\t}\r\n\r\n\t\tthis._value = value;\r\n\t\tthis._length = length;\r\n\t\tthis._legato = legato;\r\n\t}\r\n\r\n\tclone() {\r\n\t\treturn new Note(this._value, this._length, this._legato);\r\n\t}\r\n\r\n\tstatic create( value, length, legato ) {\r\n\t\treturn new Note(value, length, legato);\r\n\t}\r\n\r\n\tpitch( ignoreOctave = false ) {\r\n\t\tif ( !this.isNote() ) {\r\n\t\t\tthrow 'Current note is pause';\r\n\t\t}\r\n\r\n\t\treturn ignoreOctave ? this._value % NOTES_IN_OCTAVE: this._value;\r\n\t}\r\n\r\n\tvalue() {\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn this._length;\r\n\t}\r\n\r\n\tisNote() {\r\n\t\treturn this._value > PAUSE;\r\n\t}\r\n\r\n\tisPause() {\r\n\t\treturn this._value === PAUSE;\r\n\t}\r\n\r\n\t// TODO: redo with reduce ... that's unreadable\r\n\ttoRaw() {\r\n\t\tconst result = [this._value];\r\n\r\n\t\tif ( this._length > 1 ) {\r\n\t\t\tlet count = this._length - 1;\r\n\t\t\twhile ( count > 0 ) {\r\n\t\t\t\tcount--;\r\n\t\t\t\tresult.push(-1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//Immutable\r\n\t/**\r\n\t * @param  {Number} howMuch\r\n\t * @return {Note}\r\n\t */\r\n\tincreaseLength( howMuch = 1 ) {\r\n\t\treturn this._changeLength(howMuch);\r\n\t}\r\n\r\n\t/**\r\n\t * @param  {Number} howMuch\r\n\t * @return {Note}\r\n\t */\r\n\tdecreaseLength( howMuch = 1 ) {\r\n\t\tif ( this._length === 1 ) {\r\n\t\t\tthrow 'Length can not be less than 1';\r\n\t\t}\r\n\t\treturn this._changeLength(-howMuch);\r\n\t}\r\n\r\n\t/**\r\n\t * @param  {Number} howMuch\r\n\t * @return {Note}\r\n\t */\r\n\t_changeLength( howMuch ) {\r\n\t\treturn Note.create(this._value, this._length + howMuch);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/Note.js","//TODO: get it from music context?/\r\nexport const availableValues = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\n\r\n\r\n/*\r\ngrid - 1/8\r\n-1 - previous\r\n0 - pause\r\n1 - C\r\n2 - D\r\n...\r\n*/\r\n//grid - 1/8\r\nexport const REFERENCE_INDIVIDUAL = [\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t3, -1, 2, -1, 2, -1, 3, -1,\r\n\t2, -1, -1, -1, 5, -1, -1, -1,\r\n\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t5, -1, 5, -1, 4, -1, 2, -1,\r\n\t1, -1, -1, -1, -1, -1, -1, -1\r\n];\r\n\r\n\r\n//ЧИЖИК\r\n/*export const REFERENCE_INDIVIDUAL = [\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1\r\n];\r\n\r\n*/\r\nexport const SOVIET = [\r\n\t8, 6, -1, 8, -1, 9, -1, 12,\r\n\t-1, 11, -1, -1, -1, -1, -1, 11,\r\n\r\n\t12, 11, -1, 10, -1, 9, -1, 12,\r\n\t-1, 11, -1, -1, -1, -1, -1, -1,\r\n\r\n\t11, 11, -1, 10, -1, 11, -1, -1,\r\n\t9, -1, -1, -1, 0, 0, 0, 0,\r\n\r\n\t0, 0, 0, 5, 8, 9, 8, 7,\r\n\t0, 0, 0, 0, 0, 0, 0, 6\r\n];\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common.js","import SimpleStorage from './SimpleStorage';\r\nimport {REFERENCE_INDIVIDUAL} from './common';\r\n\r\nconst DEFAULT_BAR_LENGTH = 8;\r\n\r\n// TODO: use MusicContext instead\r\nexport const availableValuesInGF = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\nexport const PAUSE = 0;\r\nexport const HOLD = -1;\r\n\r\n// TODO: used in composition/s jsx\r\nclass MusicContext {\r\n\tselectComposition(key) {\r\n\t\tSimpleStorage.setCurrent(key);\r\n\t}\r\n\r\n\tgetCurrentComposition() {\r\n\t\treturn SimpleStorage.getCurrent() || REFERENCE_INDIVIDUAL;\r\n\t}\r\n\r\n\tgetCurrentKey() {\r\n\t\treturn SimpleStorage.getCurrentKey();\r\n\t}\r\n\r\n\tgetCompositionLength() {\r\n\t\treturn 128;\r\n\t}\r\n\r\n\tgetAllCompositions() {\r\n\t\treturn SimpleStorage.getKeys();\r\n\t}\r\n\r\n\tisValidName( name ) {\r\n\t\treturn this.getAllCompositions().indexOf(name) === -1;\r\n\t}\r\n\r\n\tsave( name, composition ) {\r\n\t\treturn SimpleStorage.save(name, composition);\r\n\t}\r\n\r\n\tremove(name) {\r\n\t\treturn SimpleStorage.remove(name);\r\n\t}\r\n\r\n\tgetByKey(key) {\r\n\t\treturn SimpleStorage.getByKey(key);\r\n\t}\r\n\r\n\tgetDefault() {\r\n\t\treturn SimpleStorage.getDefault();\r\n\t}\r\n\r\n\tgetBarLength() {\r\n\t\t// FIXME: HARDCODE FOR NOW\r\n\t\treturn DEFAULT_BAR_LENGTH;\r\n\t}\r\n\r\n\tgetMaxOneOctaveValue() {\r\n\t\treturn 7;\r\n\t}\r\n\r\n\tgetAvailableValues(ignoreOctaves) {\r\n\t\tconst maxOneOctaveValue = this.getMaxOneOctaveValue();\r\n\t\treturn ignoreOctaves ? \r\n\t\t\tavailableValuesInGF.filter(x => x <= maxOneOctaveValue) :\r\n\t\t\tavailableValuesInGF;\r\n\t}\r\n\r\n\tgetAvailablePitchValues() {\r\n\t\tconst excludeArray = [PAUSE, HOLD];\r\n\t\treturn availableValuesInGF.filter(x => !excludeArray.includes(x));\r\n\t}\r\n\r\n\t// TODO: here for now\r\n\tgetIntervalReference() {\r\n\t\t//only for Cmaj in halftones\r\n\t\tconst INTERVAL_REFERENCE = [\r\n\t\t\t//First octave\r\n\t\t\t2, //C-D\r\n\t\t\t2, //D-E\r\n\t\t\t1, //E-F\r\n\t\t\t2, //F-G\r\n\t\t\t2, //G-A\r\n\t\t\t2, //A-B\r\n\t\t\t1, //B-C\r\n\t\t\t//Second octave\r\n\t\t\t2, //C-D\r\n\t\t\t2, //D-E\r\n\t\t\t1, //E-F\r\n\t\t\t2, //F-G\r\n\t\t\t2, //G-A\r\n\t\t\t2, //A-B\r\n\t\t\t1  //B-C\r\n\t\t];\r\n\r\n\t\treturn INTERVAL_REFERENCE;\r\n\t}\r\n\r\n\tgetHalfTonesBeetween(a, b) {\r\n\t\tconst intervalReference = this.getIntervalReference();\r\n\t\tif ( a > b ) {\r\n\t\t\tconst temp = a;\r\n\t\t\ta = b;\r\n\t\t\tb = temp;\r\n\t\t}\r\n\r\n\t\tconst arrayToSum = intervalReference.slice(a, b);\r\n\r\n\t\treturn arrayToSum.reduce((prevValue, item) => {\r\n\t\t\treturn prevValue + item;\r\n\t\t}, 0);\r\n\t}\r\n}\r\n\r\nexport default new MusicContext();\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/MusicContext.js","const FIRMWARE_INDIVIDUAL_KEY = 'default';\r\nconst FIRMWARE_INDIVIDUAL = [\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t3, -1, 2, -1, 2, -1, 3, -1,\r\n\t2, -1, -1, -1, 5, -1, -1, -1,\r\n\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t5, -1, 5, -1, 4, -1, 2, -1,\r\n\t1, -1, -1, -1, -1, -1, -1, -1\r\n];\r\n\r\nconst ALL_KEY = '__all';\r\nconst CURRENT_KEY = '__current';\r\n\r\nconst localStorageInstance = global.localStorage || {\r\n\tgetItem() {\r\n\t\treturn undefined;\r\n\t},\r\n\tsetItem() {\r\n\t\treturn undefined;\r\n\t},\r\n\tremoveItem() {\r\n\t\treturn undefined;\r\n\t},\r\n\tclear() {\r\n\t\treturn undefined;\r\n\t}\r\n};\r\n\r\nclass SimpleStorage {\r\n\tgetKeys() {\r\n\t\tconst keys = this._getKeys();\r\n\t\tif ( !keys ) {\r\n\t\t\treturn [FIRMWARE_INDIVIDUAL_KEY];\r\n\t\t}\r\n\t\tkeys.unshift(FIRMWARE_INDIVIDUAL_KEY);\r\n\t\treturn keys;\r\n\t}\r\n\r\n\t_getKeys() {\r\n\t\tconst keysRaw = localStorageInstance.getItem(ALL_KEY);\r\n\t\treturn JSON.parse(keysRaw);\r\n\t}\r\n\r\n\tgetDefault() {\r\n\t\treturn FIRMWARE_INDIVIDUAL;\r\n\t}\r\n\r\n\tgetByKey( key ) {\r\n\t\tif ( key === FIRMWARE_INDIVIDUAL_KEY ) {\r\n\t\t\treturn this.getDefault();\r\n\t\t}\r\n\r\n\t\tlet compositionRaw = localStorageInstance.getItem(key);\r\n\t\tif ( !compositionRaw ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn JSON.parse(compositionRaw);\r\n\t}\r\n\r\n\tsave( key, value ) {\r\n\t\ttry {\r\n\t\t\tvalue = JSON.stringify(value);\r\n\t\t\tlocalStorageInstance.setItem(key, value);\r\n\t\t\tlet prevKeys = JSON.parse(localStorageInstance.getItem(ALL_KEY)) || [];\r\n\r\n\t\t\tif ( prevKeys.indexOf(key) === -1 ) {\r\n\t\t\t\tprevKeys.push(key);\r\n\t\t\t}\r\n\r\n\t\t\tlocalStorageInstance.setItem(ALL_KEY, JSON.stringify(prevKeys));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn('You got invalid data');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetCurrentKey() {\r\n\t\treturn localStorageInstance.getItem(CURRENT_KEY) || 'default';\r\n\t}\r\n\r\n\tgetCurrent() {\r\n\t\treturn this.getByKey(this.getCurrentKey());\r\n\t}\r\n\r\n\tsetCurrent( key ) {\r\n\t\tlocalStorageInstance.setItem(CURRENT_KEY, key);\r\n\t}\r\n\r\n\tremove( key ) {\r\n\t\tlet prevKeys = JSON.parse(localStorageInstance.getItem(ALL_KEY)) || [];\r\n\t\tconst index = prevKeys.indexOf(key);\r\n\t\tif (  index !== -1 ) {\r\n\t\t\tprevKeys.splice(index, 1);\r\n\t\t}\r\n\t\tlocalStorageInstance.setItem(ALL_KEY, JSON.stringify(prevKeys));\r\n\t\tlocalStorageInstance.removeItem(key);\r\n\t}\r\n\r\n\tclear() {\r\n\t\tlocalStorageInstance.clear();\r\n\t}\r\n}\r\n\r\nexport default new SimpleStorage();\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/SimpleStorage.js","import { createGroupMutation } from './common/createGroupMutation';\r\n\r\nexport default createGroupMutation(\r\n\t'copy-paste-mutation',\r\n\t(groups, [fromIndexes, toIndexes]) => {\r\n\t\tgroups.copy(fromIndexes, toIndexes);\r\n\t}\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/copyPasteMutation.jsx","import React from 'react';\r\nimport { SliderControl } from '../../../../components/UIFactory.jsx';\r\nimport { createGroupsWithRandomOffset } from '../../../services/createGroupsWithRandomOffset';\r\nimport { validateGroupsInput, fromPercentToValue, getGroupsIndexes } from '../common.js';\r\n\r\n/**\r\n * @description options.groupSize in percents!\r\n */\r\nexport const createCalculate = (fn) => \r\n\t(data: Array<number>, options: { groupSize: number, count: number }) => {\r\n\t\tconst size = data.length;\r\n\t\tconst groupsCount = options.count;\r\n\t\tconst groupSize = fromPercentToValue(size, options.groupSize);\r\n\r\n\t\t// 1. Validation\r\n\t\tvalidateGroupsInput(size, groupSize, groupsCount);\r\n\t\t\r\n\t\t// 2. Create groups\r\n\t\tconst groups = createGroupsWithRandomOffset(data, groupSize);\r\n\r\n\t\t// 3. Generate random indexes\r\n\t\tconst [fromIndexes, toIndexes] = getGroupsIndexes(groupsCount, groups.length());\r\n\r\n\t\t// 4. Do something with indexes and group\r\n\t\tfn(groups, [fromIndexes, toIndexes], options);\t\t\r\n\r\n\t\treturn groups.toRaw();\r\n\t};\r\n\r\n\r\nconst render = \r\n\t({ count, groupSize }, onblur) => (\r\n\t\t<div>\r\n\t\t\t<SliderControl\r\n\t        \tdefaultValue={count}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'count'} \r\n\t        \ttitle=\"Count of groups\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={10}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n\t    \t<SliderControl\r\n\t        \tdefaultValue={groupSize}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'groupSize'} \r\n\t        \ttitle=\"Group size in percents\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={100}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n    \t</div>\r\n\t);\r\n\r\nconst initialState = {\r\n\tweight: 0.2,\r\n\tgroupSize: 5,\r\n\tcount: 2\r\n};\r\n\r\nexport function createGroupMutation(name, fn, state = initialState) {\r\n\treturn {\r\n\t\tname,\r\n\t\trun: createCalculate(fn),\r\n\t\trender,\r\n\t\tgetInitialState: () => state\r\n\t};\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/common/createGroupMutation.jsx","import { Groups } from './Groups';\r\nimport { numberUtils } from '../utils.js';\r\n\r\nfunction getMaxOffset(size, groupSize) {\r\n\treturn size % groupSize;\r\n}\r\n\r\nexport function createGroupsWithRandomOffset(data, groupSize) {\r\n\tconst maxOffset = getMaxOffset(data.length, groupSize);\r\n\tconst offset = numberUtils.randomBetween(0, maxOffset + 1);\r\n\treturn new Groups(data, groupSize, offset);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/services/createGroupsWithRandomOffset.js","import { chunk, flatten } from 'lodash';\r\n\r\nexport class Groups {\r\n\tstatic create(data: Array<number>, size: number, offset: number = 0) {\r\n\t\treturn new Groups(data, size, offset);\r\n\t}\r\n\r\n\tconstructor(data: Array<number>, size: number, offset: number = 0) {\r\n\t\tthis._chunks = this._createChunks(data, size, offset);\r\n\t}\r\n\r\n\tswap(first: Array<number>, second: Array<number>): void {\r\n\t\tconst hash = this._arraysToMap(first, second);\r\n\t\tconst backHash = this._arraysToMap(second, first);\r\n\r\n\t\tthis._chunks = this._chunks\r\n\t\t\t\t\t\t.map((item, index) => {\r\n\t\t\t\t\t\t\tif (hash[index]) {\r\n\t\t\t\t\t\t\t\treturn this._chunks[hash[index]];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (backHash[index]) {\r\n\t\t\t\t\t\t\t\treturn this._chunks[backHash[index]];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t\t});\r\n\t}\r\n\r\n\tcopy(first: Array<number>, second: Array<number>): void {\r\n\t\tconst hash = this._arraysToMap(first, second);\r\n\t\tthis._chunks = this._chunks\r\n\t\t\t\t\t\t.map((item, index) => \r\n\t\t\t\t\t\t\thash[index] == null ? item : this._chunks[hash[index]]);\r\n\t}\t\r\n\r\n\tlength(): number {\r\n\t\treturn this._chunks.length;\r\n\t}\r\n\r\n\tset(index, value) {\r\n\t\tthis._chunks[index] = value;\r\n\t}\r\n\r\n\tget(index) {\r\n\t\treturn this._chunks[index];\r\n\t}\r\n\r\n\tall() {\r\n\t\treturn this._chunks;\r\n\t}\r\n\r\n\ttoRaw(): Array<number> {\r\n\t\treturn flatten(this._chunks);\r\n\t}\r\n\r\n\t_createChunks(data, size, offset): Array<Array<number>> {\r\n\t\tconst firstChunk = data.slice(0, offset);\r\n\t\tconst rest = chunk(data.slice(offset), size);\r\n\t\treturn firstChunk.length ? [firstChunk, ...rest] : rest;\r\n\t}\r\n\r\n\t// TODO: maybe export somewhere arrayUtils, objectUtils\r\n\t_arraysToMap(first: Array<number>, second: Array<number>): { [id: number]: number }  {\r\n\t\treturn first\r\n\t\t\t.reduce(\r\n\t\t\t\t(reducer, value, index) =>\r\n\t\t\t\t\t({ ...reducer, [value]: second[index] })\r\n\t\t\t\t, {});\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/services/Groups.js","import { arrayUtils } from '../../utils.js';\r\n\r\nexport function validateGroupsInput(size, groupSize, groupsCount) {\r\n\tif ( size < groupSize * groupsCount ) {\r\n\t\tthrow new Error(`Invalid groupSize: ${groupSize} or groupsCount: ${groupsCount} for size: ${size}`);\r\n\t}\r\n}\r\n\r\nexport function fromPercentToValue(size, percent) {\r\n\treturn Math.floor(size * percent / 100);\r\n}\r\n\r\n/**\r\n * returns 2 groups of indexes \r\n */\r\nexport function getGroupsIndexes(groupsCount, groupsSize) {\r\n\t// TODO: [0, groupSize - 1] quick fix to not grab first and last indexes\r\n\tconst swapIndexes = arrayUtils.getRandomIndexes(groupsCount * 2, groupsSize, [0, groupsSize - 1]);\r\n\tconst middle = swapIndexes.length / 2;\r\n\treturn [swapIndexes.slice(0, middle), swapIndexes.slice(middle)];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/common.js","import { createGroupMutation } from './common/createGroupMutation';\r\nimport { sortBy } from 'lodash';\r\nimport { randomUtils } from '../../utils';\r\n\r\nexport default createGroupMutation(\r\n\t'order-mutation',\r\n\t(groups, [indexes]) => {\r\n\t\tindexes.forEach(i => {\r\n\t\t\tconst chunk = groups.get(i);\r\n\t\t\tconst sorted = sortBy(chunk);\r\n\t\t\tgroups.set(i, randomUtils.headsOrTails() ? sorted : sorted.reverse());\r\n\t\t});\r\n\t}\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/orderMutation.js","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../utils.js';\r\nimport MusicContext from '../../MusicContext';\r\n\r\nfunction run( data, { percents } ) {\r\n\tconst availableValues = MusicContext.getAvailableValues();\r\n\tconst length = data.length;\r\n\tconst count = Math.floor(length * percents / 100);\r\n\r\n\treturn arrayUtils\r\n\t\t.getRandomIndexes(count, length)\r\n\t\t.reduce((store, index) => {\r\n\t\t\tstore[index] = arrayUtils.randomElement(availableValues);\r\n\t\t\treturn store;\t\t\t\r\n\t\t}, data.slice());\r\n}\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.percents}\r\n        \tonBlur={onblur.bind(null, 'percents')}\r\n        \tfield={'percents'} \r\n        \ttitle=\"Percents\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={50}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 0.25,\r\n\tpercents: 5\r\n});\r\n\r\nexport default {\r\n\tname: 'random-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/randomMutation.jsx","import { createGroupMutation } from './common/createGroupMutation';\r\n\r\nexport default createGroupMutation(\r\n\t'reverse-mutation',\r\n\t(groups, [indexes]) => {\r\n\t\tindexes.forEach(i => {\r\n\t\t\tgroups.set(i, groups.get(i).reverse());\r\n\t\t});\r\n\t}\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/reverseMutation.js","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { calculate as run } from './sortMutation/calculate';\r\nimport MusicContext from '../../MusicContext';\r\n\r\nconst COUNT_OF_GENS = MusicContext.getCompositionLength();\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={COUNT_OF_GENS}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 1,\r\n\tcount: 10\r\n});\r\n\r\nexport default {\r\n\tname: 'sort-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/sortMutation.jsx","import { numberUtils } from '../../../utils.js';\r\n\r\nexport function calculate(data, options) {\r\n\tif ( options.count >= data.length ) {\r\n\t\tthrow 'To much gens for sort mutation';\r\n\t}\r\n\r\n\tconst length = data.length;\r\n\tconst startIndex = numberUtils.randomBetween(0, length - options.count);\r\n\tconst endIndex = startIndex + options.count;\r\n\r\n\tconst sorted = data\r\n\t\t.slice(startIndex, endIndex)\r\n\t\t.sort((a, b) => +a - +b);\r\n\r\n\treturn [\r\n\t\t...data.slice(0, startIndex),\r\n\t\t...sorted,\r\n\t\t...data.slice(endIndex)\r\n\t];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/sortMutation/calculate.js","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../utils.js';\r\n\r\nconst defaultOptions = {\r\n\tcount: 64\r\n};\r\n\r\nfunction run( data, options = {} ) {\r\n\toptions = Object.assign({}, defaultOptions, options);\r\n\r\n\tarrayUtils\r\n\t\t// -1 cause we need neighbor\r\n\t\t.getRandomIndexes(options.count, data.length - 1)\r\n\t\t.forEach(i => {\r\n\t\t\tconst temp = data[i];\r\n\t\t\tdata[i] = data[i + 1];\r\n\t\t\tdata[i + 1] = temp;\r\n\t\t});\r\n\t\r\n\treturn data;\r\n}\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={128}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 0.25,\r\n\tcount: 32\r\n});\r\n\r\nexport default {\r\n\tname: 'swap2-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/swap2Mutation.jsx","import { createGroupMutation } from './common/createGroupMutation';\r\n\r\nexport default createGroupMutation(\r\n\t'swap-group-mutation',\r\n\t(groups, [fromIndexes, toIndexes]) => {\r\n\t\tgroups.swap(fromIndexes, toIndexes);\r\n\t},\r\n \t{\r\n\t\tweight: 0.5,\r\n\t\tgroupSize: 5,\r\n\t\tcount: 2\r\n\t}\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/swapGroupMutation.jsx","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { calculate as run } from './transposeMutation/calculate';\r\n\r\nconst initialState = {\r\n\tweight: 0.2,\r\n\tgroupSize: 5,\r\n\tcount: 2,\r\n\ttransposeSize: 2\r\n};\r\n\r\nconst render = \r\n\t({ count, groupSize, transposeSize }, onblur) => (\r\n\t\t<div>\r\n\t\t\t<SliderControl\r\n\t        \tdefaultValue={count}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'count'} \r\n\t        \ttitle=\"Count of groups\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={10}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n\t    \t<SliderControl\r\n\t        \tdefaultValue={groupSize}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'groupSize'} \r\n\t        \ttitle=\"Group size in percents\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={100}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n\t    \t<SliderControl\r\n\t        \tdefaultValue={transposeSize}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'transposeSize'} \r\n\t        \ttitle=\"Size of transposition in steps\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={7}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n    \t</div>\r\n\t);\r\n\r\nexport default {\r\n\tname: 'transpose-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState: () => initialState\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/transposeMutation.jsx","import { last } from 'lodash';\r\nimport { createCalculate } from '../common/createGroupMutation';\r\nimport { availableValuesInGF, PAUSE, HOLD } from '../../../MusicContext';\r\n\r\nconst MAX_GEN_VALUE = last(availableValuesInGF);\r\n\r\nfunction transposeGen(gen, transposeSize) {\r\n\tif ([PAUSE, HOLD].includes(gen)) {\r\n\t\treturn gen;\r\n\t} \r\n\tconst newValue = gen + transposeSize;\r\n\tconst rem = newValue % MAX_GEN_VALUE;\r\n\treturn rem ? rem : MAX_GEN_VALUE;\r\n}\r\n\r\nexport const calculate =\r\n\tcreateCalculate((groups, [indexes], { transposeSize }) => {\r\n\t\tindexes.forEach(i => {\r\n\t\t\tconst chunk = groups.get(i);\r\n\t\t\tgroups.set(i, chunk.map(g => transposeGen(g, transposeSize)));\r\n\t\t});\r\n\t});\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/transposeMutation/calculate.js","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../utils.js';\r\n\r\nconst defaultOptions = {\r\n\tcount: 64\r\n};\r\n\r\nconst UP_CORNER = 14;\r\nconst DOWN_CORNER = 1;\r\n\r\nclass UpAndDownMutation {\r\n\tmutate( data, options = {} ) {\r\n\t\toptions = Object.assign({}, defaultOptions, options);\r\n\t\tconst indexes = arrayUtils.getRandomIndexes(options.count, data.length);\r\n\t\tindexes.forEach(i => {\r\n\t\t\tif ( data[i] === -1 || data[i] === 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t} \r\n\t\t\tdata[i] = this._mutateOne(data[i]);\r\n\t\t});\r\n\t\treturn data;\r\n\t}\r\n\t_mutateOne( value ) {\r\n\t\tif ( Math.random() > 0.5 ) {\r\n\t\t\t//TODO: export to common END\r\n\t\t\tif ( value < UP_CORNER ) {\r\n\t\t\t\treturn value + 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\t\t} else {\r\n\t\t\t//TODO: export to common START\r\n\t\t\tif ( value > (DOWN_CORNER + 1)  ) {\r\n\t\t\t\treturn value - 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nconst instance = new UpAndDownMutation();\r\nconst run = instance.mutate.bind(instance);\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={128}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 1,\r\n\tcount: 7\r\n});\r\n\r\nexport default {\r\n\tname: 'up-and-down-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/mutations/providers/upAndDownMutation.jsx","import { createCompositeProvider } from '../common/createProvider';\r\nimport { plugins } from './plugins';\r\n\r\nexport const { run, Component } = createCompositeProvider('fitness', plugins);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/FitnessProvider.js","import BasicReferenceFitness from './providers/BasicReferenceFitness';\r\nimport ClusterFitness from './providers/ClusterFitness';\r\nimport DirectionFitness from './providers/DirectionFitness';\r\nimport IntervalFitness from './providers/IntervalFitness';\r\nimport MagnitudeFitness from './providers/MagnitudeFitness';\r\nimport MelodyFitness from './providers/MelodyFitness';\r\nimport MelodyLineFitness from './providers/MelodyLineFitness';\r\nimport NoteSizePartialFitness from './providers/NoteSizePartialFitness';\r\nimport RhythmLineFitness from './providers/RhythmLineFitness';\r\nimport RodNoteFitness from './providers/RodNoteFitness';\r\nimport SignSequenceFitness from './providers/SignSequenceFitness';\r\n\r\nexport const plugins = [\r\n    BasicReferenceFitness,\r\n    ClusterFitness,\r\n    DirectionFitness,\r\n    IntervalFitness,\r\n    MagnitudeFitness,\r\n    MelodyFitness,\r\n    MelodyLineFitness,\r\n    NoteSizePartialFitness,\r\n    RhythmLineFitness,\r\n    RodNoteFitness,\r\n    SignSequenceFitness\r\n];\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/plugins.js","import {normalizeNotesDiscrete} from '../../utils/normalization';\r\n\r\nconst run =\r\n\t(content, reference) => {\r\n\t\tconst normContent = normalizeNotesDiscrete(content);\r\n\t\tconst normReference = normalizeNotesDiscrete(reference);\r\n\t\tconst point = 1 / normContent.length;\r\n\r\n\t\treturn normContent\r\n\t\t\t.reduce((store, item, index) =>\r\n\t\t\t\t item === normReference[index] ? store + point : store, 0);\r\n\t};\r\n\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\nexport default {\r\n\tname: 'basic-reference-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/BasicReferenceFitness.js","import MusicContext, { PAUSE, HOLD } from '../MusicContext';\r\nimport { numberUtils } from '../utils';\r\n\r\n/**\r\n * Replace holds with pauses\r\n * @type {Array<Number>}\r\n */\r\nexport const normalizeHolds =\r\n\tcontent => \r\n\t\tcontent\r\n\t\t\t.reduce((store, current) => \r\n\t\t\t\tstore.concat(current === -1 ? 0 : current), []);\r\n\r\nexport const normalizeRhythm =\r\n\tcontent =>\r\n\t\tcontent\r\n\t\t\t.reduce((reducer, current) => \r\n\t\t\t\treducer.concat([PAUSE, HOLD].includes(current) ? 0 : 1), []);\r\n\r\n/**\r\n * Replace holds with previous notePitchs/pauses\r\n * @example 7, -1, -1, 0, -1 = 7, 7, 7, 0, 0\r\n */\r\nexport const normalizeNotesDiscrete =\r\n\tcontent => \r\n\t\tcontent\r\n\t\t.reduce((store, current) => {\r\n\t\t\tif (current >= 0) {\r\n\t\t\t\tstore.note = current;\r\n\t\t\t}\r\n\t\t\tstore.data.push(store.note);\r\n\t\t\treturn store;\r\n\t\t}, { data: [], note: 0 })\r\n\t\t.data;\r\n\r\n\r\n// TODO: probably could be dynamic, for now static\r\nconst MAX_ONE_OCTAVE_VALUE = MusicContext.getMaxOneOctaveValue();\r\nexport const normalizePitchToOctave =\r\n\tcontent => \r\n\t\tcontent\r\n\t\t.map(v => numberUtils.normalizeValue(v, MAX_ONE_OCTAVE_VALUE));\r\n\r\n\r\nexport const normalizer =\r\n\tnormalizers =>\r\n\t\tcontent =>\r\n\t\t\tnormalizers\r\n\t\t\t\t.reduce((data, normalizerFn) =>\r\n\t\t\t\t\tnormalizerFn(data), content);\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/normalization.js","import { clusterMask } from '../../masks/clusterMask';\r\nimport { fitnessExecutor, barEqualityComparer } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'cluster-fitness',\r\n\trun: fitnessExecutor(clusterMask)(barEqualityComparer),\r\n\tgetInitialState: () => ({ weight: 0.1, _important: false })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/ClusterFitness.js","import { PAUSE } from '../MusicContext';\r\nimport { maskFactory } from './helpers';\r\n\r\n// const DEFAULT_THRESHOLD = 0.5;\r\n\r\nexport const clusterMask = \r\n\tmaskFactory((bar, /* { threshold = DEFAULT_THRESHOLD } = {} */) => \r\n\t\tbar.reduce((reducer, value) =>\r\n\t \t\treducer + value === PAUSE ? 0 : 1, 0) / bar.length);\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/clusterMask.js","import Composition from '../utils/Composition';\r\n\r\nexport const maskFactory = \r\n\tbarAnalyzer => \r\n\t\t(data, options) => \r\n\t\t\tComposition\r\n\t\t\t\t.create(data)\r\n\t\t\t\t.rawBars()\r\n\t\t\t\t.map(bar => barAnalyzer(bar, options));\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/helpers.js","export const fitnessExecutor = \r\n\textractor =>\r\n\t\tcomparer => \r\n\t\t\t(content, reference, options = {}) => \r\n\t\t\t\tcomparer(\r\n\t\t\t\t\textractor(content, options),\r\n\t\t\t\t\textractor(reference, options),\r\n\t\t\t\t\toptions\r\n\t\t\t\t);\r\n\r\nexport const barEqualityComparer = \r\n\t(content, reference) => \r\n\t\treference\r\n\t\t\t.reduce((reducer, value, index) => \r\n\t\t\t\tcontent[index] === value ?\r\n\t\t\t\t\treducer + 1 : reducer, 0) / content.length; \r\n\r\nexport const barContentEqualityComparer = \r\n\t/* @params {Array<Array<number>>} content - array of bars which are GNF-like [1, 5, ...] */\r\n\t(content, reference) => \r\n\t\treference\r\n\t\t\t.reduce((reducer, value, index) => \r\n\t\t\t\treducer + barEqualityComparer(value, content[index]), 0) / content.length;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/executors.js","import { directionAnalyzer } from '../../masks/directionMask';\r\nimport { fitnessExecutor, barEqualityComparer } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'direction-fitness',\r\n\trun: fitnessExecutor(directionAnalyzer)(barEqualityComparer),\r\n\tgetInitialState: () => ({ weight: 0.01 })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/DirectionFitness.js","import '../../../../polyfills'; // For Object.entries in jest tests\r\nimport { PAUSE, HOLD } from '../MusicContext';\r\nimport { maskFactory } from './helpers';\r\n\r\nexport const DIRECTION = {\r\n\tUP: 'UP',\r\n\tDOWN: 'DOWN',\r\n\tSTABLE: 'STABLE',\r\n\tNONE: 'NONE'\r\n};\r\n\r\nconst DEFAULT_SIZE = 3;\r\nconst MIN_SPREAD = 3;\r\n\r\nfunction getDirection(a, b) {\r\n\tif (a === b) {\r\n\t\treturn DIRECTION.STABLE;\r\n\t}\r\n\treturn a > b ? DIRECTION.DOWN : DIRECTION.UP;\r\n}\r\n\r\nfunction calculateFrequencies(bar, { size }) {\r\n\tconst storage = {\r\n\t\t[DIRECTION.UP]: 0,\r\n\t\t[DIRECTION.DOWN]: 0,\r\n\t\t[DIRECTION.STABLE]: 0,\r\n\t\t[DIRECTION.NONE]: 0\r\n\t};\r\n\t// Dummy implementation need rework\r\n\tlet chain = [];\r\n\tlet currentDirection = null;\r\n\tfor (let i = 0; i < bar.length; i++) {\r\n\t\tconst value = bar[i];\r\n\t\tif (value === PAUSE) {\r\n\t\t\tif (chain.length >= size) {\r\n\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\r\n\t\t\t}\r\n\t\t\tchain = [];\r\n\t\t\tcurrentDirection = null;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!chain.length) {\r\n\t\t\tchain.push(value);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tconst prev = chain[chain.length - 1];\r\n\t\tconst direction = getDirection(prev, value);\r\n\r\n\t\tif (!currentDirection) {\r\n\t\t\tcurrentDirection = direction;\r\n\t\t\tchain.push(value);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (currentDirection === direction) {\r\n\t\t\tchain.push(value);\r\n\t\t} else {\r\n\t\t\tif (chain.length > size) {\r\n\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\r\n\t\t\t}\r\n\t\t\tchain = [value];\r\n\t\t\tcurrentDirection = null;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t}\r\n\tif (chain.length >= size) {\r\n\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\r\n\t}\r\n\treturn storage;\r\n}\r\n\r\n/**\r\n * @desc exported for tests\r\n */\r\nexport function directionForBar(bar, { size = DEFAULT_SIZE, spread = MIN_SPREAD } = {}) {\r\n\tconst cleanedBar =\r\n\t\tbar.reduce((reducer, current) =>\r\n\t\t\tcurrent === HOLD ?\r\n\t\t\t\treducer :\r\n\t\t\t\t[...reducer, current], []);\r\n\r\n\tconst frequencies = calculateFrequencies(cleanedBar, { size, spread });\r\n\r\n\tconst descSortedFrequencies =\r\n \t\tObject\r\n\t\t\t.entries(frequencies)\r\n\t\t\t.sort((a, b) => a[1] < b[1]);\r\n\r\n\tconst [first, second] = descSortedFrequencies;\r\n\r\n\tif (first[1] - second[1] >= spread) {\r\n\t\treturn first[0];\r\n\t} else {\r\n\t\treturn DIRECTION.NONE;\r\n\t}\r\n}\r\n\r\n/**\r\n * @type {Array<number>}\r\n * @return {Array<DIRECTION>}\r\n */\r\nexport const directionAnalyzer = maskFactory(directionForBar);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/directionMask.js","import calculator from './IntervalFitness/calculate.js';\r\n\r\nconst run = calculator.fitness.bind(calculator);\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\n// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\r\n/*\r\nconst defaultOptions = {\r\n\tintervalValuesWeight: 0.5,\r\n\tintervalDispersionWeight: 0.5\r\n};\r\n */\r\n\r\nexport default {\r\n\tname: 'interval-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/IntervalFitness.js","import { getValueBetweenNotes, MAX_AVERAGE_DIFF, MAX_DISPERSION_DIFF } from './common.js';\r\nimport { notesUtils } from '../../../utils.js';\r\nimport { isNumber } from 'lodash';\r\n\r\nconst defaultOptions = {\r\n\tintervalValuesWeight: 0.5,\r\n\tintervalDispersionWeight: 0.5\r\n};\r\n\r\nclass IntervalFitness {\r\n\tconstructor() {\r\n\t\tthis._referenceValues /*: Array<{dispersion: number, average: number}> - array of bars and their interval values */ = null;\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis._referenceValues = null;\r\n\t}\r\n\r\n\t//TODO: options could be passed once\r\n\tfitness( content, reference, options = {} ) {\r\n\t\toptions = this._normalizeOptions(Object.assign({}, defaultOptions, options));\r\n\t\tconst contentPitch = notesUtils.toPitch(content);\r\n\t\tconst referencePitch = notesUtils.toPitch(reference);\r\n\r\n\t\tconst contentValues = this._calculateIntervalValues(contentPitch);\r\n\t\tif ( !this._referenceValues ) {\r\n\t\t\tthis._referenceValues = this._calculateIntervalValues(referencePitch);\r\n\t\t}\r\n\r\n\t\tconst result = this._calculateFitness(contentValues, options);\r\n\t\tconsole.assert(isNumber(result), 'Result should be a number');\r\n\t\treturn result;\r\n\t}\r\n\r\n\t_calculateFitness( contentValues, options ) {\r\n\t\tconst contentMaxIndex = contentValues.length;\r\n\t\tlet averageSum = 0;\r\n\t\tlet dispersionSum = 0;\r\n\r\n\t\tthis._referenceValues.some(({ average: aRef, dispersion: dRef }, i) => {\r\n\t\t\tif ( contentMaxIndex <= i ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tlet { average, dispersion } = contentValues[i];\r\n\r\n\t\t\taverageSum += Math.abs(aRef - average);\r\n\t\t\tdispersionSum += Math.abs(dRef - dispersion);\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\taverageSum = averageSum / this._referenceValues.length;\r\n\t\tdispersionSum = dispersionSum / this._referenceValues.length;\r\n\t\t\r\n\t\tconsole.assert(isNumber(averageSum), 'AverageSum is a number');\r\n\r\n\t\taverageSum = (1 - averageSum / MAX_AVERAGE_DIFF) * options.intervalValuesWeight;\r\n\t\tdispersionSum = (1 - dispersionSum / MAX_DISPERSION_DIFF) * options.intervalDispersionWeight;\r\n\r\n\t\tconsole.assert(isNumber(averageSum), 'AverageSum is a number');\r\n\t\treturn averageSum + dispersionSum;\r\n\t}\r\n\r\n\t_calculateIntervalValues( bars ) {\r\n\t\treturn bars.map(bar => this._calculateIntervalValuesForBar(bar));\r\n\t}\r\n\r\n\t_calculateIntervalValuesForBar( pitchesBar ) {\r\n\t\tlet valuesArray = [];\r\n\t\tconst count = pitchesBar.length;\r\n\t\tlet sum = 0;\r\n\r\n\t\tif ( !count ) {\r\n\t\t\treturn { average: 0, dispersion: 0 };\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < count - 1; i++ ) {\r\n\t\t\tconst a = pitchesBar[i];\r\n\t\t\tconst b = pitchesBar[i + 1];\r\n\r\n\t\t\tconst value = getValueBetweenNotes(a, b);\r\n\t\t\tsum += value;\r\n\t\t\tvaluesArray.push(value);\r\n\t\t}\r\n\r\n\t\tconst average = sum / count;\r\n\t\tconst dispersion = valuesArray\r\n\t\t\t\t\t\t\t\t.map(v => Math.pow((v - average), 2))\r\n\t\t\t\t\t\t\t\t.reduce((prev, val) => prev + val, 0);\r\n\r\n\t\treturn { average, dispersion };\r\n\t}\r\n\r\n\t_normalizeOptions( options ) {\r\n\t\tconst max = options.intervalValuesWeight + options.intervalDispersionWeight;\r\n\t\treturn Object.assign(options, {\r\n\t\t\tintervalValuesWeight: options.intervalValuesWeight / max, \r\n\t\t\tintervalDispersionWeight: options.intervalDispersionWeight / max \r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nexport default new IntervalFitness();\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/IntervalFitness/calculate.js","import MusicContext from '../../../MusicContext';\r\n\r\nconst INTERVAL_TYPE_VALUES = [\r\n\t{\r\n\t\tPERFECT_CONSONANTS: 1,\r\n\t\tIMPERFECT_CONSONANTS: 2,\r\n\t\tSECONDS: 3,\r\n\t\tSEVENTH: 3,\r\n\t\tGRATER_THAN_OCTAVE: 5\r\n\t},\r\n\t{\r\n\t\tPERFECT_CONSONANTS: 1,\r\n\t\tIMPERFECT_CONSONANTS: 3,\r\n\t\tSECONDS: 1,\r\n\t\tSEVENTH: 3,\r\n\t\tGRATER_THAN_OCTAVE: 5\r\n\t}\r\n];\r\n\r\n//0, 1\r\nfunction getIntervalValue( interval, type = 0 ) {\r\n\tconst values = {\r\n\t\t//Perfect consonants\r\n\t\t0: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS,  //unison\r\n\t\t5: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS,  //perfect fourth\r\n\t\t7: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS,  //perfect fifth\r\n\t\t12: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //octave\r\n\r\n\t\t//Imperfect consonants\r\n\t\t3: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // min third\r\n\t\t4: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // maj third\r\n\t\t8: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // min sixth\r\n\t\t9: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // big sixth\r\n\r\n\t\t//Seconds\r\n\t\t1: INTERVAL_TYPE_VALUES[type].SECONDS,  //min second\r\n\t\t2: INTERVAL_TYPE_VALUES[type].SECONDS,  //maj second\r\n\t\t\r\n\t\t//Sevenths\r\n\t\t10: INTERVAL_TYPE_VALUES[type].SEVENTH,  //min seventh\r\n\t\t11: INTERVAL_TYPE_VALUES[type].SEVENTH,  //maj seventh\r\n\r\n\t\t//More then octave\r\n\t\t6: INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE,\r\n\t\t'-1': INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE\r\n\t};\r\n\r\n\tif ( interval > 12 ) {\r\n\t\treturn values[-1];\r\n\t}\r\n\r\n\treturn values[interval];\r\n}\r\n\r\nexport function getValueBetweenNotes( noteA, noteB, mode = 0 ) {\r\n\t// assume that noteA, noteB are not PAUSE or HOLD;\r\n\tconst halfTones = MusicContext.getHalfTonesBeetween(noteA, noteB);\r\n\tconst intervalValue = getIntervalValue(halfTones, mode);\r\n\treturn intervalValue;\r\n}\r\n\r\nexport const MAX_AVERAGE_DIFF = 4;\r\nexport const MAX_DISPERSION_DIFF = MAX_AVERAGE_DIFF * MAX_AVERAGE_DIFF;  \r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/IntervalFitness/common.js","import calculator from './MagnitudeFitness/calculate.js';\r\n\r\nconst run = calculator.fitness.bind(calculator);\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\nexport default {\r\n\tname: 'magnitude-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MagnitudeFitness.js","const BIT_VALUES = [4, 2, 3, 1];\r\nconst MAX_DISTANCE = 4;\r\n//each bar has 10 balls to normalize we need to /16 and it's 1 ball for bar and /8 (8 bars)\r\n\r\nconst PAUSE = -1;\r\nconst HOLD = 0;\r\n\r\nclass MagnitudeFitness {\r\n\tfitness( content, reference ) {\r\n\t\tlet sum = 0;\r\n\t\tfor ( let i = 0, l = content.length; i < l; i++ ) {\r\n\t\t\tconst index = i % 16; // from 0 - 15;\r\n\t\t\tconst bitValue = this._getBitValue(index);\r\n\t\t\tconst refValue = reference[i];\r\n\t\t\tconst contentValue = content[i];\r\n\r\n\r\n\t\t\tif ( \r\n\t\t\t\t(refValue === PAUSE || contentValue === PAUSE) ||\r\n\t\t\t\t(refValue === HOLD || contentValue === HOLD)\r\n\t\t\t) {\r\n\t\t\t\tif ( refValue === contentValue ) {\r\n\t\t\t\t\tsum += bitValue;\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tconst distance = Math.abs(content[i] - reference[i]);\r\n\r\n\t\t\tif ( distance > MAX_DISTANCE ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tsum += bitValue * (1 - distance / MAX_DISTANCE);\r\n\t\t}\r\n\r\n\t\treturn this._normalize(sum);\r\n\t}\r\n\r\n\t_getBitValue( index ) {\r\n\t\tfor ( let i = 0; i < 4; i++ ) {\r\n\t\t\tconst start = i * 4;\r\n\t\t\tif ( (index >= start) && (index < start + 4) ) {\r\n\t\t\t\treturn BIT_VALUES[i];\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new 'Something went wrong in MagnitudeFitness._gitBitValue';\r\n\t}\r\n\r\n\t_normalize(value) {\r\n\t\treturn value / 8 / 10 / 4;\r\n\t}\r\n}\r\n\r\nexport default new MagnitudeFitness();\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MagnitudeFitness/calculate.js","import calculator from './MagnitudeFitness/calculate.js';\r\n\r\nconst run = calculator.fitness.bind(calculator);\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\n// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\r\n/*\r\nconst defaultOptions = {\r\n\tpitch: 1,\r\n\trhythm: 1,\r\n\tmaxPitchDistance: 4\r\n};\r\n*/\r\nexport default {\r\n\tname: 'magnitude-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MelodyFitness.js","import { melodyLineMask } from '../../masks/melodyLineMask';\r\nimport { fitnessExecutor, barContentEqualityComparer } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'melody-line-fitness',\r\n\trun: fitnessExecutor(melodyLineMask)(barContentEqualityComparer),\r\n\tgetInitialState: () => ({ weight: 0.5, _important: false })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/MelodyLineFitness.js","import { maskFactory } from './helpers';\r\nimport { normalizeNotesDiscrete } from '../utils/normalization'; \r\n\r\nexport const melodyLineMask = maskFactory(bar => normalizeNotesDiscrete(bar));\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/melodyLineMask.js","import { noteSizeDistributionAnalyzer } from '../../services/noteSizeDistributionAnalyzer';\r\nimport { calculateError } from './NoteSizePartialFitness/calculateError';\r\n\r\nconst run = (content, reference, _options) => {\r\n\tconsole.assert(content.length === reference.length);\r\n\r\n\tconst referenceAnalysis = noteSizeDistributionAnalyzer(reference);\r\n\tconst contentAnalysis = noteSizeDistributionAnalyzer(content);\r\n\treturn referenceAnalysis\r\n\t\t.reduce((reducer, bar, index) => {\r\n\t\t\tconst contentBar = contentAnalysis[index];\r\n\t\t\tconst error = calculateError(bar, contentBar);\r\n\t\t\treturn reducer + (1 - error);\r\n\t\t}, 0) / referenceAnalysis.length;\r\n};\r\n\r\nconst getInitialState = () => ({ \r\n\tweight: 0.3,\r\n\t_important: false\r\n});\r\n\r\nexport default {\r\n\tname: 'note-size-partial-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness.js","import Composition from '../utils/Composition';\r\n\r\nfunction calculateDistributionForBar(bar) {\r\n\tconst step = 1 / bar.length;\r\n\tconst result = bar.reduce((reducer, note) => {\r\n\t\tconst size = note.length();\r\n\t\treducer[size] = (reducer[size] || 0) + step; \r\n\t\treturn reducer;\r\n\t}, {});\r\n\r\n\treturn result;\r\n}\r\n\r\nexport const noteSizeDistributionAnalyzer = \r\n\t(data, ignorePauses = false) => \r\n\t\tComposition\r\n\t\t\t.create(data)\r\n\t\t\t.bars()\r\n\t\t\t.map(bar =>\r\n\t\t\t\tcalculateDistributionForBar(bar, ignorePauses));\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/services/noteSizeDistributionAnalyzer.js","import { calculateDiffObject } from './calculateDiffObject';\r\n\r\nexport const calculateError =\r\n\t(objA, objB) =>\r\n\t\tObject\r\n\t\t\t.values(calculateDiffObject(objA, objB))\r\n\t\t\t.reduce((prev, current) => prev + current, 0);\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateError.js","export const calculateDiffObject = (barA, barB) =>\r\n\tObject\r\n\t\t.keys(barB)\r\n\t\t.map(key => ({ key, value: barB[key] }))\t\r\n\t\t.reduce(( diff, { key, value }) => {\r\n\t\t\tif ( diff[key] != null ) {\r\n\t\t\t\tconst difference = diff[key] - value;\r\n\t\t\t\tdiff[key] = difference > 0 ? difference : 0;\r\n\t\t\t}\r\n\t\t\treturn diff;\r\n\t\t}, { ...barA });\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateDiffObject.js","import { rhythmLineMask } from '../../masks/rhythmLineMask';\r\nimport { fitnessExecutor, barContentEqualityComparer } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'rhythm-line-fitness',\r\n\trun: fitnessExecutor(rhythmLineMask)(barContentEqualityComparer),\r\n\tgetInitialState: () => ({ weight: 0.2, _important: false })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/RhythmLineFitness.js","import { maskFactory } from './helpers';\r\nimport { normalizeRhythm } from '../utils/normalization'; \r\n\r\nexport const rhythmLineMask = maskFactory(bar => normalizeRhythm(bar));\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/rhythmLineMask.js","import { rodNoteAnalyzer } from '../../masks/rodNoteMask';\r\nimport { fitnessExecutor } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'rod-note-fitness',\r\n\trun: fitnessExecutor(rodNoteAnalyzer)((referenceByBar, contentByBar) => {\r\n\t\tconst step = 1 / referenceByBar.length;\r\n\t\treturn referenceByBar\r\n\t\t\t.reduce((reducer, value, index) => {\r\n\t\t\t\tconst subStep = step / value.length;\r\n\t\t\t\treturn value\r\n\t\t\t\t\t.reduce((subReducer, subValue, subIndex) =>\r\n\t\t\t\t\t\tsubValue === contentByBar[index][subIndex] ?\r\n\t\t\t\t\t\t\tsubReducer + subStep : subReducer, 0) + reducer;\r\n\t\t\t}, 0);\r\n\t}),\r\n\tgetInitialState: () => ({ weight: 0, _important: false })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/RodNoteFitness.js","import { HOLD } from '../MusicContext';\r\nimport { maskFactory } from './helpers';\r\n\r\nexport const ROD_TYPE = {\r\n\tFIRST: 'FIRST',\r\n\tTWO: 'TWO',\r\n\tFOUR: 'FOUR',\r\n\tFIRST_AND_LAST: 'FIRST_AND_LAST'\r\n};\r\n\r\nconst ROD_MASK = {\r\n\t[ROD_TYPE.FIRST]: [0],  \t\t  // [1, 0, 0, 0, 0, 0, 0, 0]\r\n\t[ROD_TYPE.TWO]: [0, 4], \t\t  // [1, 0, 0, 0, 1, 0, 0, 0]\r\n\t[ROD_TYPE.FOUR]: [0, 2, 4, 6],    // [1, 0, 1, 0, 1, 0, 1, 0]\r\n\t[ROD_TYPE.FIRST_AND_LAST]: [0, 6] // [1, 0, 0, 0, 0, 0, 1, 0]\r\n};\r\n\r\n/**\r\n * @description exported for tests\r\n */\r\nexport const rodNoteForBar = \r\n\t(bar, { rodeType = ROD_TYPE.FIRST } = {}) =>\r\n\t\tROD_MASK[rodeType]\r\n\t\t\t.reduce((reducer, index) =>\r\n\t\t\t\t[...reducer, bar[index] === HOLD ? null : bar[index]], []);\r\n/**\r\n * @description holds in rod notes became nulls\r\n * @type {Array<number>}\r\n */\r\nexport const rodNoteAnalyzer = maskFactory(rodNoteForBar);\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/rodNoteMask.js","import { signMask } from '../../masks/signMask';\r\nimport { fitnessExecutor, barContentEqualityComparer } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'sign-sequence-fitness',\r\n\trun: fitnessExecutor(signMask)(barContentEqualityComparer),\r\n\tgetInitialState: () => ({ weight: 0, _important: false })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/fitness/providers/SignSequenceFitness.js","import { last } from 'lodash';\r\nimport { PAUSE, HOLD } from '../MusicContext';\r\nimport Composition from '../utils/Composition';\r\n\r\nconst filterBar = bar => bar.map(x => x === HOLD ? PAUSE : x);\r\n\r\n/**\r\n * @internal Exported for tests \r\n */\r\nexport function barAnalyzer([bar, prevBar = []]) {\r\n\treturn filterBar(bar).reduce(({ prev, data }, note) => {\r\n\t\tif (prev == null) {\r\n\t\t\treturn {\r\n\t\t\t\tdata: [],\r\n\t\t\t\tprev: note\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tconst diff = note - prev;\r\n\r\n\t\tlet value = 0;\r\n\t\tif (diff > 0) {\r\n\t\t\tvalue = 1\r\n\t\t} else if (diff < 0) {\r\n\t\t\tvalue = -1\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tdata: [...data, value],\r\n\t\t\tprev: note\r\n\t\t};\r\n\r\n\t}, { data: [], prev: last(filterBar(prevBar)) }).data;\r\n}\r\n\r\nexport const signMask =\r\n\t(data, options) =>\r\n\t\tComposition\r\n\t\t\t.create(data)\r\n\t\t\t.rawBars()\r\n\t\t\t.reduce((reducer, bar, index, array) =>\r\n\t\t\t\t[...reducer, barAnalyzer([bar, index ? array[index - 1] : undefined], options)], []);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/masks/signMask.js","import React from 'react';\r\nimport { Panel } from 'react-bootstrap';\r\nimport { SliderControl, CheckboxControl } from '../../components/UIFactory.jsx';\r\nimport { changeOptions } from '../../actions/index';\r\nimport rootState from '../../../../store/initialState';\r\n\r\nconst NAMESPACE = 'options';\r\n\r\nrootState.GA[NAMESPACE] = {\r\n\tmaxIterations: 200,\r\n\tdeathLimit: 0.2,\r\n\tcount: 100,\r\n\tthreshold: 0.9, /* End processing when someone near good (best 1) */\r\n\tmutationProbability: 0.5,\r\n\tuseRandomInitialIndividuals: true,\r\n\tcountOfBestToLiveThrought: 0,\r\n\tstopOnEndOfIterations: true,\r\n\r\n\r\n\tuseEvolutionStrategies: true,\r\n\tmigrationRate: 20,\r\n\t/**\r\n\t * @type {number} from 0 - 1 in percents\r\n\t */\r\n\tmigrationSize: 0.1,\r\n\tgroupCount: 4\r\n};\r\n\r\nconst createSliderFactory =\r\n\t(state, onblur) =>\r\n\t\t(field, props) => (\r\n\t\t\t<SliderControl\r\n\t\t\t\tdefaultValue={state[field]}\r\n\t\t\t\tonBlur={onblur}\r\n\t\t\t\tfield={field}\r\n\t\t\t\t{...props}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\r\n\r\nexport const render = (props) => {\r\n\tconst { store } = props;\r\n\tconst state = store.getState().GA[NAMESPACE];\r\n\tconst onblur = (field, value) => {\r\n\t\tstore.dispatch(\r\n\t\t\tchangeOptions([NAMESPACE, field], value)\r\n\t\t);\r\n\t};\r\n\tconst createSlider = createSliderFactory(state, onblur);\r\n\r\n\treturn (\r\n\t\t<Panel collapsible defaultExpanded header=\"Options\">\r\n\t\t\t{createSlider('maxIterations', { max: 10000, min: 50, step: 10 })}\r\n\t\t\t{createSlider('deathLimit')}\r\n\t\t\t{createSlider('count', { max: 500, min: 25, step: 1 })}\r\n\t\t\t{createSlider('threshold')}\r\n\t\t\t{createSlider('mutationProbability')}\r\n\t\t\t{createSlider('countOfBestToLiveThrought', { max: 10, min: 0, step: 1 })}\r\n\t\t\t<CheckboxControl\r\n\t\t\t\tonBlur={onblur}\r\n\t\t\t\tdefaultValue={state['useRandomInitialIndividuals']}\r\n\t\t\t\tfield={'useRandomInitialIndividuals'} />\r\n\t\t\t<CheckboxControl\r\n\t\t\t\tonBlur={onblur}\r\n\t\t\t\tdefaultValue={state['stopOnEndOfIterations']}\r\n\t\t\t\tfield={'stopOnEndOfIterations'} />\r\n\r\n\r\n\t\t\t<CheckboxControl\r\n\t\t\t\tonBlur={onblur}\r\n\t\t\t\tdefaultValue={state['useEvolutionStrategies']}\r\n\t\t\t\tfield={'useEvolutionStrategies'} />\r\n\r\n\t\t\t{createSlider('migrationRate', { max: 500, min: 0, step: 1 })}\r\n\t\t\t{createSlider('migrationSize', { title: 'Migration Size (in percents of population)', max: 1, min: 0, step: 0.01 })}\r\n\t\t\t{createSlider('groupCount', { max: 25, min: 0, step: 1 })}\r\n\t\t</Panel>\r\n\t);\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/options.jsx","import { createRenderComponent } from '../common/createRenderComponent';\r\nimport { createPluginsHash } from '../common/createPluginsHash';\r\nimport rootState from '../../../../store/initialState';\r\n\r\n// NOTE: list of available evolutions\r\nimport DarwinEvolution from './providers/DarwinEvolution';\r\nimport LamarkEvolution from './providers/LamarkEvolution';\r\nimport VriesEvolution from './providers/VriesEvolution';\r\nimport KimuraEvolution from './providers/KimuraEvolution';\r\nimport PunctuatedEquilibriumEvolution from './providers/PunctuatedEquilibriumEvolution';\r\n\r\nconst EVOLUTION_KEY = 'evolution';\r\n\r\n// TODO: export somewhere, copy paste from BaseCalculateProvider\r\nfunction registerInStore(providerName, initialState, plugins) {\r\n    initialState[providerName] = {};\r\n    Object\r\n        .keys(plugins)\r\n        .map(key => plugins[key])\r\n        .forEach(({ name, getInitialState }) =>\r\n            initialState[providerName][name] = getInitialState());\r\n}\r\n\r\n\r\nfunction createEvolutionProvider(evolution) {\r\n    const plugins = createPluginsHash(evolution);\r\n    registerInStore(EVOLUTION_KEY, rootState.GA, plugins);\r\n    const Component = createRenderComponent(EVOLUTION_KEY, plugins, { expanded: true });\r\n\r\n    return {\r\n        Component,\r\n        plugins\r\n    };\r\n}\r\n\r\nexport const { Component, plugins } = createEvolutionProvider([\r\n    DarwinEvolution,\r\n    LamarkEvolution,\r\n    VriesEvolution,\r\n    KimuraEvolution,\r\n    PunctuatedEquilibriumEvolution\r\n]);\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/EvolutionProvider.jsx","import { GA } from '../../ga/GA';\r\n\r\nexport default {\r\n    executor: GA,\r\n    name: 'darwin-evolution',\r\n    getInitialState: () => ({ weight: 0.5 })\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/DarwinEvolution.js","import { BaseGA } from './BaseGA';\r\nimport { loop, syncLoop } from './loop';\r\n\r\nexport class BrowserGA extends BaseGA {\r\n    _loop(cond, body, done) {\r\n        loop(cond, body, done);\r\n    }\r\n}\r\n\r\nexport class NodeGA extends BaseGA {\r\n    constructor(preferences, workerOptions = {}, reference, rate) {\r\n        super(preferences, workerOptions, reference, rate);\r\n        this._rate = rate;\r\n    }\r\n    _loop(cond, body, done) {\r\n        //debounceLoop(cond, body, done, this._rate);\r\n        syncLoop(cond, body, done);\r\n    }\r\n}\r\n\r\nconst isNode = new Function('try { return this === global; } catch(e) { return false; }')();\r\nconsole.log(`ENVIRONMENT: ${isNode ? 'NodeJS' : 'Browser'}`);\r\nexport const GA = isNode ? NodeGA : BrowserGA;\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/GA.js","import Individual from '../Individual';\r\nimport { sampleSize } from 'lodash';\r\nimport { populationSorter } from '../utils/populationSorter';\r\nimport { run as getCrossover } from '../crossovers/CrossoverProvider';\r\nimport { run as getMutation } from '../mutations/MutationProvider';\r\nimport { run as getFitness } from '../fitness/FitnessProvider';\r\n\r\nconst defaultWorkerOptions = {\r\n    onProgress: undefined,\r\n    onDone: undefined,\r\n    onPause: undefined,\r\n    notifyRate: 10,\r\n\r\n    onMigration: undefined,\r\n    migrationRate: undefined,\r\n    migrationCount: 10\r\n};\r\n\r\nexport class BaseGA {\r\n    _context;\r\n    _options;\r\n\r\n    /**\r\n     * @type {Array<Individual> | null}\r\n     */\r\n    _migrants = null;\r\n\r\n    /**\r\n     * @type {{ options: {}, evolution: {}, crossover: {}, mutation: {}, fitness: {} }}\r\n     */\r\n    _preference;\r\n\r\n    /**\r\n     * @param {{ options: {}, evolution: {}, crossover: {}, mutation: {}, fitness: {} }} preferences\r\n     */\r\n    constructor(preferences, workerOptions = {}, reference, id) {\r\n        const { crossover, mutation, fitness, options, evolution } = preferences;\r\n        this._id = id;\r\n        // -1) Grab selected reference\r\n        this._reference = reference;\r\n\r\n        // 0) Grab and store options\r\n        this._preference = preferences;\r\n        this._options = options;\r\n        this._evolution = evolution;\r\n        this._workerOptions = Object.assign({}, defaultWorkerOptions, workerOptions);\r\n\r\n        // 1) Create context for individuals\r\n        this._context = {\r\n            crossover: getCrossover(crossover),\r\n            mutation: getMutation(mutation),\r\n            fitness: getFitness(fitness)\r\n        };\r\n\r\n        // 2) Set current state variables\r\n        this._cleanState();\r\n\r\n        // 3) Perform initial run\r\n        this._run();\r\n    }\r\n\r\n    /**\r\n     * @description Called from GARunner on migration event\r\n     * @params {Array<number[]>} migrants - array of migrants of type Individual.content\r\n     */\r\n    migrate(migrants) {\r\n        this._migrants = migrants.map(x =>\r\n            new Individual(this._reference, x, null, false, this._context));\r\n    }\r\n\r\n    resume() {\r\n        this._paused = false;\r\n        this._run();\r\n    }\r\n\r\n    pause() {\r\n        this._paused = true;\r\n    }\r\n\r\n    stop() {\r\n        this._paused = true;\r\n        this._stopped = true;\r\n    }\r\n\r\n\r\n    //-----------------------------\r\n    //  1. Initial Population\r\n    //-----------------------------\r\n    _createInitialPopulation() {\r\n        this._population = [];\r\n\r\n        for (var i = 0; i < this._options.count; i++) {\r\n            this._population.push(\r\n                new Individual(this._reference, null, null, this._options.useRandomInitialIndividuals, this._context)\r\n            );\r\n        }\r\n    }\r\n\r\n    //-----------------------------\r\n    //  2. Mutate/Crossover\r\n    //-----------------------------\r\n    _crossover() {\r\n        const result = [];\r\n        const clones = this._sortByFitness(this._population.slice());\r\n\r\n        while (clones.length > 2) {\r\n            const mama = clones.pop();\r\n            const papa = clones.pop();\r\n            const baby = papa.crossover(mama);\r\n            result.push(baby);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _mutate(population) {\r\n        const probability = this._options.mutationProbability;\r\n        const clones = population.slice();\r\n        return clones.map(item => {\r\n            if (Math.random() < probability) {\r\n                item.mutate();\r\n            }\r\n            return item;\r\n        });\r\n    }\r\n\r\n    //-----------------------------\r\n    //  3. Selection\r\n    //-----------------------------\r\n    _removeClones(population) {\r\n        return Object\r\n            .values(\r\n            population.reduce((reducer, item) =>\r\n                ({ ...reducer, [item.getHash()]: item }), {}));\r\n    }\r\n    _selection(newPopulation) {\r\n        const { deathLimit, stopOnEndOfIterations, countOfBestToLiveThrought: count } = this._options;\r\n\r\n        let goodGuys = this._removeClones(newPopulation).filter(item => item.fitnessValue > deathLimit);\r\n\r\n        // TODO: it's variations i guess\r\n        if (stopOnEndOfIterations) {\r\n            goodGuys = goodGuys.filter(({ fitnessValue }) => fitnessValue !== 1);\r\n        }\r\n\r\n        /*\r\n        Если порог прохождения никто не прошел\r\n        И установлено количество_выживающих_без_учета_фитнеса\r\n        То берем ровно столько лучших возможных, сколько не хватает\r\n         */\r\n        if (count && goodGuys.length < count) {\r\n            const bestWeHave = this._getBestWeHave(count, goodGuys.length, newPopulation);\r\n            goodGuys = [...goodGuys, ...bestWeHave];\r\n        }\r\n\r\n        return goodGuys;\r\n    }\r\n\r\n    // PURE\r\n    // USE: _sortByFitness\r\n    _getBestWeHave(countWeNeed, countWeHave, currentPopulation) {\r\n        const result = [];\r\n        const population = this._sortByFitness(currentPopulation);\r\n\r\n        for (let i = countWeHave; i < countWeNeed; i++) {\r\n            result.push(population[i]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * @description 4. Creates sorted by fitness population \r\n     * @param { Array<Individual> } newPopulation\r\n     * @returns { Array<Individual> }\r\n     */\r\n    _createNewPopulation(newPopulation) {\r\n        const population = newPopulation.slice();\r\n        const need = this._options.count - population.length;\r\n\r\n        // if we need more guys\r\n        if (need > 0) {\r\n            for (var i = 0; i < need; i++) {\r\n                population.push(new Individual(this._reference, null, null, this._options.useRandomInitialIndividuals, this._context));\r\n            }\r\n            return population;\r\n        }\r\n\r\n        // if we need cut someone\r\n        return this\r\n            ._sortByFitness(population)\r\n            .slice(0, this._options.count);\r\n    }\r\n\r\n    //-----------------------------\r\n    //  5. Finish!\r\n    //-----------------------------\r\n    _isDone() {\r\n        return this._population.some(item => item.fitnessValue > this._options.threshold);\r\n    }\r\n\r\n    _getBest(population) {\r\n        population = population || this._population;\r\n        if (!this._bestOne) {\r\n            this._bestOne = population[0];\r\n        }\r\n        let bestFitness = this._bestOne ? this._bestOne.fitnessValue : 0;\r\n        population.forEach(item => {\r\n            if (item.fitnessValue > bestFitness) {\r\n                bestFitness = item.fitnessValue;\r\n                this._bestOne = item;\r\n            }\r\n        });\r\n        return bestFitness;\r\n    }\r\n\r\n    _sortByFitness(population, desc = 1) {\r\n        return populationSorter(population, desc);\r\n    }\r\n\r\n    _cleanState() {\r\n        this._i = 0;\r\n        this._paused = false;\r\n        this._stopped = false;\r\n        this._population = [];\r\n        this._bestOne = null;\r\n    }\r\n\r\n    _run() {\r\n        this._createInitialPopulation();\r\n        this._loop(\r\n            () => this._needToRun(),\r\n            () => this._oneEra(),\r\n            () => this._onCompletion()\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @description 1. Condition to run GA loop\r\n     */\r\n    _needToRun() {\r\n        const { maxIterations, stopOnEndOfIterations } = this._options;\r\n        return (stopOnEndOfIterations || !this._isDone()) &&\r\n            !this._paused &&\r\n            this._i < maxIterations\r\n    }\r\n\r\n    /**\r\n     * @description 2. GA loop algorithm one iteration's body\r\n     */\r\n    _oneEra() {\r\n        this._i++;\r\n        const parents = this._population.slice();\r\n\r\n        if (this._migrants) {\r\n            parents.push(...this._migrants);\r\n            this._migrants = null;\r\n        }\r\n\r\n        const children = this._mutate(this._crossover());\r\n        const newPopulation = this._selection([...children, ...parents]);\r\n        this._population = this._createNewPopulation(newPopulation);\r\n        this._notificationProcess();\r\n        this._migrationProcess();\r\n    }\r\n\r\n    /**\r\n     * @description 3. GA completion logic\r\n     */\r\n    _onCompletion() {\r\n        const { onPause, onDone } = this._workerOptions;\r\n\r\n        const populationDTO = this._snapshot(this._population);\r\n\r\n        if (this._stopped) {\r\n            onDone({\r\n                id: this._id,\r\n                data: populationDTO\r\n            });\r\n        } else if (this._paused) {\r\n            onPause({\r\n                id: this._id,\r\n                data: populationDTO\r\n            });\r\n        } else {\r\n            onDone({\r\n                id: this._id,\r\n                data: populationDTO\r\n            });\r\n        }\r\n    }\r\n\r\n    _notificationProcess() {\r\n        const { onProgress, notifyRate } = this._workerOptions;\r\n        const { maxIterations } = this._options;\r\n        const notify = Boolean(onProgress);\r\n\r\n        if (notify && this._i % notifyRate === 0) {\r\n            //TODO: bad calcs this._bestOne and this._bestFitness\r\n            this._getBest();\r\n            const percentage = this._formatFitness(this._i, maxIterations);\r\n\r\n            onProgress({\r\n                id: this._id,\r\n                percentage,\r\n                best: this._bestOne.toFullFitnessDTO()\r\n            });\r\n        }\r\n    }\r\n\r\n    _migrationProcess() {\r\n        const { onMigration } = this._workerOptions;\r\n        const { migrationRate } = this._options;\r\n        if (!migrationRate) {\r\n            return;\r\n        }\r\n\r\n        if (onMigration && this._i % migrationRate === 0) {\r\n            onMigration({\r\n                id: this._id,\r\n                migrants: this._getMigrants()\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns {Array<number[]>} - array of Individual contents\r\n     */\r\n    _getMigrants() {\r\n        const { migrationSize, count } = this._options;\r\n        const migrantsCount = (count * migrationSize) | 0;\r\n        return migrantsCount ? sampleSize(this._population, migrantsCount).map(x => x.content) : [];\r\n    }\r\n\r\n    _snapshot(currentPopulation) {\r\n        const population = this._sortByFitness(currentPopulation);\r\n        // TODO: create Individual factory with preseted context\r\n        const original = new Individual(this._reference, null, null, false, this._context);\r\n        population.unshift(original);\r\n        return population.map(x => x.toFullFitnessDTO());\r\n    }\r\n\r\n    _formatFitness(iteration, maxIterations) {\r\n        return (iteration / maxIterations * 100);\r\n    }\r\n    _loop(/* cond, body, done */) {\r\n        throw new Error('Abstract GA class');\r\n    }\r\n\r\n    /**\r\n     * @param {number} rate - integer\r\n     */\r\n    _isOccur(rate) {\r\n        return this._i % rate === 0;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/BaseGA.js","import { arrayUtils } from './utils';\r\nimport { availableValues } from './common';\r\n\r\nexport class Individual {\r\n\t/**\r\n\t * @param {Array<number>} referenceIndividual\r\n\t * @param {Array<number>} contentToStart\r\n\t * @param {number} fitnessValue\r\n\t * @param {boolean} useRandomToStart\r\n\t * @param {Object} context\r\n\t * @param {Function} context.crossover\r\n\t * @param {Function} context.mutation\r\n\t * @param {Function} context.fitness\r\n\t */\r\n\tconstructor(referenceIndividual, contentToStart, fitnessValue, useRandomToStart = true, context) {\r\n\t\t// -----------------------------\r\n\t\t// -1) Save context\r\n\t\t// -----------------------------\r\n\t\tthis._context = context;\r\n\r\n\r\n\t\t// -----------------------------\r\n\t\t// 0) Reference individual\r\n\t\t// -----------------------------\r\n\t\tthis._reference = referenceIndividual.slice();\r\n\r\n\t\t// -----------------------------\r\n\t\t// 1) Content to start\r\n\t\t// -----------------------------\r\n\t\tif (contentToStart) {\r\n\t\t\tthis._content = contentToStart;\r\n\t\t} else {\r\n\t\t\tthis._content = useRandomToStart ?\r\n\t\t\t\tthis._reference.map(() => arrayUtils.randomElement(availableValues)) :\r\n\t\t\t\treferenceIndividual.slice();\r\n\t\t}\r\n\r\n\t\t// -----------------------------\r\n\t\t// 2) Content to start\r\n\t\t// -----------------------------\r\n\t\tthis._fitnessValue = fitnessValue == null ? this.fitness().value : fitnessValue;\r\n\t}\r\n\r\n\tclone() {\r\n\t\treturn new Individual(this._reference, this.content, this.fitnessValue, false, this._context);\r\n\t}\r\n\r\n\t/**\r\n\t * @description Mutate and recalculate inner fitnessValue\r\n\t */\r\n\tmutate(_options) { // TODO: pass options to this._context.mutation(..., options) ???\r\n\t\tthis._checkContext();\r\n\t\tthis._content = this._context.mutation(this._content);\r\n\t\tthis._fitnessValue = this.fitness().value;\r\n\t}\r\n\r\n\tcrossover(someone) {\r\n\t\tthis._checkContext();\r\n\t\tconst newContent = this._context.crossover(this.content, someone.content);\r\n\t\treturn new Individual(this._reference, newContent, null, false, this._context);\r\n\t}\r\n\r\n\tget reference() {\r\n\t\treturn this._reference.slice();\r\n\t}\r\n\r\n\tget context() {\r\n\t\treturn this._context;\r\n\t}\r\n\r\n\tfitness() {\r\n\t\tthis._checkContext();\r\n\t\treturn this._context.fitness(this.content, this._reference);\r\n\t}\r\n\r\n\t/**\r\n\t * @description NOTE: Always returns by value\r\n\t */\r\n\tget content() {\r\n\t\treturn this._content.slice();\r\n\t}\r\n\r\n\tget fitnessValue() {\r\n\t\treturn this._fitnessValue;\r\n\t}\r\n\r\n\tgetHash() {\r\n\t\treturn this._content.join();\r\n\t}\r\n\r\n\ttoDTO() {\r\n\t\treturn {\r\n\t\t\t_fitnessValue: this._fitnessValue,\r\n\t\t\t_reference: this._reference.slice(),\r\n\t\t\t_content: this._content.slice()\r\n\t\t}\r\n\t}\r\n\r\n\ttoFullFitnessDTO() {\r\n\t\treturn {\r\n\t\t\tfitness: this.fitness(),\r\n\t\t\tcontent: this._content.slice()\r\n\t\t};\r\n\t}\r\n\r\n\t_checkContext() {\r\n\t\tif (!this._context) {\r\n\t\t\tthrow new Error('Context is not defined, created via fromDTO');\r\n\t\t}\r\n\t}\r\n\r\n\t// TODO: find out better way of getting private fields, maybe create toDTO (in worker) and fromDTO (in UI tread)\r\n\tstatic fromDTO({ _reference, _content, _fitnessValue }) {\r\n\t\treturn new Individual(_reference, _content, _fitnessValue, false);\r\n\t}\r\n}\r\n\r\nexport default Individual;\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/Individual.js","/**\r\n * @param {Individual[]} population \r\n * @param {number} desc (1 for desc) (-1 for asc) \r\n */\r\nexport function populationSorter(population, desc = 1) {\r\n    return population.slice().sort((a, b) => {\r\n        const af = a.fitnessValue;\r\n        const bf = b.fitnessValue;\r\n\r\n        if (af === bf) {\r\n            return 0;\r\n        }\r\n\r\n        return af > bf ? -desc : desc;\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/populationSorter.js","export  function loop(condition, body, done) {\r\n\tbody();\r\n\r\n\tif (!condition()) {\r\n\t\tdone();\r\n\t\treturn;\r\n\t}\r\n\r\n\tsetTimeout(() => loop(condition, body, done), 0);\r\n}\r\n\r\n/**\r\n * @param {Function} condition\r\n * @param {Function} body\r\n * @param {Function} done\r\n * @param {number} defaultRate\r\n * @param {number} currentRate\r\n */\r\nexport function debounceLoop(condition, body, done, defaultRate = 1000, currentRate = defaultRate) {\r\n\tbody();\r\n\r\n\tif (!condition()) {\r\n\t\tdone();\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (currentRate === 0) {\r\n\t\tsetTimeout(() => debounceLoop(condition, body, done, defaultRate, defaultRate), 0);\r\n\t\treturn;\r\n\t}\r\n\r\n\tdebounceLoop(condition, body, done, defaultRate, --currentRate);\r\n}\r\n\r\nexport function syncLoop(condition, body, done) {\r\n\twhile(condition()) {\r\n\t\tbody();\r\n\t}\r\n\r\n\tdone();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/loop.js","import React from 'react';\r\nimport { createSliderFactory } from '../../../components/UIFactory';\r\nimport { GA } from '../../ga/GA';\r\nimport { arrayUtils, numberUtils } from '../../utils';\r\nimport { EnvironmentChanger } from '../common';\r\n\r\nconst render =\r\n    (state, onblur) => (\r\n        <div>\r\n            {\r\n                createSliderFactory(state, onblur)([\r\n                    { field: 'adaptationRate' },\r\n                    { field: 'adaptationPercent' },\r\n                    { field: 'maxChildren', max: 10 },\r\n                    { field: 'environmentChangeRate', max: 1000 },\r\n                    { field: 'changeWeight', min: 0, max: 1, step: 0.01 }\r\n                ])\r\n            }\r\n        </div>\r\n    );\r\n\r\nclass LamarkExecutor extends GA {\r\n    _environmentChanger = new EnvironmentChanger();\r\n    _oneEra() {\r\n        super._oneEra();\r\n        const { adaptationRate, environmentChangeRate } = this._evolution;\r\n\r\n        if (this._isOccur(adaptationRate)) {\r\n            this._adaptate();\r\n        }\r\n\r\n        if (this._isOccur(environmentChangeRate)) {\r\n            this._changeEnvironment();\r\n        }\r\n    }\r\n\r\n    _changeEnvironment() {\r\n        const { changeWeight } = this._evolution;\r\n        this._context = this._environmentChanger.createContext(this._preference, changeWeight);\r\n    }\r\n\r\n    _adaptate() {\r\n        const { adaptationPercent, maxChildren } = this._evolution;\r\n        const populationSize = this._population.length;\r\n        const adaptantsCount = Math.floor(populationSize * adaptationPercent / 100);\r\n\r\n        if (!adaptantsCount) {\r\n            return;\r\n        }\r\n\r\n        const indexes = arrayUtils.getRandomIndexes(adaptantsCount, populationSize);\r\n        const goodAdaptants = [];\r\n\r\n        indexes.forEach(index => {\r\n            const old = this._population[index];\r\n            const newOne = old.clone();\r\n            newOne.mutate();\r\n            if (newOne.fitnessValue > old.fitnessValue) {\r\n                goodAdaptants.push(newOne);\r\n                this._population[index] = newOne;\r\n            }\r\n        });\r\n\r\n        // If we have good adaptants create childrens from them\r\n        if (goodAdaptants.length >= 2) {\r\n            while (goodAdaptants.length > 1) {\r\n                let childrenCount = numberUtils.randomBetween(1, maxChildren);\r\n                const mama = goodAdaptants.pop();\r\n                const papa = goodAdaptants.pop();\r\n\r\n                while (childrenCount > 0) {\r\n                    childrenCount--;\r\n                    this._population.push(papa.crossover(mama))\r\n                }\r\n            }\r\n\r\n            this._population = this._createNewPopulation(this._population);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default {\r\n    executor: LamarkExecutor,\r\n    render,\r\n    name: 'lamark-evolution',\r\n    getInitialState: () => ({\r\n        weight: 0.5,\r\n\r\n        // Adaptation\r\n        adaptationRate: 10,\r\n        adaptationPercent: 20,\r\n        maxChildren: 4,\r\n\r\n        // Environment change\r\n        environmentChangeRate: 70,\r\n        changeWeight: 0.2\r\n    })\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/LamarkEvolution.js","import { numberUtils } from '../utils';\r\nimport { run as getCrossover } from '../crossovers/CrossoverProvider';\r\nimport { run as getMutation } from '../mutations/MutationProvider';\r\nimport { run as getFitness } from '../fitness/FitnessProvider';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport class EnvironmentChanger {\r\n    /**\r\n     * @description Change weight property of GO options by reference\r\n     */\r\n    _changeWeights(geneticOperatorOptions, fluctuateRate) {\r\n        Object\r\n            .values(geneticOperatorOptions)\r\n            .forEach(x => {\r\n                x.weight = numberUtils.fluctuate(x.weight, fluctuateRate);\r\n            });\r\n        return geneticOperatorOptions;\r\n    }\r\n\r\n    /**\r\n     * @param { { crossover: { weight: number }, mutation: { weight: number }, fitness: { weight: number } } } options\r\n     * @param {number} changeWeight - between 0 and 1\r\n     */\r\n    createContext(options, changeWeight) {\r\n        const { crossover, mutation, fitness } = options;\r\n        return {\r\n            crossover: getCrossover(this._changeWeights(crossover, changeWeight)),\r\n            mutation: getMutation(this._changeWeights(mutation, changeWeight)),\r\n            fitness: getFitness(this._changeWeights(fitness, changeWeight))\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param { { crossover: { weight: number }, mutation: { weight: number }, fitness: { weight: number } } } options\r\n     * @param {number} changeWeight - between 0 and 1\r\n     */\r\n    fluctuateOptions(options, changeWeight) {\r\n        const { crossover, mutation, fitness } = cloneDeep(options);\r\n        return {\r\n            ...options,\r\n            crossover: this._changeWeights(crossover, changeWeight),\r\n            mutation: this._changeWeights(mutation, changeWeight),\r\n            fitness: this._changeWeights(fitness, changeWeight)\r\n        };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/common.js","import React from 'react';\r\nimport { createSliderFactory, probabilitySlider } from '../../../components/UIFactory';\r\nimport { GA } from '../../ga/GA';\r\nimport { selectionUtils, arrayUtils, numberUtils } from '../../utils';\r\nimport { EnvironmentChanger } from '../common';\r\n\r\nclass VriesExecutor extends GA {\r\n    _environmentChanger = new EnvironmentChanger();\r\n\r\n    _oneEra() {\r\n        super._oneEra();\r\n        const { catastropheRate } = this._evolution;\r\n\r\n        if (this._isOccur(catastropheRate)) {\r\n            this._catastrophe();\r\n        }\r\n    }\r\n\r\n    _catastrophe() {\r\n        const { mutationCatastropheWeight, deadCatastropheWeight, environmentCatastropheWeight } = this._evolution;\r\n\r\n        const catastropheKey = this._getCatastropheKey();\r\n\r\n        switch (catastropheKey) {\r\n            case 'mutation':\r\n                this._mutationCatastrophe(mutationCatastropheWeight);\r\n                break;\r\n            case 'dead':\r\n                this._deadCatastrophe(deadCatastropheWeight);\r\n                break;\r\n            case 'environment':\r\n                this._environmentCatastrophe(environmentCatastropheWeight);\r\n                break;\r\n        }\r\n    }\r\n\r\n    _getCatastropheKey() {\r\n        const { mutationCatastropheProbability, deadCatastropheProbability, environmentCatastropheProbability } = this._evolution;\r\n        return selectionUtils.getRandomKey(\r\n            {\r\n                mutationCatastropheProbability,\r\n                deadCatastropheProbability,\r\n                environmentCatastropheProbability\r\n            }\r\n        ).replace('CatastropheProbability', '');\r\n    }\r\n\r\n    /**\r\n     * @param {number} weight - from 0 to 1\r\n     */\r\n    _mutationCatastrophe(weight) {\r\n        console.log('Mutation Catastrophe Occurs!');\r\n        if (!weight) {\r\n            return;\r\n        }\r\n\r\n        this._options.mutationProbability = numberUtils.strip(this._options.mutationProbability + weight); \r\n    }\r\n\r\n    /**\r\n     * @param {number} weight - from 0 to 1\r\n     */\r\n    _deadCatastrophe(weight) {\r\n        console.log('Dead Catastrophe Occurs!');\r\n        if (!weight) {\r\n            return;\r\n        }\r\n        const populationSize = this._population.length;\r\n        const howMuchWouldDie = Math.floor(weight * populationSize);\r\n\r\n        if (!howMuchWouldDie) {\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * @type {Array<number>}\r\n         */\r\n        const indexesToRemove = arrayUtils.getRandomIndexes(howMuchWouldDie, populationSize);\r\n        const stippedPopulation = this._population.filter((_, i) => !indexesToRemove.includes(i));\r\n        this._population =\r\n            this._createNewPopulation(stippedPopulation);\r\n    }\r\n\r\n    /**\r\n     * @param {number} weight - from 0 to 1\r\n     */\r\n    _environmentCatastrophe(weight) {\r\n        console.log('Environmental Catastrophe Occurs!');\r\n        if (!weight) {\r\n            return;\r\n        }\r\n        this._context = this._environmentChanger.createContext(this._preference, weight);\r\n    }\r\n}\r\n\r\nconst render =\r\n    (state, onblur) => (\r\n        <div>\r\n            {\r\n                createSliderFactory(state, onblur)([\r\n                    { field: 'catastropheRate', min: 0, max: 100 },\r\n                    probabilitySlider('mutationCatastropheProbability'),\r\n                    probabilitySlider('mutationCatastropheWeight'),\r\n                    probabilitySlider('deadCatastropheProbability'),\r\n                    probabilitySlider('deadCatastropheWeight'),\r\n                    probabilitySlider('environmentCatastropheProbability'),\r\n                    probabilitySlider('environmentCatastropheWeight'),\r\n                ])\r\n            }\r\n        </div>\r\n    );\r\n\r\nexport default {\r\n    render,\r\n    executor: VriesExecutor,\r\n    name: 'vries-evolution',\r\n    getInitialState: () => ({\r\n        weight: 0.5,\r\n        catastropheRate: 10,\r\n        mutationCatastropheProbability: 0.2,\r\n        mutationCatastropheWeight: 0.3,\r\n        deadCatastropheProbability: 0.2,\r\n        deadCatastropheWeight: 0.3,\r\n        environmentCatastropheProbability: 0.2,\r\n        environmentCatastropheWeight: 0.3\r\n    })\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/VriesEvolution.js","import { KimuraExecutor } from './KimuraExecutor';\r\nimport { getInitialStateFromMeta } from '../../../common/getInitialStateFromMeta';\r\nimport { getRenderFromMeta } from '../../../common/getRenderFromMeta';\r\n\r\nconst META = {\r\n    speciesCount: {\r\n        value: 2,\r\n        min: 2,\r\n        max: 10\r\n    },\r\n    speciesSeparationRate: {\r\n        value: 10,\r\n        min: 10,\r\n        max: 1000\r\n    }\r\n};\r\n\r\nexport default {\r\n    executor: KimuraExecutor,\r\n    render: getRenderFromMeta(META),\r\n    name: 'kimura-evolution',\r\n    getInitialState: getInitialStateFromMeta(META, 0.5)\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/KimuraEvolution/index.js","import clusterfck from 'clusterfck';\r\nimport { GA } from '../../../ga/GA';\r\nimport { Individual } from '../../../Individual';\r\n\r\nexport class KimuraExecutor extends GA {\r\n    /**\r\n     * @type { { speciesSeparationRate: number, speciesCount: number } }\r\n     */\r\n    _evolution;\r\n    _oneEra() {\r\n        super._oneEra();\r\n        const { speciesSeparationRate } = this._evolution;\r\n\r\n        if (this._isOccur(speciesSeparationRate)) {\r\n            this._separate();\r\n        }\r\n    }\r\n\r\n    _separate() {\r\n        const { speciesCount } = this._evolution;\r\n        \r\n        // 0. Create clusters\r\n        /**\r\n         * @type { Array<{ Array<number> }> } - array of clusters and its content Individual.content\r\n         */\r\n        const clusters = clusterfck.kmeans(this._population.map(x => x.content));\r\n        const countOfClusters = clusters.length;\r\n\r\n        if (speciesCount >= countOfClusters) {\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * NOTE: The choice of clusters can be. (TODO: Could be an option later on)\r\n         * 1. By best fitness of random individual in cluster\r\n         * 2. By best fitness in cluster\r\n         * 3. Random\r\n         * ✓ 4. By cluster size\r\n         */\r\n\r\n        // 1. Sort by size\r\n        clusters.sort((c1, c2) => c1.length - c2.length);\r\n\r\n        // 2. Grab only needed count of clusters\r\n        const clustersToUse = clusters.slice(0, speciesCount);\r\n\r\n        // 3. Flatten clusters\r\n        const gensForNewPopulation = clustersToUse.reduce((store, cluster) => [...store, ...cluster], []);\r\n\r\n        // 4. Recreate individuals from gens\r\n        const newPopulation = gensForNewPopulation.map(x => new Individual(this._reference, x, null, false, this._context));\r\n\r\n        // 5. Recreate population\r\n        this._population = this._createNewPopulation(newPopulation);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/KimuraEvolution/KimuraExecutor.js","/**\r\n * @param { { [field]: { min: number, max: number, value: number } } } meta\r\n * @param {number} weight - from 0 to 1\r\n */\r\nexport const getInitialStateFromMeta =\r\n    (meta, weight = 0.3) =>\r\n        () =>\r\n\r\n            ({\r\n                weight,\r\n                ...Object\r\n                    .entries(meta)\r\n                    .reduce((store, [key, { value }]) =>\r\n                        ({ ...store, [key]: value }), {})\r\n            });\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common/getInitialStateFromMeta.js","import React from 'react';\r\nimport { createSliderFactory } from '../../components/UIFactory';\r\n\r\nexport const getRenderFromMeta =\r\n    (meta) =>\r\n        (state, onblur) =>\r\n            (\r\n                <div>\r\n                    {\r\n                        createSliderFactory(state, onblur)(\r\n                            Object\r\n                                .entries(meta)\r\n                                .map(([field, { min, max }]) =>\r\n                                    ({\r\n                                        field,\r\n                                        min,\r\n                                        max,\r\n                                        step: max === 1 ? 0.01 : 1\r\n                                    })))\r\n                    }\r\n                </div>\r\n            );\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/common/getRenderFromMeta.js","import { PunctuatedEquilibriumExecutor } from './PunctuatedEquilibriumExecutor';\r\nimport { getInitialStateFromMeta } from '../../../common/getInitialStateFromMeta';\r\nimport { getRenderFromMeta } from '../../../common/getRenderFromMeta';\r\n\r\nconst META = {\r\n    // NOTE: not implemented for now\r\n    // environmentChangeWeight: {\r\n    //     value: 0.3,\r\n    //     min: 0,\r\n    //     max: 1\r\n    // },\r\n    // environmentChangeRate: {\r\n    //     value: 10,\r\n    //     min: 0,\r\n    //     max: 100\r\n    // },\r\n    environmentDifferenceWeight: {\r\n        value: 0.3,\r\n        min: 0,\r\n        max: 1\r\n    },\r\n    groupsCount: {\r\n        value: 4,\r\n        min: 1,\r\n        max: 25\r\n    }\r\n};\r\n\r\nexport default {\r\n    executor: PunctuatedEquilibriumExecutor,\r\n    render: getRenderFromMeta(META),\r\n    name: 'punctuated-equilibrium-evolution',\r\n    getInitialState: getInitialStateFromMeta(META, .5)\r\n};\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/PunctuatedEquilibriumEvolution/index.js","import '../../../utils/subworker';\r\nimport { SimpleGARunner } from '../../../ga/SimpleGARunner';\r\nimport { uuid } from '../../../utils';\r\nimport { run as getFitness } from '../../../fitness/FitnessProvider';\r\nimport { Individual } from '../../../Individual';\r\nimport { EnvironmentChanger } from '../../common';\r\nimport { populationSorter } from '../../../utils/populationSorter';\r\n\r\nconst DEFAULT_NOTIFY_RATE = 10;\r\n\r\nexport class PunctuatedEquilibriumExecutor {\r\n    _environmentChanger = new EnvironmentChanger();\r\n    currentIteration = 0;\r\n\r\n    /**\r\n     * @type { [uuid: string]: SimpleGARunner }\r\n     */\r\n    runners = {};\r\n\r\n    /**\r\n     * @description Hash of runner and its current iteration.\r\n     * @type { { [uuid: string]: number } }\r\n     */\r\n    iteration = {};\r\n\r\n    /**\r\n     * @type { { [uuid: string]: { { best: { content: Array<number>, fitness: { full: { [fitnessName: string]: value }, value: number } }, percentage: number } } } }\r\n     */\r\n    progressEvents = {};\r\n\r\n    /**\r\n     * @type { { [uuid: string]: { data: { content: Array<number> }[] } } }\r\n     */\r\n    pauseEvents = {};\r\n\r\n    /**\r\n     * @type { { [uuid: string]: { data: { content: Array<number> }[] } } }\r\n     */\r\n    doneEvents = {};\r\n\r\n\r\n    /**\r\n     * @type { [uuid: string]: boolean }\r\n     */\r\n    _pauseFlags = null;\r\n\r\n    /**\r\n     * @type { [uuid: string]: boolean }\r\n     */\r\n    _doneFlags = {};\r\n\r\n    _best = null;\r\n\r\n    /**\r\n     * @type {Array<number[]>}\r\n     */\r\n    _migrants = null;\r\n\r\n    _migrantsToSendToChilds = null;\r\n\r\n    _currentEra = 0;\r\n\r\n    /**\r\n     * @param {{ options: {}, evolution: { groupsCount: number, environmentChangeWeight: number, environmentChangeRate: number, environmentDifferenceWeight: number }, crossover: {}, mutation: {}, fitness: {} }} preferences\r\n     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n     */\r\n    constructor(preferences, workerOptions = {}, reference, id) {\r\n        const groupsCount = preferences.evolution.groupsCount;\r\n\r\n        this.preferences = preferences;\r\n        this.evolutionId = id;\r\n        this.workerOptions = { ...workerOptions, notifyRate: DEFAULT_NOTIFY_RATE };\r\n        this.reference = reference;\r\n\r\n        if (this.preferences.options.migrationRate % DEFAULT_NOTIFY_RATE) {\r\n            console.warn(`Migration rate (${this.preferences.options.migrationRate}) is not supported. Should int divided by notification rate (${DEFAULT_NOTIFY_RATE}).`)\r\n        }\r\n\r\n        for (let i = 0; i < groupsCount; i++) {\r\n            this._createInstance(preferences, reference);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description Called from GARunner on migration event\r\n     * @params {Array<number[]>} migrants - array of migrants of type Individual.content\r\n     */\r\n    migrate(migrants) {\r\n        if (!migrants || !migrants.length) {\r\n            return;\r\n        }\r\n        this._migrantsToSendToChilds = this._migrantsToSendToChilds || [];\r\n        this._migrantsToSendToChilds.push(...migrants);\r\n    }\r\n\r\n    stop() {\r\n        Object\r\n            .values(this.runners)\r\n            .forEach(r => {\r\n                r.stop();\r\n                r.destroy();\r\n            });\r\n        this.runners = {};\r\n        this.iteration = {};\r\n        this.progressEvents = {};\r\n        this._currentEra = 0;\r\n    }\r\n\r\n    pause() {\r\n        this._pauseFlags =\r\n            Object.keys(this.runners)\r\n                .reduce((store, key) =>\r\n                    ({\r\n                        ...store,\r\n                        [key]: false\r\n                    }), {});\r\n        Object\r\n            .values(this.runners)\r\n            .forEach(r => r.pause());\r\n\r\n    }\r\n\r\n    resume() {\r\n        Object\r\n            .values(this.runners)\r\n            .forEach(r => r.resume());\r\n    }\r\n\r\n    _oneEra() {\r\n        const { onMigration } = this.workerOptions;\r\n        this._currentEra += DEFAULT_NOTIFY_RATE;\r\n        console.log('new era', this._currentEra);\r\n\r\n        if (onMigration && this._migrants && this._currentEra % this.preferences.options.migrationRate === 0) {\r\n            console.log('migration from PunctuatedEquilibriumExecutor');\r\n            onMigration({\r\n                id: this.evolutionId,\r\n                migrants: this._migrants\r\n            });\r\n            this._migrants = null;\r\n        }\r\n    }\r\n\r\n    _createInstance(rootOptions, reference) {\r\n        const id = uuid();\r\n        const options = this._createInstanceOptions(rootOptions);\r\n\r\n        const instanceWorkerOptions = {\r\n            onDone: e => this._onInstanceDone(e, id),\r\n            onProgress: e => this._onInstanceProgress(e, id),\r\n\r\n            /**\r\n             * @param { { data: { content: Array<number> }[] } } e\r\n             */\r\n            onPause: e => this._onInstancePause(e, id)\r\n        };\r\n\r\n        const instance = new SimpleGARunner(options, instanceWorkerOptions, reference, migrants => this._onMigrationFromInstances(migrants));\r\n        this.progressEvents[id] = null;\r\n        this.iteration[id] = 0;\r\n        this.runners[id] = instance;\r\n        this._doneFlags[id] = false;\r\n    }\r\n\r\n    _onMigrationFromInstances(migrants) {\r\n        this._migrants = this._migrants || [];\r\n        this._migrants.push(...migrants);\r\n        const migrantsToSend = this._migrantsToSendToChilds;\r\n        this._migrantsToSendToChilds = null;\r\n        return migrantsToSend;\r\n    }\r\n\r\n    _onInstanceDone(e, subId) {\r\n        this.doneEvents[subId] = e;\r\n        this._doneFlags[subId] = true;\r\n\r\n        if (Object.values(this._doneFlags).some(x => !x)) {\r\n            return;\r\n        }\r\n\r\n        const event = this._getSnapshotEvent(this.doneEvents);\r\n        this.workerOptions.onDone({\r\n            id: this.evolutionId,\r\n            ...event\r\n        });\r\n        this._doneFlags = {};\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param { { best: { content: Array<number>, fitness: { full: { [fitnessName: string]: value }, value: number } }, percentage: number } } e \r\n     * @param {string} subId \r\n     */\r\n    _onInstanceProgress(e, subId) {\r\n        this.iteration[subId] += 1;\r\n        this.progressEvents[subId] = e;\r\n\r\n        if (this.currentIteration >= this._getMinIteration()) {\r\n            return;\r\n        }\r\n\r\n        this._oneEra();\r\n        this.currentIteration += 1;\r\n\r\n        const event = this._getCurrentIterationEvent();\r\n        if (!event) {\r\n            return;\r\n        }\r\n\r\n        this.workerOptions.onProgress({\r\n            ...event,\r\n            id: this.evolutionId\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @param { { data: { content: Array<number> }[] } } e\r\n     * @param {string} subId\r\n     */\r\n    _onInstancePause(e, subId) {\r\n        this.pauseEvents[subId] = e;\r\n        this._pauseFlags[subId] = true;\r\n\r\n        if (Object.values(this._pauseFlags).some(x => !x)) {\r\n            return;\r\n        }\r\n\r\n        const event = this._getSnapshotEvent(this.pauseEvents);\r\n        this.workerOptions.onPause({\r\n            id: this.evolutionId,\r\n            ...event\r\n        });\r\n        this._pauseFlags = {};\r\n    }\r\n\r\n    _getSnapshotEvent(events) {\r\n        // NOTE: population snapshot contains original reference as a first element\r\n        let original;\r\n        const raw =\r\n            Object\r\n                .values(events)\r\n                .filter(x => x)\r\n                .reduce((store, { data }) => {\r\n                    original = data.shift();\r\n                    return [...store, ...data.map(({ content }) => content)];\r\n                }, []);\r\n\r\n        const { fitness } = this.preferences;\r\n        const context = {\r\n            fitness: getFitness(fitness)\r\n        };\r\n\r\n        // 2. Recreate and sort population;\r\n        /**\r\n         * @type {Array<{ content: Array[number], fitness: { value: number } }>}\r\n         */\r\n        const individuals = populationSorter(raw.map(x => new Individual(this.reference, x, null, false, context))).map(x => x.toFullFitnessDTO());\r\n        individuals.unshift(original);\r\n\r\n        return {\r\n            data: individuals\r\n        };\r\n    }\r\n\r\n    _getCurrentIterationEvent() {\r\n        const { fitness } = this.preferences;\r\n\r\n        const context = {\r\n            fitness: getFitness(fitness)\r\n        };\r\n\r\n        /**\r\n         * @type { { best: { content: Array<number>, fitness: { full: { [fitnessName: string]: value }, value: number } }, percentage: number }[] }\r\n         */\r\n        const events = Object.values(this.progressEvents).filter(x => x);\r\n        const percentage = events.reduce((value, { percentage }) => percentage > value ? value : percentage, events[0].percentage);\r\n\r\n        // NOTE: for the end we don't wanna have two 100 points on graph so we wait for done\r\n        if (percentage === 100) {\r\n            return null;\r\n        }\r\n\r\n        const bestGuys = events\r\n            .map(event =>\r\n                new Individual(this.reference, event.best.content, null, false, context));\r\n\r\n        if (!this._best) {\r\n            this._best = bestGuys[0];\r\n        }\r\n\r\n        const best =\r\n            bestGuys.reduce((bestOne, individual) => bestOne.fitnessValue > individual.fitnessValue ? bestOne : individual, bestGuys[0]);\r\n\r\n        if (best.fitnessValue > this._best.fitnessValue) {\r\n            this._best = best;\r\n        }\r\n\r\n        return {\r\n            best: this._best.toFullFitnessDTO(),\r\n            percentage\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param {{ options: {}, evolution: { groupsCount: number, environmentChangeWeight: number, environmentChangeRate: number, environmentDifferenceWeight: number }, crossover: {}, mutation: {}, fitness: {} }} rootOptions\r\n     */\r\n    _createInstanceOptions(rootOptions) {\r\n        const { evolution: { environmentDifferenceWeight, groupsCount }, options: { count } } = rootOptions;\r\n        const oneGroupCount = Math.floor(count / groupsCount);\r\n        return {\r\n            ...this._environmentChanger.fluctuateOptions(rootOptions, environmentDifferenceWeight),\r\n            options: {\r\n                ...rootOptions.options,\r\n                count: oneGroupCount\r\n            }\r\n        };\r\n    }\r\n\r\n    _getMinIteration() {\r\n        return Math.min(...Object.values(this.iteration));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/evolution/providers/PunctuatedEquilibriumEvolution/PunctuatedEquilibriumExecutor.js","// https://github.com/dmihal/Subworkers\r\n/* eslint-disable */\r\n(function(){\r\n\r\n  /* Detect if we're in a worker or not */\r\n  var isWorker = false;\r\n  try {\r\n    document;\r\n  } catch (e){\r\n    isWorker = true;\r\n  }\r\n\r\n  if (isWorker){\r\n    if (!self.Worker){\r\n      self.Worker = function(path){\r\n        var that = this;\r\n        this.id = Math.random().toString(36).substr(2, 5);\r\n\r\n        this.eventListeners = {\r\n          \"message\": []\r\n        };\r\n        self.addEventListener(\"message\", function(e){\r\n          if (e.data._from === that.id){\r\n            var newEvent = new MessageEvent(\"message\");\r\n            newEvent.initMessageEvent(\"message\", false, false, e.data.message, that, \"\", null, []);\r\n            that.dispatchEvent(newEvent);\r\n            if (that.onmessage){\r\n              that.onmessage(newEvent);\r\n            }\r\n          }\r\n        });\r\n\r\n        var location = self.location.pathname;\r\n        var absPath = location.substring(0, location.lastIndexOf('/')) + '/' + path;\r\n        self.postMessage({\r\n          _subworker: true,\r\n          cmd: 'newWorker',\r\n          id: this.id,\r\n          path: absPath\r\n        });\r\n      };\r\n      Worker.prototype = {\r\n        onerror: null,\r\n        onmessage: null,\r\n        postMessage: function(message){\r\n          self.postMessage({\r\n            _subworker: true,\r\n            id: this.id,\r\n            cmd: 'passMessage',\r\n            message: message\r\n          });\r\n        },\r\n        terminate: function(){\r\n          self.postMessage({\r\n            _subworker: true,\r\n            cmd: 'terminate',\r\n            id: this.id\r\n          });\r\n        },\r\n        addEventListener: function(type, listener, useCapture){\r\n          if (this.eventListeners[type]){\r\n            this.eventListeners[type].push(listener);\r\n          }\r\n        },\r\n        removeEventListener: function(type, listener, useCapture){\r\n          if(!(type in this.eventListeners)) return;\r\n          var index = this.eventListeners[type].indexOf(listener);\r\n          if (index !== -1){\r\n            this.eventListeners[type].splice(index, 1);\r\n          }\r\n        },\r\n        dispatchEvent: function(event){\r\n          var listeners = this.eventListeners[event.type];\r\n          for (var i = 0; i < listeners.length; i++) {\r\n            listeners[i](event);\r\n          }\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  var allWorkers = {};\r\n  var cmds = {\r\n    newWorker: function(event){\r\n      var worker = new Worker(event.data.path);\r\n      worker.addEventListener(\"message\", function(e){\r\n        var envelope = {\r\n          _from: event.data.id,\r\n          message: e.data\r\n        }\r\n        event.target.postMessage(envelope);\r\n      });\r\n      allWorkers[event.data.id] = worker;\r\n    },\r\n    terminate: function(event){\r\n      allWorkers[event.data.id].terminate();\r\n    },\r\n    passMessage: function(event){\r\n      allWorkers[event.data.id].postMessage(event.data.message);\r\n    }\r\n  }\r\n  var messageRecieved = function(event){\r\n    if (event.data._subworker){\r\n      cmds[event.data.cmd](event);\r\n    }\r\n  };\r\n\r\n\r\n  /* Hijack Worker */\r\n  var oldWorker = Worker;\r\n  Worker = function(path){\r\n    if (this.constructor !== Worker){\r\n      throw new TypeError(\"Failed to construct 'Worker': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\r\n    }\r\n\r\n    var blobIndex = path.indexOf('blob:');\r\n    \r\n    if (blobIndex !== -1 && blobIndex !== 0 ) {\r\n      path = path.substring(blobIndex);\r\n    }\r\n\r\n    var newWorker = new oldWorker(path);\r\n    newWorker.addEventListener(\"message\", messageRecieved);\r\n\r\n    return newWorker;\r\n  };\r\n\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/subworker.js","import GAWorker from 'worker!./SimpleGAWorker.js';\r\n\r\n/**\r\n * @description TODO: merge with GARunner\r\n */\r\nexport class SimpleGARunner {\r\n    /**\r\n     * @type {Worker}\r\n     */\r\n    _worker;\r\n\r\n    /**\r\n     * @param { Object } options\r\n     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n     */\r\n    constructor(options, workerOptions, reference, onMigration) {\r\n        this.onMigration = onMigration;\r\n        this._setupDefault(options, workerOptions, reference);\r\n    }\r\n\r\n    /**\r\n     * @param { Object } options\r\n     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n     * @param {*} reference \r\n     */\r\n    _setupDefault(options, workerOptions, reference) {\r\n        this._worker = new GAWorker();\r\n        this._worker.onmessage = this._createOnMessage(workerOptions, this._worker);\r\n        this._worker.onerror = err => console.warn(err);\r\n        this._worker.postMessage({ data: { options, reference }, action: 'start' });\r\n    }\r\n\r\n    pause() {\r\n        this._worker.postMessage({ action: 'pause' });\r\n    }\r\n\r\n    resume() {\r\n        this._worker.postMessage({ action: 'resume' });\r\n    }\r\n\r\n    stop() {\r\n        this._worker.postMessage({ action: 'stop' });\r\n    }\r\n\r\n    destroy() {\r\n        this._worker.terminate();\r\n    }\r\n\r\n    /**\r\n     * @description To react on worker postMessages\r\n     */\r\n    _createOnMessage({ onDone, onProgress, onPause }, instance) {\r\n        return ({ data: { data, action } }) => {\r\n            console.log(`SimpleGARunner: onmessage from worker ${action}`);\r\n\r\n            if (action === 'done') {\r\n                const population = data.data;\r\n                onProgress({ percentage: 100, best: population[1] });\r\n                onDone(data);\r\n                return;\r\n            }\r\n\r\n            if (onProgress && action === 'progress') {\r\n                onProgress({\r\n                    percentage: data.percentage,\r\n                    best: data.best\r\n                });\r\n            }\r\n\r\n            if (onPause && action === 'pause') {\r\n                onPause(data);\r\n            }\r\n\r\n            if (action === 'migrate') {\r\n                const migrantsToSendBack = this.onMigration(data.migrants);\r\n                if (migrantsToSendBack) {\r\n                    instance.postMessage({\r\n                        action: 'migrate',\r\n                        data: { migrants: migrantsToSendBack }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/SimpleGARunner.js","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"c01b4358ef245848376a.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader!./app/plugins/GA/lib/ga/SimpleGAWorker.js\n// module id = 693\n// module chunks = 0","import MusicContext from '../MusicContext.js';\r\nimport GAWorker from 'worker!./GAWorker.js';\r\nimport { uuid, arrayUtils } from '../utils';\r\nimport { remove } from 'lodash';\r\n\r\n/**\r\n * @class Creates GA worker instance and passes options to it.\r\n * Creates everytime user pushes to \"run\" button\r\n */\r\nexport class GARunner {\r\n    workersPool = {};\r\n\r\n    /**\r\n     * @type {Array<number[]>} - an array of Individuals content\r\n     */\r\n    migrationPool = [];\r\n    _useEvolutionStrategies = false;\r\n\r\n    /**\r\n     * @type {Worker}\r\n     */\r\n    _worker;\r\n\r\n    /**\r\n     * @param { { useEvolutionStrategies: boolean } } options\r\n     * @param { { onDone: Function, onProgress: Function, onPause: Function } } workerOptions\r\n     */\r\n    constructor(options, workerOptions) {\r\n        const reference = MusicContext.getCurrentComposition();\r\n        const evolution = options.evolution;\r\n        this._useEvolutionStrategies = options.options.useEvolutionStrategies;\r\n\r\n        if (this._useEvolutionStrategies) {\r\n            this._setupEvolutions(evolution, options, workerOptions, reference);\r\n        } else {\r\n            this._setupDefault(options, workerOptions, reference);\r\n        }\r\n    }\r\n\r\n    _setupEvolutions(evolution, options, workerOptions, reference) {\r\n        // 1. Determine which evolution is used\r\n        const { migrationSize } = options.options;\r\n\r\n        const availableEvolutions =\r\n            Object\r\n                .entries(evolution)\r\n                .filter(([_, evolutionOptions]) => {\r\n                    return evolutionOptions.weight > 0;\r\n                });\r\n\r\n\r\n        const max = availableEvolutions.reduce((sum, [_, { weight }]) => sum + weight, 0);\r\n\r\n        const normalizedPopulation =\r\n            availableEvolutions.map(\r\n                ([name, evolutionOptions]) => {\r\n                    return [\r\n                        name,\r\n                        {\r\n                            ...evolutionOptions,\r\n                            size: Math.floor(migrationSize * evolutionOptions.weight / max)\r\n                        },\r\n                    ]\r\n                }\r\n            );\r\n\r\n        normalizedPopulation\r\n            .forEach(([evolutionName, evolutionOptions]) => {\r\n                const randomKey = `${evolutionName}_${uuid()}`;\r\n                const worker = this.workersPool[randomKey] = new GAWorker();\r\n                worker.onmessage = this._createOnMessageForEvolution(workerOptions, evolutionOptions, worker, evolutionName);\r\n                worker.onerror = err => console.warn(err);\r\n\r\n                worker.postMessage({\r\n                    data: {\r\n                        options: {\r\n                            ...options,\r\n                            // NOTE: Change population size according to weight \r\n                            count: evolutionOptions.size\r\n                        },\r\n                        reference,\r\n                        id: randomKey,\r\n                        evolutionName\r\n                    },\r\n                    action: 'start'\r\n                });\r\n            });\r\n    }\r\n\r\n    _setupDefault(options, workerOptions, reference) {\r\n        this._worker = new GAWorker();\r\n        this._worker.onmessage = this._createOnMessage(workerOptions);\r\n        this._worker.onerror = err => console.warn(err);\r\n        this._worker.postMessage({ data: { options, reference }, action: 'start' });\r\n    }\r\n\r\n    pause() {\r\n        if (this._useEvolutionStrategies) {\r\n            // TODO: do i need id to pass to pause?\r\n            Object.values(this.workersPool).forEach(w => w.postMessage({ action: 'pause' }));\r\n        } else {\r\n            this._worker.postMessage({ action: 'pause' });\r\n        }\r\n    }\r\n\r\n    resume() {\r\n        if (this._useEvolutionStrategies) {\r\n            // TODO: do i need id to pass to resume?\r\n            Object.values(this.workersPool).forEach(w => w.postMessage({ action: 'resume' }));\r\n        } else {\r\n            this._worker.postMessage({ action: 'resume' });\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        if (this._useEvolutionStrategies) {\r\n            // TODO: do i need id to pass to stop?\r\n            Object.values(this.workersPool).forEach(w => w.postMessage({ action: 'stop' }));\r\n        } else {\r\n            this._worker.postMessage({ action: 'stop' });\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (this._useEvolutionStrategies) {\r\n            Object.values(this.workersPool).forEach(w => w.terminate());\r\n            this.workersPool = {};\r\n        } else {\r\n            this._worker.terminate();\r\n        }\r\n    }\r\n\r\n    _createOnMessageForEvolution({ onDone, onProgress, onPause }, evolutionOptions, instance, evolutionName) {\r\n        return ({ data: { data, action } }) => {\r\n            console.log(`Evolutions: onmessage from worker ${evolutionName}, ${action}`);\r\n\r\n            if (action === 'done') {\r\n                const population = data.data;\r\n                onProgress({\r\n                    id: data.id,\r\n                    percentage: 100,\r\n                    best: population[1]\r\n                });\r\n                onDone(data);\r\n                return;\r\n            }\r\n\r\n            if (onProgress && action === 'progress') {\r\n                onProgress({\r\n                    id: data.id,\r\n                    percentage: data.percentage,\r\n                    best: data.best\r\n                });\r\n            }\r\n\r\n            if (onPause && action === 'pause') {\r\n                onPause(data);\r\n            }\r\n\r\n            if (action === 'migrate') {\r\n                const { migrants, id } = data;\r\n\r\n                // Send migrants back\r\n                const migrantsToSend = this._getMigrants(migrants.length);\r\n                if (migrantsToSend) {\r\n                    instance.postMessage({\r\n                        action: 'migrate',\r\n                        data: { migrants: migrantsToSend }\r\n                    });\r\n                }\r\n\r\n                // Store received migrants\r\n                this.migrationPool.push(...migrants);\r\n            }\r\n        };\r\n    }\r\n\r\n    _createOnMessage({ onDone, onProgress, onPause }) {\r\n        return ({ data: { data, action } }) => {\r\n            console.log(`onmessage from worker ${action}`);\r\n\r\n            if (action === 'done') {\r\n                const population = data.data;\r\n                onProgress({ percentage: 100, best: population[1] });\r\n                onDone(data);\r\n                return;\r\n            }\r\n\r\n            if (onProgress && action === 'progress') {\r\n                onProgress({\r\n                    percentage: data.percentage,\r\n                    best: data.best\r\n                });\r\n            }\r\n\r\n            if (onPause && action === 'pause') {\r\n                onPause(data);\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @description Grab random migrants from pool.\r\n     * NOTE! it could even be previous migrants from this exact evolution\r\n     * @param {number} count \r\n     */\r\n    _getMigrants(count) {\r\n        console.log(this.migrationPool.length);\r\n        const indexes = arrayUtils.getRandomIndexes(count, this.migrationPool.length);\r\n        const result = indexes.map(i => this.migrationPool[i]);\r\n        remove(this.migrationPool, (_, index) => indexes.includes(index));\r\n        console.log(this.migrationPool.length);\r\n        return result;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/ga/GARunner.js","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"7325311df0010cbd8d08.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader!./app/plugins/GA/lib/ga/GAWorker.js\n// module id = 695\n// module chunks = 0","import React from 'react';\r\nimport { Table, Button, ButtonGroup } from 'react-bootstrap';\r\nimport Player from '../../../players/soundfont-player/Player.js';\r\n\r\nexport class IndividualsTable extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\t\tthis.state = {\r\n\t\t\tselectedIndex: -1\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"individuals-table-wrapper\">\r\n\t\t\t\t<h4>Population {this.props.name}:</h4>\r\n\t\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Fitness</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{this._renderPopulation()}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderItem( item, index ) {\r\n\t\tconst selected = this.state.selectedIndex === index;\r\n\t\tconst classes = selected ? 'highlight' : '';\r\n\t\tconst fitnessFrag = selected ? this.renderFitnessInfo(item) : item.fitness.value.toFixed(3); \r\n\r\n\t\treturn (\r\n\t\t\t<tr className={classes} key={index} onClick={this.onSelect.bind(this, item, index)}>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t\t<Button bsStyle=\"info\" onClick={this.play.bind(this, item.content)}>\r\n\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-play\"></span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button bsStyle=\"info\" onClick={this.stop}>\r\n\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-stop\"></span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>{'name' + index}</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{fitnessFrag}\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t);\r\n\t}\r\n\r\n\t_renderPopulation() {\r\n\t\treturn this.props.population.map((x, i) => this.renderItem(x, i));\r\n\t}\r\n\r\n\trenderFitnessInfoItems(items) {\r\n\t\treturn items.map(({ key, value, className }) => (\r\n\t\t\t<tr key={key} className={className}>\r\n\t\t\t\t<td>{key}</td>\r\n\t\t\t\t<td>{value.toFixed(3)}</td>\r\n\t\t\t</tr>\r\n\t\t));\r\n\t}\r\n\r\n\trenderFitnessInfo(item) {\r\n\t\tconst fitness =\r\n\t \t\tthis.renderFitnessInfoItems(\r\n\t\t\t\t([\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tkey: 'total',\r\n\t\t\t\t\t\tclassName: 'total',\r\n\t\t\t\t\t\tvalue: item.fitness.value\r\n\t\t\t\t\t}\r\n\t\t\t\t])\r\n\t\t\t\t.concat(\r\n\t\t\t\t\tObject\r\n\t\t\t\t\t\t.keys(item.fitness.full)\r\n\t\t\t\t\t\t.map(key => ({ key, value: item.fitness.full[key] }))\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\treturn (\r\n\t\t\t<Table condensed style={{ marginBottom: 0 }}>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{fitness}\r\n\t\t\t\t</tbody>\r\n\t\t\t</Table>\r\n\t\t);\r\n\t}\r\n\r\n\tplay(content) {\r\n\t\tPlayer.play(content);\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tPlayer.stop();\r\n\t};\r\n\r\n\tonSelect(item, index) {\r\n\t\tthis.setState({\r\n\t\t\tselectedIndex: index\r\n\t\t});\r\n\t\tthis.props.onSelect(item);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/IndividualsTable.jsx","import React from 'react';\r\nimport ABCJS from 'ABCJS';\r\nimport convertToABC from '../lib/utils/convertToABC';\r\n\r\nexport default class Sheet extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\t\tthis._element = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t    this._element = this.refs.abcjs;\r\n\t\tif ( this.props.data ) {\r\n\t\t\tthis._initializeWidget(this.props.data);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif ( !nextProps.data ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._initializeWidget(nextProps.data);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div ref=\"abcjs\"></div>;\r\n\t}\r\n\r\n\t_initializeWidget(data) {\r\n\t\tABCJS.renderAbc(this._element, convertToABC(data), null, {\r\n\t\t\tscale: 1\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/Sheet.jsx","module.exports = ABCJS;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ABCJS\"\n// module id = 698\n// module chunks = 0","/*\r\n!assumptations \r\n1/8 as a default length\r\nc maj as a default key\r\n*/\r\nconst NEW_LINE = '\\n';\r\n\r\nconst defaultHeader = `\r\nX:1\r\nT:Abc\r\nM:4/4\r\nC:GA\r\nK:C\r\nL:1/8\r\n`;\r\n\r\nconst referenceTable = {\r\n\t0: 'z',\r\n\t1: 'C',\r\n\t2: 'D',\r\n\t3: 'E',\r\n\t4: 'F',\r\n\t5: 'G',\r\n\t6: 'A',\r\n\t7: 'B',\r\n\t8: 'c',\r\n\t9: 'd',\r\n\t10: 'e',\r\n\t11: 'f',\r\n\t12: 'g',\r\n\t13: 'a',\r\n\t14: 'b'\r\n}; \r\n\r\nfunction createNote( noteIndex, size ) {\r\n\tif ( noteIndex == null ) {\r\n\t\treturn '';\r\n\t}\r\n\treturn referenceTable[noteIndex] + size;\r\n}\r\n\r\nexport default function convertToABC( source ) {\r\n\tlet answer = defaultHeader;\r\n\t\r\n\tlet previousNote = null;\r\n\tlet size = 1;\r\n\t\r\n\tfor ( let i = 0, l = source.length; i < l; i++ ) {\r\n\t\tlet item = source[i];\r\n\t\t\r\n\t\tif ( item === -1 ) {\r\n\t\t\tsize++;\r\n\t\t} else {\r\n\t\t\tanswer += createNote(previousNote, size);\r\n\t\t\tpreviousNote = item;\r\n\t\t\tsize = 1;\r\n\t\t}\r\n\t\t\r\n\t\t//last note\r\n\t\tif ( i === source.length - 1 ) {\r\n\t\t\tanswer += createNote(previousNote, size);\r\n\t\t}\r\n\t\t\r\n\t\tif ( i && i % 8 === 0 ) {\r\n\t\t\tanswer += '|';\r\n\t\t}\r\n\r\n\t\tif ( i && i % 32 === 0 ) {\r\n\t\t\tanswer += NEW_LINE;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn answer;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/lib/utils/convertToABC.js","// 3d Party\r\nimport React from 'react';\r\nimport { Link } from 'react-router';\r\nimport { FormControl, Button, ButtonGroup, Grid, Table, Glyphicon } from 'react-bootstrap';\r\n\r\n// Plugin\r\nimport MusicContext from '../lib/MusicContext.js';\r\n\r\nconst DEFAULT = 'default';\r\n\r\nexport default class Compositions extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\t\tthis.state = {\r\n\t\t\tcompositions: MusicContext.getAllCompositions(),\r\n\t\t\tnameRaw: '',\r\n\t\t\tname: '',\r\n\t\t\tcurrentKey: MusicContext.getCurrentKey()\r\n\t\t};\r\n\t}\r\n\tonNameChange(e) {\r\n\t\tconst nameRaw = e.target.value;\r\n\t\tthis.setState({ nameRaw });\r\n\t\tthis.setState({ name: '' });\r\n\r\n\t\tif ( MusicContext.isValidName(nameRaw) ) {\r\n\t\t\tthis.setState({ name: nameRaw });\r\n\t\t}\r\n\t}\r\n\tremove(item) {\r\n\t\tMusicContext.remove(item);\r\n\t\tthis.setState({\r\n\t\t\tcompositions: MusicContext.getAllCompositions()\r\n\t\t});\r\n\t}\r\n\tselect = (item) => {\r\n\t\tMusicContext.selectComposition(item);\r\n\t\tthis.setState({\r\n\t\t\tcurrentKey: item\r\n\t\t});\r\n\t};\r\n\trenderCompositionItem(item) {\r\n\t\treturn (\r\n\t\t\t<tr key={item} className={item === this.state.currentKey ? 'selected' : ''}>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<Link to={`/compositions/${item}`}>\r\n\t\t\t\t\t\t{item}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem !== DEFAULT ? \r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t\t\t\t<Button bsStyle=\"info\" onClick={() => this.select(item)}>\r\n\t\t\t\t\t\t\t\t\t<Glyphicon glyph=\"ok-sign\" />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button bsStyle=\"danger\" onClick={this.remove.bind(this, item)}>\r\n\t\t\t\t\t\t\t\t\t<Glyphicon glyph=\"remove\" />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t) : \r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<Button bsStyle=\"info\" onClick={() => this.select(item)}>\r\n\t\t\t\t\t\t\t\t<Glyphicon glyph=\"ok-sign\" />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Grid fluid>\r\n\t\t\t\t<h2>Compositions</h2>\r\n\t\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{this.state.compositions.map(this.renderCompositionItem.bind(this))}\t\t\t\t\t\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<h2>New</h2>\r\n\t\t\t\t<FormControl type=\"text\" label=\"Name\" onChange={this.onNameChange.bind(this)} value={this.state.nameRaw} />\r\n\t\t \t\t<Link to={`/compositions/${this.state.name}`} >\r\n\t\t\t\t \t<Button bsStyle=\"info\" disabled={!this.state.name}>\r\n\t\t\t \t\t\tNew\r\n\t\t\t \t\t</Button>\r\n\t\t \t\t</Link>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/Compositions.jsx","// 3d Party\r\nimport React from 'react';\r\nimport { FormControl, Button, Grid, Col, Row } from 'react-bootstrap';\r\n\r\n// Framework\r\nimport Player from '../../../players/soundfont-player/Player.js';\r\n\r\n// Plugin\r\nimport MusicContext, { availableValuesInGF } from '../lib/MusicContext.js';\r\n\r\n// Local\r\nimport Sheet from './Sheet.jsx';\r\n\r\nconst DEFAULT = 'default';\r\n\r\nexport default class Composition extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\r\n\t\tconst composition = MusicContext.getByKey(this.props.params.composition) || null;\r\n\r\n\t\tthis.state = {\r\n\t\t\tcompositionRaw: composition ? this.compositionToString(composition) : '',\r\n\t\t\tcomposition,\r\n\t\t\tinvalidName: true,\r\n\t\t\tinvalidComposition: false,\r\n\t\t\tisDefault: (this.props.params.composition === DEFAULT)\r\n\t\t};\r\n\t}\r\n\r\n\t_convert( raw ) {\r\n\t\tlet rawArray = raw.split(' ');\r\n\r\n\t\trawArray = rawArray.map(item => Number(item));\r\n\r\n\t\tif ( \r\n\t\t\trawArray.some(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tisNaN(item) ||\r\n\t\t\t \t\t(availableValuesInGF.indexOf(item) === -1)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn rawArray;\r\n\t}\r\n\r\n\tcompositionToString(array) {\r\n\t\treturn array && array.join(' ') || '';\r\n\t}\r\n\r\n\tsave() {\r\n\t\tconst composition = this.state.composition;\r\n\t\tconst name = this.props.params.composition;\r\n\t\tMusicContext.save(name, composition);\r\n\t}\r\n\r\n\tonChange(e) {\r\n\t\tconst composition = e.target.value;\r\n\t\tconst converted = this._convert(e.target.value);\r\n\r\n\t\tthis.setState({\r\n\t\t\tcompositionRaw: composition\r\n\t\t});\r\n\r\n\t\tif ( converted ) {\r\n\t\t\tPlayer.set(converted);\r\n\t\t\tthis.setState({\r\n\t\t\t\tcomposition: converted,\r\n\t\t\t\tinvalidComposition: false\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tinvalidComposition: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst compositionKey = this.props.params.composition;\r\n\r\n\t\treturn (\r\n\t\t\t<Grid fluid>\r\n\t\t\t\t<h3>{compositionKey}</h3>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm={4} md={4}>\r\n\t\t\t\t\t \t<FormControl componentClass=\"textarea\" style={{ height: 230 }} label=\"Notes\" onChange={this.onChange.bind(this)} value={this.state.compositionRaw} />\r\n\t\t\t\t \t\t<Button disabled={this.state.isDefault || this.state.invalidComposition} bsStyle=\"success\" onClick={this.save.bind(this)}>Save</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm={4} md={4}>\r\n\t\t\t\t\t\t<Sheet data={this.state.composition} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\t\t\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/components/Composition.jsx","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Router, hashHistory } from 'react-router';\r\nimport routes from '../routes';\r\n\r\nexport const Root = ({ store }) => (\r\n    <Provider store={store}>\r\n        <Router history={hashHistory} routes={routes} />\r\n    </Provider>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/containers/root.jsx","import { createStore } from 'redux';\r\nimport rootReducer from '../reducers';\r\n\r\nexport function configureStore(initialState) {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\tinitialState\r\n\t);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/store/configureStore.js","import { combineReducers } from 'redux';\r\nimport GA from '../plugins/GA/reducers';\r\nexport default combineReducers({ GA });\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/reducers/index.js","import { combineReducers } from 'redux';\r\nimport { createPluginsReducer } from '../utils';\r\nimport initialState from '../../../store/initialState';\r\n\r\nconst crossover = createPluginsReducer('crossover', initialState.GA);\r\nconst mutation = createPluginsReducer('mutation', initialState.GA);\r\nconst options = createPluginsReducer('options', initialState.GA);\r\nconst fitness = createPluginsReducer('fitness', initialState.GA);\r\nconst evolution = createPluginsReducer('evolution', initialState.GA);\r\n\r\nexport default combineReducers({\r\n\tcrossover,\r\n\tmutation,\r\n\tfitness,\r\n\toptions,\r\n\tevolution\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/reducers/index.js","import {merge} from 'lodash';\r\nimport {OPTIONS_CHANGE_ACTION} from './actions/index';\r\n\r\nexport function createDeepProperty({ optionsPath, value }) {\r\n\tconst obj = {};\r\n\tconst stopIndex = optionsPath.length - 1;\r\n\treturn optionsPath.reduce((prev, current, currentIndex) => {\r\n\t\tif (currentIndex === stopIndex) {\r\n\t\t\tprev[current] = value;\r\n\t\t\treturn obj;\r\n\t\t}\r\n\t\treturn prev[current] = {};\r\n\t}, obj);\r\n}\r\n\r\nexport function createPluginsReducer(namespace, fullState) {\r\n\tconst initialState = fullState[namespace];\r\n\treturn (state = initialState, action) => {\r\n\t\tswitch (action.type) {\r\n\t\t\tcase OPTIONS_CHANGE_ACTION: {\r\n\t\t\t\tif (action.optionsPath[0] !== namespace) {\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t} \r\n\t\t\t\t// NOTE: remove namespace from path;\r\n\t\t\t\tconst [, ...optionsPath] = action.optionsPath;\r\n\t\t\t\tconst newFragment = createDeepProperty({ optionsPath, value: action.value });\r\n\r\n\t\t\t\treturn merge({...state}, newFragment);\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\treturn state;\r\n\t\t}\r\n\t};\r\n}\n\n\n// WEBPACK FOOTER //\n// ./D:/Repos/university/my-composer/app/plugins/GA/utils.js"],"sourceRoot":""}