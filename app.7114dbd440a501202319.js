webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&v.storage.get(c.VERSION_KEY)===c.APP_VERSION?e:(v.storage.set(c.VERSION_KEY,c.APP_VERSION),t)}n(1),n(26),n(30),n(32);var a=n(33),u=r(a),i=n(60),l=n(198);n(200);var c=n(534),s=n(680),f=n(704),d=r(f),p=n(614),h=r(p),v=n(536),y=(0,d.default)(o(v.storage.get(c.STATE_KEY),h.default));y.subscribe((0,l.throttle)(function(){return v.storage.set(c.STATE_KEY,y.getState())},1e3)),(0,i.render)(u.default.createElement(s.Root,{store:y}),document.getElementById("root"))},26:function(e,t){},30:function(e,t){},32:function(e,t){"use strict";Object.values=function(e){return Object.keys(e).reduce(function(t,n){return t.push(e[n])&&t},[])},Object.entries=function(e){return Object.keys(e).reduce(function(t,n){return t.push([n,e[n]])&&t},[])},Array.prototype.includes||(Array.prototype.includes=function(e){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var r,o=parseInt(arguments[1],10)||0;o>=0?r=o:(r=n+o,r<0&&(r=0));for(var a;r<n;){if(a=t[r],e===a||e!==e&&a!==a)return!0;r++}return!1})},200:function(e,t,n){"use strict";n(201)},201:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(202),a=r(o),u=n(542),i=r(u),l=n(678),c=r(l),s=n(679),f=r(s);a.default.register({path:"/",component:i.default,title:"Genetic Algorithms (reference)"}),a.default.register({path:"/compositions",component:c.default,title:"Manage compositions"}),a.default.register({path:"/compositions/:composition",component:f.default,title:"Manage compositions",useNav:!1})},202:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(203),i=r(u),l=n(205),c=r(l),s=function(){function e(){o(this,e)}return a(e,[{key:"register",value:function(e){var t=e.path,n=e.component,r=e.title,o=e.useNav,a=void 0===o||o;a&&c.default.push({path:t,title:r}),i.default.childRoutes.push({path:t,component:n})}}]),e}();t.default=new s},203:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(204),a=r(o),u={path:"/ga",component:a.default,childRoutes:[]};t.default=u},204:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(205),f=r(s),d=n(206),p=n(459),h=r(p),v=n(537),y=r(v),_=n(541),m=r(_),b=n(542),g=r(b),O=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(h.default,null),c.default.createElement(d.Grid,{fluid:!0},c.default.createElement(d.Row,null,c.default.createElement(y.default,{nav:f.default}),c.default.createElement(m.default,null,this.props.children||c.default.createElement(g.default,null)))))}}]),t}(c.default.Component);t.default=O},205:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[];t.default=n},459:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(460),f=r(s),d=n(206),p=n(479),h=n(534),v=n(535),y=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onResetState=function(){return(0,v.resetState)()},u=n,a(r,u)}return u(t,e),i(t,[{key:"render",value:function(){return c.default.createElement(d.Navbar,{inverse:!0,fixedTop:!0},c.default.createElement(d.NavbarBrand,null,c.default.createElement(p.Link,{to:"#/"},"GENOM ",h.APP_VERSION||"")),c.default.createElement(f.default,null),c.default.createElement(d.Button,{style:{marginTop:6},onClick:this.onResetState},"Reset state"))}}]),t}(c.default.Component);t.default=y},460:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(461),f=r(s),d=n(206),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f.default.onSet(function(e){n.setState({enabled:Boolean(e)})}),n.state={enabled:!1},n}return u(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("form",{className:"navbar-form navbar-left"},c.default.createElement(d.ButtonGroup,null,c.default.createElement(d.Button,{disabled:!this.state.enabled,onClick:this.play.bind(this)},c.default.createElement("span",{className:"glyphicon glyphicon-play"})),c.default.createElement(d.Button,{disabled:!this.state.enabled,onClick:this.stop.bind(this)},c.default.createElement("span",{className:"glyphicon glyphicon-stop"}))))}},{key:"play",value:function(){f.default.play()}},{key:"stop",value:function(){f.default.stop()}}]),t}(c.default.Component);t.default=p},461:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e===-1}function u(e){return 0===e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MusyngKite",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mp3",r=window.location.protocol;return r+"//gleitz.github.io/midi-js-soundfonts/"+t+"/"+e+"-"+n+".js"}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(462),s=r(c),f=n(477),d=r(f),p=n(478);window.AudioContext=window.AudioContext||window.webkitAudioContext;var h=.2,v=function(){function e(){o(this,e)}return l(e,null,[{key:"convert",value:function(e){var t=[];return e.forEach(function(e){return a(e)&&t.length?void(t[t.length-1].duration+=h):u(e)?void t.push({note:null,duration:h}):void t.push({note:p.REFERENCE_TABLE[e],duration:h})}),t}}]),e}(),y=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.acoustic_grand_piano;o(this,e),this._callbacks=[],this._ctx=new window.AudioContext,this._notes=[],this._prevNotes=[],this._timeout=null,this._instrument=null,this._isPlaying=!1,s.default.instrument(this._ctx,n,{nameToUrl:i}).then(function(e){return t._instrument=e})}return l(e,[{key:"set",value:function(e){this._notes=v.convert(e),this._prevNotes=this._notes.slice(),this._runCallbacks(e)}},{key:"_runCallbacks",value:function(e){this._callbacks.length&&this._callbacks.forEach(function(t){t(e)})}},{key:"onSet",value:function(e){this._callbacks.push(e)}},{key:"offSet",value:function(){this._callbacks=[]}},{key:"play",value:function(e){e&&this.set(e),this._instrument?this._playInternal():console.warn("Instruments not loaded yet")}},{key:"clear",value:function(){this._notes=[],this._prevNotes=[],this._runCallbacks(null)}},{key:"_playInternal",value:function(){this._isPlaying=!0,this._notes=this._prevNotes.slice(),this._playTick()}},{key:"_playTick",value:function(){var e=this,t=this._notes.shift();if(!t||!this._isPlaying)return void this._clear();var n=t.note,r=t.duration;this._instrument.play(n,this._ctx.currentTime),this._timeout=setTimeout(function(){return e._playTick()},1e3*r)}},{key:"_clear",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"stop",value:function(){this._isPlaying=!1}}]),e}();t.default=new y},477:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={accordion:"accordion",acoustic_bass:"acoustic_bass",acoustic_grand_piano:"acoustic_grand_piano",acoustic_guitar_nylon:"acoustic_guitar_nylon",acoustic_guitar_steel:"acoustic_guitar_steel",agogo:"agogo",alto_sax:"alto_sax",applause:"applause",bagpipe:"bagpipe",banjo:"banjo",baritone_sax:"baritone_sax",bassoon:"bassoon",bird_tweet:"bird_tweet",blown_bottle:"blown_bottle",brass_section:"brass_section",breath_noise:"breath_noise",bright_acoustic_piano:"bright_acoustic_piano",celesta:"celesta",cello:"cello",choir_aahs:"choir_aahs",church_organ:"church_organ",clarinet:"clarinet",clavinet:"clavinet",contrabass:"contrabass",distortion_guitar:"distortion_guitar",drawbar_organ:"drawbar_organ",dulcimer:"dulcimer",electric_bass_finger:"electric_bass_finger",electric_bass_pick:"electric_bass_pick",electric_grand_piano:"electric_grand_piano",electric_guitar_clean:"electric_guitar_clean",electric_guitar_jazz:"electric_guitar_jazz",electric_guitar_muted:"electric_guitar_muted",electric_piano_1:"electric_piano_1",electric_piano_2:"electric_piano_2",english_horn:"english_horn",fiddle:"fiddle",flute:"flute",french_horn:"french_horn",fretless_bass:"fretless_bass",fx_1_rain:"fx_1_rain",fx_2_soundtrack:"fx_2_soundtrack",fx_3_crystal:"fx_3_crystal",fx_4_atmosphere:"fx_4_atmosphere",fx_5_brightness:"fx_5_brightness",fx_6_goblins:"fx_6_goblins",fx_7_echoes:"fx_7_echoes",fx_8_scifi:"fx_8_scifi",glockenspiel:"glockenspiel",guitar_fret_noise:"guitar_fret_noise",guitar_harmonics:"guitar_harmonics",gunshot:"gunshot",harmonica:"harmonica",harpsichord:"harpsichord",helicopter:"helicopter",honkytonk_piano:"honkytonk_piano",kalimba:"kalimba",koto:"koto",lead_1_square:"lead_1_square",lead_2_sawtooth:"lead_2_sawtooth",lead_3_calliope:"lead_3_calliope",lead_4_chiff:"lead_4_chiff",lead_5_charang:"lead_5_charang",lead_6_voice:"lead_6_voice",lead_7_fifths:"lead_7_fifths",lead_8_bass__lead:"lead_8_bass__lead",marimba:"marimba",melodic_tom:"melodic_tom",music_box:"music_box",muted_trumpet:"muted_trumpet",oboe:"oboe",ocarina:"ocarina",orchestra_hit:"orchestra_hit",orchestral_harp:"orchestral_harp",overdriven_guitar:"overdriven_guitar",pad_1_new_age:"pad_1_new_age",pad_2_warm:"pad_2_warm",pad_3_polysynth:"pad_3_polysynth",pad_4_choir:"pad_4_choir",pad_5_bowed:"pad_5_bowed",pad_6_metallic:"pad_6_metallic",pad_7_halo:"pad_7_halo",pad_8_sweep:"pad_8_sweep",pan_flute:"pan_flute",percussive_organ:"percussive_organ",piccolo:"piccolo",pizzicato_strings:"pizzicato_strings",recorder:"recorder",reed_organ:"reed_organ",reverse_cymbal:"reverse_cymbal",rock_organ:"rock_organ",seashore:"seashore",shakuhachi:"shakuhachi",shamisen:"shamisen",shanai:"shanai",sitar:"sitar",slap_bass_1:"slap_bass_1",slap_bass_2:"slap_bass_2",soprano_sax:"soprano_sax",steel_drums:"steel_drums",string_ensemble_1:"string_ensemble_1",string_ensemble_2:"string_ensemble_2",synth_bass_1:"synth_bass_1",synth_bass_2:"synth_bass_2",synth_brass_1:"synth_brass_1",synth_brass_2:"synth_brass_2",synth_choir:"synth_choir",synth_drum:"synth_drum",synth_strings_1:"synth_strings_1",synth_strings_2:"synth_strings_2",taiko_drum:"taiko_drum",tango_accordion:"tango_accordion",telephone_ring:"telephone_ring",tenor_sax:"tenor_sax",timpani:"timpani",tinkle_bell:"tinkle_bell",tremolo_strings:"tremolo_strings",trombone:"trombone",trumpet:"trumpet",tuba:"tuba",tubular_bells:"tubular_bells",vibraphone:"vibraphone",viola:"viola",violin:"violin",voice_oohs:"voice_oohs",whistle:"whistle",woodblock:"woodblock",xylophone:"xylophone"};t.default=n},478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REFERENCE_TABLE={1:"C3",2:"D3",3:"E3",4:"F3",5:"G3",6:"A3",7:"B3",8:"C4",9:"D4",10:"E4",11:"F4",12:"G4",13:"A4",14:"B4"}},534:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APP_VERSION="0.0.2",t.STATE_KEY="__APP_STATE__",t.VERSION_KEY="__APP_VERSION__"},535:function(e,t,n){"use strict";function r(){o.storage.remove(a.VERSION_KEY),o.storage.remove(a.STATE_KEY),location.reload()}Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=r;var o=n(536),a=n(534)},536:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.storage={get:function(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){return}},set:function(e,t){try{return localStorage.setItem(e,JSON.stringify(t))}catch(e){return}},remove:function(e){try{return localStorage.removeItem(e)}catch(e){return}}}},537:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(206),f=n(538),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){var e=this.props.nav.map(function(e){return c.default.createElement(f.LinkContainer,{key:e.path,to:e.path},c.default.createElement(s.NavItem,null,e.title))});return c.default.createElement(s.Col,{sm:3,md:2,className:"sidebar"},c.default.createElement(s.Nav,{className:"nav-sidebar"},e))}}]),t}(c.default.Component);t.default=d},541:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(206),f=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){return c.default.createElement(s.Col,{sm:9,md:10,mdOffset:2,smOffset:3,className:"main"},this.props.children)}}]),t}(c.default.Component);t.default=f},542:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(543);var c=n(33),s=r(c),f=n(206),d=n(545),p=r(d),h=n(547),v=n(461),y=r(v),_=n(603),m=r(_),b=n(672),g=r(b),O=n(674),w=r(O),E=n(677),k=r(E),j={working:!1,paused:!1,selected:null,population:[],statistics:[],percentage:0,best:null},S=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.containerWidth,r=e.containerHeight;if(!t||!t.length)return null;var o=n-40,a={x:0,y:0,width:o,height:o/2};return console.log("hes",n,r),s.default.createElement(f.Panel,{header:"Graph"},s.default.createElement(h.LineChart,{legend:!1,data:[{values:t,strokeWidth:3,strokeDashArray:"5,5"}],width:a.width,height:a.height,viewBoxObject:a,yAxisLabel:"Best",xAxisLabel:"Elapsed Iteration",gridHorizontal:!0}))}}]),t}(s.default.Component),P=(0,p.default)()(S),C=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.runner=null;var u=n.store.getState();return r.state=Object.assign({},j,{crossover:u.GA.crossover,mutation:u.GA.mutation,options:u.GA.options}),r}return u(t,e),l(t,[{key:"select",value:function(e){y.default.set(e.content),this.setState({selected:e.content})}},{key:"run",value:function(){var e=this;this.setState(i({},j,{statistics:[{x:0,y:0}],working:!0})),this.runner&&this.runner.destroy();var t=function(t){return e.setState({population:t,working:!1,paused:!1})},n=function(t){return e.setState({population:t})},r=function(t){var n=t.percentage,r=t.best,o=e.state.statistics;o.push({x:n,y:100*r.fitness.value}),e.setState({best:r,percentage:n,statistics:o})},o=this.context.store.getState().GA;this.runner=new g.default(o,t,r,n)}},{key:"resume",value:function(){this.setState({paused:!1}),this.runner&&this.runner.resume()}},{key:"pause",value:function(){this.setState({paused:!0}),this.runner&&this.runner.pause()}},{key:"stop",value:function(){this.runner&&this.runner.stop()}},{key:"render",value:function(){var e=this.context.store,t=this.state,n=t.paused,r=t.working,o=null,a=null,u=null,i=null;if(this.state.population.length&&(i=s.default.createElement(k.default,{population:this.state.population,onSelect:this.select.bind(this)})),this.state.selected&&(o=s.default.createElement(f.Panel,{header:"Scores"},s.default.createElement(w.default,{data:this.state.selected}))),this.state.percentage){var l=0|this.state.percentage;a=s.default.createElement("div",{className:"progress-bar-wrapper"},s.default.createElement("h3",null,"Progress: "),s.default.createElement(f.ProgressBar,{now:l,label:l+"%"}))}if(this.state.best){var c=100*this.state.best.fitness.value|0;u=s.default.createElement("div",{className:"progress-bar-wrapper"},s.default.createElement("h3",null,"Best: "),s.default.createElement(f.ProgressBar,{bsStyle:"success",now:c,label:c+"%",key:"1"}))}return s.default.createElement(f.Grid,{fluid:!0},s.default.createElement(f.Row,null,s.default.createElement(f.Col,{sm:8,md:8},this.state.statistics.length?s.default.createElement(P,{data:this.state.statistics}):null,o,s.default.createElement(m.default,{store:e})),s.default.createElement(f.Col,{sm:4,md:4},s.default.createElement(f.Panel,{header:"Population"},s.default.createElement(f.ButtonGroup,null,r?n?s.default.createElement(f.Button,{bsStyle:"success",onClick:this.resume.bind(this)},s.default.createElement("span",{className:"glyphicon glyphicon-play"})):s.default.createElement(f.Button,{bsStyle:"warning",onClick:this.pause.bind(this)},s.default.createElement("span",{className:"glyphicon glyphicon-pause"})):s.default.createElement(f.Button,{bsStyle:"success",onClick:this.run.bind(this)},s.default.createElement("span",{className:"glyphicon glyphicon-play"})),s.default.createElement(f.Button,{bsStyle:"danger",onClick:this.stop.bind(this)},s.default.createElement("span",{className:"glyphicon glyphicon-stop"}))),u,a,i))))}}]),t}(s.default.Component);t.default=C,C.contextTypes={store:s.default.PropTypes.object}},543:function(e,t){},603:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=r(o),u=n(604),i=n(619),l=n(643),c=n(671);t.default=function(e){var t=e.store;return a.default.createElement("div",null,a.default.createElement(c.render,{store:t}),a.default.createElement(u.Component,{store:t}),a.default.createElement(i.Component,{store:t}),a.default.createElement(l.Component,{store:t}))}},604:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.run=void 0;var o=n(605),a=r(o),u=n(615),i=(0,a.default)("crossover",u),l=i.run,c=i.Component;t.run=l,t.Component=c},605:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=(0,a.createPluginsHash)(t),r=new s.default(n,p,e),o=r.getRunOnce.bind(r);return{run:o,Component:(0,u.createRenderComponent)(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCompositeProvider=o;var a=n(606),u=n(607),i=n(612),l=r(i),c=n(613),s=r(c),f=n(614),d=r(f),p=d.default.GA;t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,a.createPluginsHash)(t),o=new l.default(r,p,e),i=n?o.getRunRandom.bind(o):o.getRunOnce.bind(o);return{run:i,Component:(0,u.createRenderComponent)(e,r)}}},606:function(e,t){"use strict";function n(e){return e.keys().map(function(t){return e(t).default}).reduce(function(e,t){return t.getInitialState||(t.getInitialState=function(){return{}}),e[t.name]=t,e},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.createPluginsHash=n},607:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderComponent=void 0;var o=n(33),a=r(o),u=n(206),i=n(608),l=n(611);t.createRenderComponent=function(e,t){return function(n){var r=n.store,o=r.getState().GA[e],c=function(t,n,o){r.dispatch((0,l.changeOptions)([e,t,n],o))},s=Object.keys(t).map(function(e){var n=t[e],r=n.render&&n.render(o[e],c.bind(null,e));return a.default.createElement(u.Panel,{header:e,key:e},a.default.createElement(i.SliderControl,{defaultValue:o[e].weight,onBlur:c.bind(null,e),field:"weight"}),r)});return a.default.createElement(u.Panel,{collapsible:!0,header:e+" options"},s)}}},608:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxControl=t.SliderControl=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(609),f=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){throw new Error("Abstract class")}},{key:"onBlur",value:function(e,t){var n=e.field,r=e.type,o=void 0===r?"number":r,a=void 0;switch(o){case"number":a=Number(t.target.value);break;case"boolean":a=t.target.checked}this.props.onBlur(n,a)}}]),t}(c.default.Component);t.SliderControl=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onChange=function(e){n.setState({value:e.target.value})};var r=n.props,u=r.field,i=r.defaultValue;return n.state={value:i},n.blurBinded=n.onBlur.bind(n,{field:u,type:"number"}),n}return u(t,e),i(t,[{key:"render",value:function(){var e=this.props.title||s.stringUtils.camelCaseToHuman(this.props.field),t=this.props.min||0,n=this.props.max||1,r=this.props.step||.01;return c.default.createElement("div",{className:"form-group"},c.default.createElement("label",null,e," - ",this.state.value),c.default.createElement("input",{type:"range",value:this.state.value,min:t,max:n,step:r,onChange:this.onChange,onBlur:this.blurBinded}))}}]),t}(f),t.CheckboxControl=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.defaultValue},n}return u(t,e),i(t,[{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.defaultValue,r=e.title,o=r||s.stringUtils.camelCaseToHuman(t);return c.default.createElement("div",{className:"checkbox"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",defaultChecked:n,onChange:this.onChange.bind(this),onBlur:this.onBlur.bind(this,{field:t,type:"boolean"})}),o))}}]),t}(f)},609:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!Array.isArray(e))throw new TypeError("arr should be an array "+e+" given.")}function a(e){if(!e||"object"!==("undefined"==typeof e?"undefined":u(e)))throw new TypeError("obj should be an object "+e+" given")}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(610);Object.defineProperty(t,"notesUtils",{enumerable:!0,get:function(){return r(i).default}});var l={randomBetween:function(e,t){if(e<0||t<0)throw"wft randomBetween";return void 0===t&&(t=e,e=0),Math.floor(Math.random()*t)+e},normalizeValue:function(e,t){if(e<=t)return e;var n=e%t;return n?n:t}},c={last:function(e){return e[e.length-1]},make:function(e,t){for(var n=[];t--;)n[t]=e;return n},getRandomIndexes:function(e,t,n){var r=[];if(e>t)throw new Error("Count can't be more that length");for(;e>0;){var o=l.randomBetween(t);r.indexOf(o)===-1&&(n&&n.includes(o)||(r.push(o),e--))}return r},randomKey:function(e){return o(e),l.randomBetween(e.length)},randomElement:function(e){var t=c.randomKey(e);return e[t]},findObjectByKey:function(e,t,n){return e.find(function(e){return e.hasOwnProperty(t)&&e[t]===n})}},s={randomElement:function(e){a(e);var t=Object.keys(e),n=c.randomElement(t);return e[n]}},f={camelCaseToHuman:function(e){var t=/([a-z])([A-Z])/g,n="$1 $2",r=" ";return e.replace(t,n).split(r).map(function(e){return f.firstUpper(e)}).join(r)},firstUpper:function(e){return""+e[0].toUpperCase()+e.slice(1).toLowerCase()}},d={getRandomKeyByWeight:function(e){var t=Object.keys(e),n=Object.keys(e).map(function(t){return 100*e[t].weight});return d._roulette(t,n)},_roulette:function(e,t){var n=[];e.forEach(function(e,r){n=n.concat(c.make(e,t[r]))});var r=l.randomBetween(n.length);return n[r]}},p={headsOrTails:function(){return Math.random()>.5}};t.objUtils=s,t.arrayUtils=c,t.numberUtils=l,t.stringUtils=f,t.selectionUtils=d,t.randomUtils=p},610:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=0,a=-1,u=function(){function e(){n(this,e)}return r(e,[{key:"toRhythm",value:function(e){var t=[],n=void 0;return e.forEach(function(e,r){if(r%8===0&&(n&&t.push(n),n=[]),e===o)return void n.push(-1);if(e===a&&n.length){var u=n.length-1,i=n[u];return void(n[u]=i>0?i+1:i-1)}n.push(1)}),t.push(n),t}},{key:"toPitch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=void 0;return e.forEach(function(e,u){u%8===0&&(r&&n.push(r),r=[]),e!==o&&e!==a&&r.push(t?e%7:e)}),r.length&&n.push(r),n}}]),e}();t.default=new u},611:function(e,t){"use strict";function n(e,t){return{type:r,optionsPath:e,value:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeOptions=n;var r=t.OPTIONS_CHANGE_ACTION="optionsChangeAction"},612:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);
}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(609),i=function(){function e(t,n,r){o(this,e),this._all=t,this._providerName=r,this._registerInStore(n)}return a(e,[{key:"getRunOnce",value:function(e){var t=this._getKeyAndFunction(e),n=t.fn,o=t.key,a=e[o];return function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.run.apply(n,r(t.concat(a)))}}},{key:"getRunRandom",value:function(e){var t=this;return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=t._getKeyAndFunction(e),i=u.fn,l=u.key,c=o.concat(e[l]);return i.run.apply(i,r(c))}}},{key:"_getKeyAndFunction",value:function(e){var t=this._getKey(e),n=this._getFunction(t);return{key:t,fn:n}}},{key:"_getKey",value:function(e){return u.selectionUtils.getRandomKeyByWeight(e)}},{key:"_getFunction",value:function(e){return this._all[e]}},{key:"_registerInStore",value:function(e){var t=this;e[this._providerName]={},Object.keys(this._all).map(function(e){return t._all[e]}).forEach(function(n){var r=n.name,o=n.getInitialState;return e[t._providerName][r]=o()})}}]),e}();t.default=i},613:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(198),f=r(s),d=n(612),p=r(d),h=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"getRunOnce",value:function(e){var t=this,n=Object.keys(e).map(function(t){return e[t].weight}).reduce(function(e,t){return e+t},0),r=(0,f.default)(e).pickBy(function(e){var t=e.weight;return t>0}),a=r.mapValues(function(e){return e.weight/n}).value(),u=Object.keys(e).reduce(function(t,n){var r=e[n]._important;return t.found?t:(r&&(t.found=!0,t.value[n]=1),t)},{found:!1,value:{}}).value;f.default.isEmpty(u)||(a=u);var i=Object.keys(a).reduce(function(n,r){var u=e[r],i=a[r],c=t._all[r].run;return l({},n,o({},r,{key:r,weight:i,fn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[].concat(t,[u]))}}))},{});return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.keys(i).map(function(e){return i[e]}).reduce(function(e,n){var r=n.fn,a=n.weight,u=n.key,i=r.apply(void 0,t)*a;return{value:i+e.value,full:l({},e.full,o({},u,i))}},{value:0,full:{}})}}},{key:"getRunRandom",value:function(){throw new Error("CompositeCalculateProvider use only run once fn")}}]),t}(p.default);t.default=h},614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={GA:{}};t.default=n},615:function(e,t,n){function r(e){return n(o(e))}function o(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./OnePointCrossover.jsx":616,"./RandomCrossover.js":617,"./TwoPointCrossover.jsx":618};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=615},616:function(e,t,n){"use strict";function r(e,t){return[e.slice(0,t),e.slice(t)]}function o(e,t){var n=a.numberUtils.randomBetween(e.length),o=r(e,n),u=r(t,n);return Math.random()>.5?[].concat(o[0],u[1]):[].concat(u[0],o[1])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(609),u=function(){return{weight:.5}};t.default={name:"one-point-crossover",run:o,getInitialState:u}},617:function(e,t,n){"use strict";function r(e,t){var n=t.slice(),r=o.arrayUtils.getRandomIndexes(e.length/2,e.length);return r.forEach(function(t){n[t]=e[t]}),n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(609),a=function(){return{weight:.5}};t.default={name:"random-crossover",run:r,getInitialState:a}},618:function(e,t,n){"use strict";function r(e,t,n){return[e.slice(0,t),e.slice(t,n),e.slice(n)]}function o(e,t){for(var n=[],o=a.numberUtils.randomBetween(e.length),u=a.numberUtils.randomBetween(e.length),i=!1,l=!1;u===o;)u=a.numberUtils.randomBetween(e.length);if(o>u){var c=o;o=u,u=c}for(var s=r(e,o,u),f=r(t,o,u),d=0,p=s.length;d<p;d++){if(d===p-1){if(!l){n=n.concat(f[d]);continue}if(!i){n=n.concat(s[d]);continue}}a.randomUtils.headsOrTails()?(n=n.concat(s[d]),i=!0):(n=n.concat(f[d]),l=!0)}return n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(609),u=function(){return{weight:.7}};t.default={name:"two-point-crossover",getInitialState:u,run:o}},619:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.run=void 0;var o=n(605),a=r(o),u=n(620),i=(0,a.default)("mutation",u,!0),l=i.run,c=i.Component;t.run=l,t.Component=c},620:function(e,t,n){function r(e){return n(o(e))}function o(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./changeDurationMutation.jsx":621,"./copyPasteMutation.jsx":628,"./orderMutation.js":633,"./randomMutation.jsx":634,"./reverseMutation.js":635,"./sortMutation.jsx":636,"./swap2Mutation.jsx":638,"./swapGroupMutation.jsx":639,"./transposeMutation.jsx":640,"./upAndDownMutation.jsx":642};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=620},621:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(33),l=r(i),c=n(608),s=n(609),f=n(622),d=r(f),p=n(623),h=r(p),v=n(624),y=r(v),_={count:64},m=function(){function e(){a(this,e)}return u(e,[{key:"mutate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object.assign({},_,n);var r=new d.default(e),a=r.bars(),u=a.map(function(e){var r=Math.floor(n.count/a.length),u=e.length-1-1;return r>=u?e:s.arrayUtils.getRandomIndexes(r,u).reduce(function(e,n){if(!e[n+1])return e;var r=[e[n].clone(),e[n+1].clone()];return[].concat(o(e.slice(0,n).map(function(e){return e.clone()})),o(t._mutateOne.apply(t,r)),o(e.slice(n+2)))},e)});return h.default.fromBarsToRaw(u)}},{key:"_mutateOne",value:function(e,t){var n=!1;if(Math.random()<.5){n=!0;var r=[t,e];e=r[0],t=r[1]}var o=y.default.create(e.value(),e.length()+1);if(1===t.length())return[o];var a=y.default.create(t.value(),t.length()-1);return n?[a,o]:[o,a]}}]),e}(),b=new m,g=b.mutate.bind(b),O=function(e,t){return l.default.createElement(c.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:16,step:1})},w=function(){return{weight:.4,count:7}};t.default={name:"change-duration-mutation",run:g,render:O,getInitialState:w}},622:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(623),l=r(i),c=n(626),s=r(c),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.getBarLength();if(a(this,e),!Array.isArray(t))throw"Invalid argument raw: "+t+", should be an array of numbers";this._barLength=n,this._raw=null,this._notes=null,this._bars=null,this._updateState(t)}return u(e,null,[{key:"create",value:function(t,n){return new e(t,n)}}]),u(e,[{key:"length",value:function(){return this._notes.length}},{key:"bars",value:function(){var e=this,t=[],n=[],r=0;return this._notes.forEach(function(o){r+=o.length(),n.push(o.clone()),console.assert(r<=e._barLength,"Counter: "+r+" but should be less than "+e._barLength),r===e._barLength&&(r=0,t.push(n),n=[])}),t}},{key:"rawBars",value:function(){return this.bars().map(function(e){return e.reduce(function(e,t){return[].concat(o(e),o(t.toRaw()))},[])})}},{key:"raw",value:function(){return this._raw.slice()}},{key:"_updateState",value:function(e){this._raw=e.slice(),this._notes=l.default.toNotes(this._raw),this._bars=this.bars()}}]),e}();t.default=f},623:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(624),i=r(u),l=function(){function e(){o(this,e),this._PAUSE=0,this._HOLD=-1}return a(e,[{key:"toNotes",value:function(e){for(var t=[],n=0,r=0,o=e.length;r<o;r++){var a=e[r];if(0!==r||a!==this._HOLD)if(a!==this._HOLD||r%8!==0)if(a!==this._HOLD)n=a,t.push(i.default.create(a,1,!1));else{var u=t.pop();t.push(i.default.create(u.value(),u.length()+1,!1))}else t.push(i.default.create(n,1,!0));else t.push(i.default.create(0,1,!1))}return t}},{key:"fromBarsToRaw",value:function(e){var t=[];return e.forEach(function(e){e.forEach(function(e){t=t.concat(e.toRaw())})}),t}}]),e}();t.default=new l},624:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(625),u=0,i=7,l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r(this,e),t<0||a.availableValues.indexOf(t)===-1)throw"Invalid argument value: "+t;if(!Number.isInteger(n)||n<=0)throw"Invalid argument length: "+n;this._value=t,this._length=n,this._legato=o}return o(e,[{key:"clone",value:function(){return new e(this._value,this._length,this._legato)}},{key:"pitch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isNote())throw"Current note is pause";return e?this._value%i:this._value}},{key:"value",value:function(){return this._value}},{key:"length",value:function(){return this._length}},{key:"isNote",value:function(){return this._value>u}},{key:"isPause",value:function(){return this._value===u}},{key:"toRaw",value:function(){var e=[this._value];if(this._length>1)for(var t=this._length-1;t>0;)t--,e.push(-1);return e}},{key:"increaseLength",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._changeLength(e)}},{key:"decreaseLength",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(1===this._length)throw"Length can not be less than 1";return this._changeLength(-e)}},{key:"_changeLength",value:function(t){return e.create(this._value,this._length+t)}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}();t.default=l},625:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.availableValues=[-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],t.REFERENCE_INDIVIDUAL=[3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,3,-1,2,-1,2,-1,3,-1,2,-1,-1,-1,5,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,5,-1,5,-1,4,-1,2,-1,1,-1,-1,-1,-1,-1,-1,-1],t.SOVIET=[8,6,-1,8,-1,9,-1,12,-1,11,-1,-1,-1,-1,-1,11,12,11,-1,10,-1,9,-1,12,-1,11,-1,-1,-1,-1,-1,-1,11,11,-1,10,-1,11,-1,-1,9,-1,-1,-1,0,0,0,0,0,0,0,5,8,9,8,7,0,0,0,0,0,0,0,6]},626:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.HOLD=t.PAUSE=t.availableValuesInGF=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(627),i=r(u),l=n(625),c=8,s=t.availableValuesInGF=[-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],f=t.PAUSE=0,d=t.HOLD=-1,p=function(){function e(){o(this,e)}return a(e,[{key:"selectComposition",value:function(e){i.default.setCurrent(e)}},{key:"getCurrentComposition",value:function(){return i.default.getCurrent()||l.REFERENCE_INDIVIDUAL}},{key:"getCurrentKey",value:function(){return i.default.getCurrentKey()}},{key:"getCompositionLength",value:function(){return 128}},{key:"getAllCompositions",value:function(){return i.default.getKeys()}},{key:"isValidName",value:function(e){return this.getAllCompositions().indexOf(e)===-1}},{key:"save",value:function(e,t){return i.default.save(e,t)}},{key:"remove",value:function(e){return i.default.remove(e)}},{key:"getByKey",value:function(e){return i.default.getByKey(e)}},{key:"getDefault",value:function(){return i.default.getDefault()}},{key:"getBarLength",value:function(){return c}},{key:"getMaxOneOctaveValue",value:function(){return 7}},{key:"getAvailableValues",value:function(e){var t=this.getMaxOneOctaveValue();return e?s.filter(function(e){return e<=t}):s}},{key:"getAvailablePitchValues",value:function(){var e=[f,d];return s.filter(function(t){return!e.includes(t)})}},{key:"getIntervalReference",value:function(){var e=[2,2,1,2,2,2,1,2,2,1,2,2,2,1];return e}},{key:"getHalfTonesBeetween",value:function(e,t){var n=this.getIntervalReference();if(e>t){var r=e;e=t,t=r}var o=n.slice(e,t);return o.reduce(function(e,t){return e+t},0)}}]),e}();t.default=new p},627:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="default",a=[3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,3,-1,2,-1,2,-1,3,-1,2,-1,-1,-1,5,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,3,-1,3,-1,-1,-1,3,-1,5,-1,1,-1,-1,2,3,-1,-1,-1,-1,-1,-1,-1,4,-1,4,-1,4,-1,-1,4,4,-1,3,-1,3,-1,3,3,5,-1,5,-1,4,-1,2,-1,1,-1,-1,-1,-1,-1,-1,-1],u="__all",i="__current",l=function(){function e(){n(this,e)}return r(e,[{key:"getKeys",value:function(){var e=this._getKeys();return e?(e.unshift(o),e):[o]}},{key:"_getKeys",value:function(){var e=localStorage.getItem(u);return JSON.parse(e)}},{key:"getDefault",value:function(){return a}},{key:"getByKey",value:function(e){if(e===o)return this.getDefault();var t=localStorage.getItem(e);return t?JSON.parse(t):null}},{key:"save",value:function(e,t){try{t=JSON.stringify(t),localStorage.setItem(e,t);var n=JSON.parse(localStorage.getItem(u))||[];n.indexOf(e)===-1&&n.push(e),localStorage.setItem(u,JSON.stringify(n))}catch(e){return console.warn("You got invalid data"),!1}return!0}},{key:"getCurrentKey",value:function(){return localStorage.getItem(i)||"default"}},{key:"getCurrent",value:function(){return this.getByKey(this.getCurrentKey())}},{key:"setCurrent",value:function(e){localStorage.setItem(i,e)}},{key:"remove",value:function(e){var t=JSON.parse(localStorage.getItem(u))||[],n=t.indexOf(e);n!==-1&&t.splice(n,1),localStorage.setItem(u,JSON.stringify(t)),localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}();t.default=new l},628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(629);t.default=(0,o.createGroupMutation)("copy-paste-mutation",function(e,t){var n=r(t,2),o=n[0],a=n[1];e.copy(o,a)})},629:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return{name:e,run:p(t),render:h,getInitialState:function(){return n}}}function a(e,t){var n=4,r=15;if(void 0===t&&(t=0),t+=1,null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return"undefined"==typeof e?"undefined":u(e);if(!Array.isArray(e)){var o=Object.keys(e);if(!o.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";if(t>n)return"{...}";var i="  ".repeat(t-1),l=o.slice(0,r).map(function(n){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(n)?n:JSON.stringify(n))+": "+a(e[n],t)+";"}).join("\n  "+i);return o.length>=r&&(l+="\n  "+i+"..."),e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+i+l+"\n"+i+"}":"{\n  "+i+l+"\n"+i+"}"}if(!(e.length>0))return"Array";var c=function(){if(t>n)return{v:"[...]"};var o=a(e[0],t);return e.every(function(e){return a(e,t)===o})?{v:o.trim()+"[]"}:{v:"["+e.slice(0,r).map(function(e){return a(e,t)}).join(", ")+(e.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof c?"undefined":u(c))?c.v:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.createCalculate=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.createGroupMutation=o;var l=n(33),c=r(l),s=n(608),f=n(630),d=n(632),p=t.createCalculate=function(e){return function(t,n){if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+a(t));if(null==n||"number"!=typeof n.groupSize||"number"!=typeof n.count)throw new TypeError('Value of argument "options" violates contract.\n\nExpected:\n{\n  groupSize: number;\n  count: number;\n}\n\nGot:\n'+a(n));var r=t.length,o=n.count,u=(0,d.fromPercentToValue)(r,n.groupSize);(0,d.validateGroupsInput)(r,u,o);var l=(0,f.createGroupsWithRandomOffset)(t,u),c=(0,d.getGroupsIndexes)(o,l.length()),s=i(c,2),p=s[0],h=s[1];return e(l,[p,h],n),l.toRaw()}},h=function(e,t){var n=e.count,r=e.groupSize;return c.default.createElement("div",null,c.default.createElement(s.SliderControl,{defaultValue:n,onBlur:t,field:"count",title:"Count of groups",min:1,max:10,step:1}),c.default.createElement(s.SliderControl,{defaultValue:r,onBlur:t,field:"groupSize",title:"Group size in percents",min:1,max:100,step:1}))},v={weight:.2,groupSize:5,count:2}},630:function(e,t,n){"use strict";function r(e,t){return e%t}function o(e,t){var n=r(e.length,t),o=u.numberUtils.randomBetween(0,n+1);return new a.Groups(e,t,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupsWithRandomOffset=o;var a=n(631),u=n(609)},631:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=4,r=15;if(void 0===t&&(t=0),t+=1,null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return"undefined"==typeof e?"undefined":l(e);if(!Array.isArray(e)){var o=Object.keys(e);if(!o.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";if(t>n)return"{...}";var a="  ".repeat(t-1),i=o.slice(0,r).map(function(n){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(n)?n:JSON.stringify(n))+": "+u(e[n],t)+";"}).join("\n  "+a);return o.length>=r&&(i+="\n  "+a+"..."),e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+a+i+"\n"+a+"}":"{\n  "+a+i+"\n"+a+"}"}if(!(e.length>0))return"Array";var c=function(){if(t>n)return{v:"[...]"};var o=u(e[0],t);return e.every(function(e){return u(e,t)===o})?{v:o.trim()+"[]"}:{v:"["+e.slice(0,r).map(function(e){return u(e,t)}).join(", ")+(e.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof c?"undefined":l(c))?c.v:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.Groups=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(198);t.Groups=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a(this,e),!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(t));if("number"!=typeof n)throw new TypeError('Value of argument "size" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+u(n));if("number"!=typeof r)throw new TypeError('Value of argument "offset" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+u(r));this._chunks=this._createChunks(t,n,r)}return c(e,null,[{key:"create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "data" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(t));if("number"!=typeof n)throw new TypeError('Value of argument "size" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+u(n));if("number"!=typeof r)throw new TypeError('Value of argument "offset" violates contract.\n\nExpected:\nnumber\n\nGot:\n'+u(r));return new e(t,n,r)}}]),c(e,[{key:"swap",value:function(e,t){var n=this;if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "first" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(e));if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "second" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(t));var r=this._arraysToMap(e,t),o=this._arraysToMap(t,e);this._chunks=this._chunks.map(function(e,t){return r[t]?n._chunks[r[t]]:o[t]?n._chunks[o[t]]:e})}},{key:"copy",value:function(e,t){var n=this;if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "first" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(e));if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "second" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(t));var r=this._arraysToMap(e,t);this._chunks=this._chunks.map(function(e,t){return null==r[t]?e:n._chunks[r[t]]})}},{key:"length",value:function(){function e(e){if("number"!=typeof e)throw new TypeError("Function return value violates contract.\n\nExpected:\nnumber\n\nGot:\n"+u(e));return e}return e(this._chunks.length)}},{key:"set",value:function(e,t){this._chunks[e]=t}},{key:"get",value:function(e){return this._chunks[e]}},{key:"all",value:function(){return this._chunks}},{key:"toRaw",value:function(){function e(e){if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<number>\n\nGot:\n"+u(e));return e}return e((0,s.flatten)(this._chunks))}},{key:"_createChunks",value:function(e,t,n){function r(e){if(!Array.isArray(e)||!e.every(function(e){return Array.isArray(e)&&e.every(function(e){return"number"==typeof e})}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<Array<number>>\n\nGot:\n"+u(e));return e}var a=e.slice(0,n),i=(0,s.chunk)(e.slice(n),t);return r(a.length?[a].concat(o(i)):i)}},{key:"_arraysToMap",value:function(e,t){function n(e){if(null==e||"object"!==("undefined"==typeof e?"undefined":l(e))||!Object.keys(e).every(function(t){var n=e[t];return"number"==typeof n}))throw new TypeError("Function return value violates contract.\n\nExpected:\n{ [id: number]: number\n}\n\nGot:\n"+u(e));return e}if(!Array.isArray(e)||!e.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "first" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(e));if(!Array.isArray(t)||!t.every(function(e){return"number"==typeof e}))throw new TypeError('Value of argument "second" violates contract.\n\nExpected:\nArray<number>\n\nGot:\n'+u(t));return n(e.reduce(function(e,n,o){return i({},e,r({},n,t[o]))},{}))}}]),e}()},632:function(e,t,n){"use strict";function r(e,t,n){if(e<t*n)throw new Error("Invalid groupSize: "+t+" or groupsCount: "+n+" for size: "+e)}function o(e,t){return Math.floor(e*t/100)}function a(e,t){var n=u.arrayUtils.getRandomIndexes(2*e,t,[0,t-1]),r=n.length/2;return[n.slice(0,r),n.slice(r)]}Object.defineProperty(t,"__esModule",{value:!0}),t.validateGroupsInput=r,t.fromPercentToValue=o,t.getGroupsIndexes=a;var u=n(609)},633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(629),a=n(198),u=n(609);t.default=(0,o.createGroupMutation)("order-mutation",function(e,t){var n=r(t,1),o=n[0];o.forEach(function(t){var n=e.get(t),r=(0,a.sortBy)(n);e.set(t,u.randomUtils.headsOrTails()?r:r.reverse())})})},634:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.percents,r=s.default.getAvailableValues(),o=e.length,a=Math.floor(o*n/100);return l.arrayUtils.getRandomIndexes(a,o).reduce(function(e,t){return e[t]=l.arrayUtils.randomElement(r),e},e.slice())}Object.defineProperty(t,"__esModule",{value:!0});var a=n(33),u=r(a),i=n(608),l=n(609),c=n(626),s=r(c),f=function(e,t){return u.default.createElement(i.SliderControl,{defaultValue:e.percents,onBlur:t.bind(null,"percents"),field:"percents",title:"Percents",min:1,max:50,step:1})},d=function(){return{weight:.25,percents:5}};t.default={name:"random-mutation",run:o,render:f,getInitialState:d}},635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(629);t.default=(0,o.createGroupMutation)("reverse-mutation",function(e,t){var n=r(t,1),o=n[0];o.forEach(function(t){e.set(t,e.get(t).reverse())})})},636:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=r(o),u=n(608),i=n(637),l=n(626),c=r(l),s=c.default.getCompositionLength(),f=function(e,t){return a.default.createElement(u.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:s,step:1})},d=function(){return{weight:1,count:10}};t.default={name:"sort-mutation",run:i.calculate,render:f,getInitialState:d}},637:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(t.count>=e.length)throw"To much gens for sort mutation";var n=e.length,o=a.numberUtils.randomBetween(0,n-t.count),u=o+t.count,i=e.slice(o,u).sort(function(e,t){return+e-+t});return[].concat(r(e.slice(0,o)),r(i),r(e.slice(u)))}Object.defineProperty(t,"__esModule",{value:!0}),t.calculate=o;var a=n(609)},638:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object.assign({},c,t),l.arrayUtils.getRandomIndexes(t.count,e.length-1).forEach(function(t){var n=e[t];e[t]=e[t+1],e[t+1]=n}),e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(33),u=r(a),i=n(608),l=n(609),c={count:64},s=function(e,t){return u.default.createElement(i.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:128,step:1})},f=function(){return{weight:.25,count:32}};t.default={name:"swap2-mutation",run:o,render:s,getInitialState:f}},639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(629);t.default=(0,o.createGroupMutation)("swap-group-mutation",function(e,t){var n=r(t,2),o=n[0],a=n[1];e.swap(o,a)},{weight:.5,groupSize:5,count:2})},640:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=r(o),u=n(608),i=n(641),l={weight:.2,groupSize:5,count:2,transposeSize:2},c=function(e,t){var n=e.count,r=e.groupSize,o=e.transposeSize;return a.default.createElement("div",null,a.default.createElement(u.SliderControl,{defaultValue:n,onBlur:t,field:"count",title:"Count of groups",min:1,max:10,step:1}),a.default.createElement(u.SliderControl,{defaultValue:r,onBlur:t,field:"groupSize",title:"Group size in percents",min:1,max:100,step:1}),a.default.createElement(u.SliderControl,{defaultValue:o,onBlur:t,field:"transposeSize",title:"Size of transposition in steps",min:1,max:7,step:1}))};t.default={name:"transpose-mutation",run:i.calculate,render:c,getInitialState:function(){return l}}},641:function(e,t,n){"use strict";function r(e,t){if([i.PAUSE,i.HOLD].includes(e))return e;var n=e+t,r=n%l;return r?r:l}Object.defineProperty(t,"__esModule",{value:!0}),t.calculate=void 0;var o=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(198),u=n(629),i=n(626),l=(0,a.last)(i.availableValuesInGF);t.calculate=(0,u.createCalculate)(function(e,t,n){var a=o(t,1),u=a[0],i=n.transposeSize;u.forEach(function(t){var n=e.get(t);e.set(t,n.map(function(e){return r(e,i)}))})})},642:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(33),i=r(u),l=n(608),c=n(609),s={count:64},f=14,d=1,p=function(){function e(){o(this,e)}return a(e,[{key:"mutate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object.assign({},s,n);var r=c.arrayUtils.getRandomIndexes(n.count,e.length);return r.forEach(function(n){e[n]!==-1&&0!==e[n]&&(e[n]=t._mutateOne(e[n]))}),e}},{key:"_mutateOne",value:function(e){return Math.random()>.5?e<f?e+1:e:e>d+1?e-1:e}}]),e}(),h=new p,v=h.mutate.bind(h),y=function(e,t){return i.default.createElement(l.SliderControl,{defaultValue:e.count,onBlur:t.bind(null,"count"),field:"count",title:"Count of genes",min:1,max:128,step:1})},_=function(){return{weight:1,count:7}};t.default={name:"up-and-down-mutation",run:v,render:y,getInitialState:_}},643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.run=void 0;var r=n(605),o=n(644),a=(0,r.createCompositeProvider)("fitness",o),u=a.run,i=a.Component;t.run=u,t.Component=i},644:function(e,t,n){function r(e){return n(o(e))}function o(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./BasicReferenceFitness.js":645,"./ClusterFitness.js":647,"./DirectionFitness.js":651,"./IntervalFitness.js":653,"./MagnitudeFitness.js":656,"./MelodyFitness.js":658,"./MelodyLineFitness.js":659,"./NoteSizePartialFitness.js":661,"./RhythmLineFitness.js":665,"./RodNoteFitness.js":667,"./SignSequenceFitness.js":669};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=644},645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(646),o=function(e,t){var n=(0,r.normalizeNotesDiscrete)(e),o=(0,r.normalizeNotesDiscrete)(t),a=1/n.length;return n.reduce(function(e,t,n){return t===o[n]?e+a:e},0)},a=function(){return{weight:0}};t.default={name:"basic-reference-fitness",run:o,getInitialState:a}},646:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizer=t.normalizePitchToOctave=t.normalizeNotesDiscrete=t.normalizeRhythm=t.normalizeHolds=void 0;var o=n(626),a=r(o),u=n(609),i=(t.normalizeHolds=function(e){return e.reduce(function(e,t){return e.concat(t===-1?0:t)},[])},t.normalizeRhythm=function(e){return e.reduce(function(e,t){return e.concat([o.PAUSE,o.HOLD].includes(t)?0:1)},[])},t.normalizeNotesDiscrete=function(e){return e.reduce(function(e,t){return t>=0&&(e.note=t),e.data.push(e.note),e},{data:[],note:0}).data},a.default.getMaxOneOctaveValue());t.normalizePitchToOctave=function(e){return e.map(function(e){return u.numberUtils.normalizeValue(e,i)})},t.normalizer=function(e){return function(t){return e.reduce(function(e,t){return t(e)},t)}}},647:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(648),o=n(650);t.default={name:"cluster-fitness",run:(0,o.fitnessExecutor)(r.clusterMask)(o.barEqualityComparer),getInitialState:function(){return{weight:.1,_important:!1}}}},648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterMask=void 0;var r=n(626),o=n(649);t.clusterMask=(0,o.maskFactory)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.threshold;return e.reduce(function(e,t){return e+t===r.PAUSE?0:1},0)/e.length})},649:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.maskFactory=void 0;var o=n(622),a=r(o);t.maskFactory=function(e){return function(t,n){return a.default.create(t).rawBars().map(function(t){return e(t,n)})}}},650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.fitnessExecutor=function(e){return function(t){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(e(n,o),e(r,o),o)}}},t.barEqualityComparer=function(e,t){return t.reduce(function(t,n,r){return e[r]===n?t+1:t},0)/e.length});t.barContentEqualityComparer=function(e,t){return t.reduce(function(t,r,o){return t+n(r,e[o])},0)/e.length}},651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(652),o=n(650);t.default={name:"direction-fitness",run:(0,o.fitnessExecutor)(r.directionAnalyzer)(o.barEqualityComparer),getInitialState:function(){return{weight:.01}}}},652:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return e===t?f.STABLE:e>t?f.DOWN:f.UP}function u(e,t){for(var n,r=t.size,u=(n={},o(n,f.UP,0),o(n,f.DOWN,0),o(n,f.STABLE,0),o(n,f.NONE,0),n),i=[],l=null,s=0;s<e.length;s++){var d=e[s];if(d!==c.PAUSE)if(i.length){var p=i[i.length-1],h=a(p,d);l?l===h?i.push(d):(i.length>r&&(u[l||f.NONE]+=1),i=[d],l=null):(l=h,i.push(d))}else i.push(d);else i.length>=r&&(u[l||f.NONE]+=1),i=[],l=null}return i.length>=r&&(u[l||f.NONE]+=1),u}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,o=void 0===n?d:n,a=t.spread,i=void 0===a?p:a,s=e.reduce(function(e,t){return t===c.HOLD?e:[].concat(r(e),[t])},[]),h=u(s,{size:o,spread:i}),v=Object.entries(h).sort(function(e,t){return e[1]<t[1]}),y=l(v,2),_=y[0],m=y[1];return _[1]-m[1]>=i?_[0]:f.NONE}Object.defineProperty(t,"__esModule",{value:!0}),t.directionAnalyzer=t.DIRECTION=void 0;var l=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.directionForBar=i,n(32);var c=n(626),s=n(649),f=t.DIRECTION={UP:"UP",DOWN:"DOWN",STABLE:"STABLE",NONE:"NONE"},d=3,p=3;t.directionAnalyzer=(0,s.maskFactory)(i)},653:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(654),a=r(o),u=a.default.fitness.bind(a.default),i=function(){return{weight:0}};t.default={name:"interval-fitness",run:u,getInitialState:i}},654:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(655),u=n(609),i=n(198),l={intervalValuesWeight:.5,intervalDispersionWeight:.5},c=function(){function e(){r(this,e),this._referenceValues=null}return o(e,[{key:"reset",value:function(){this._referenceValues=null}},{key:"fitness",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=this._normalizeOptions(Object.assign({},l,n));var r=u.notesUtils.toPitch(e),o=u.notesUtils.toPitch(t),a=this._calculateIntervalValues(r);this._referenceValues||(this._referenceValues=this._calculateIntervalValues(o));var c=this._calculateFitness(a,n);return console.assert((0,i.isNumber)(c),"Result should be a number"),c}},{key:"_calculateFitness",value:function(e,t){var n=e.length,r=0,o=0;return this._referenceValues.some(function(t,a){var u=t.average,i=t.dispersion;if(n<=a)return!0;var l=e[a],c=l.average,s=l.dispersion;return r+=Math.abs(u-c),o+=Math.abs(i-s),!1}),r/=this._referenceValues.length,o/=this._referenceValues.length,console.assert((0,i.isNumber)(r),"AverageSum is a number"),r=(1-r/a.MAX_AVERAGE_DIFF)*t.intervalValuesWeight,o=(1-o/a.MAX_DISPERSION_DIFF)*t.intervalDispersionWeight,console.assert((0,i.isNumber)(r),"AverageSum is a number"),r+o}},{key:"_calculateIntervalValues",value:function(e){var t=this;return e.map(function(e){return t._calculateIntervalValuesForBar(e)})}},{key:"_calculateIntervalValuesForBar",value:function(e){var t=[],n=e.length,r=0;if(!n)return{average:0,dispersion:0};for(var o=0;o<n-1;o++){var u=e[o],i=e[o+1],l=(0,a.getValueBetweenNotes)(u,i);r+=l,t.push(l)}var c=r/n,s=t.map(function(e){return Math.pow(e-c,2)}).reduce(function(e,t){return e+t},0);return{average:c,dispersion:s}}},{key:"_normalizeOptions",value:function(e){var t=e.intervalValuesWeight+e.intervalDispersionWeight;return Object.assign(e,{intervalValuesWeight:e.intervalValuesWeight/t,intervalDispersionWeight:e.intervalDispersionWeight/t})}}]),e}();t.default=new c},655:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={0:l[t].PERFECT_CONSONANTS,5:l[t].PERFECT_CONSONANTS,7:l[t].PERFECT_CONSONANTS,12:l[t].PERFECT_CONSONANTS,3:l[t].IMPERFECT_CONSONANTS,4:l[t].IMPERFECT_CONSONANTS,8:l[t].IMPERFECT_CONSONANTS,9:l[t].IMPERFECT_CONSONANTS,1:l[t].SECONDS,2:l[t].SECONDS,10:l[t].SEVENTH,11:l[t].SEVENTH,6:l[t].GRATER_THAN_OCTAVE,"-1":l[t].GRATER_THAN_OCTAVE};return e>12?n[-1]:n[e]}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=i.default.getHalfTonesBeetween(e,t),a=o(r,n);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DISPERSION_DIFF=t.MAX_AVERAGE_DIFF=void 0,t.getValueBetweenNotes=a;var u=n(626),i=r(u),l=[{PERFECT_CONSONANTS:1,IMPERFECT_CONSONANTS:2,SECONDS:3,SEVENTH:3,GRATER_THAN_OCTAVE:5},{PERFECT_CONSONANTS:1,IMPERFECT_CONSONANTS:3,SECONDS:1,SEVENTH:3,GRATER_THAN_OCTAVE:5}],c=t.MAX_AVERAGE_DIFF=4;t.MAX_DISPERSION_DIFF=c*c},656:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(657),a=r(o),u=a.default.fitness.bind(a.default),i=function(){return{weight:0}};t.default={name:"magnitude-fitness",run:u,getInitialState:i}},657:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=[4,2,3,1],a=4,u=-1,i=0,l=function(){function e(){n(this,e)}return r(e,[{key:"fitness",value:function(e,t){for(var n=0,r=0,o=e.length;r<o;r++){var l=r%16,c=this._getBitValue(l),s=t[r],f=e[r];if(s!==u&&f!==u&&s!==i&&f!==i){var d=Math.abs(e[r]-t[r]);d>a||(n+=c*(1-d/a))}else s===f&&(n+=c)}return this._normalize(n)}},{key:"_getBitValue",value:function(e){for(var t=0;t<4;t++){var n=4*t;if(e>=n&&e<n+4)return o[t]}throw new"Something went wrong in MagnitudeFitness._gitBitValue"}},{key:"_normalize",value:function(e){return e/8/10/4}}]),e}();t.default=new l},658:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(657),a=r(o),u=a.default.fitness.bind(a.default),i=function(){return{weight:0}};t.default={name:"magnitude-fitness",run:u,getInitialState:i}},659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(660),o=n(650);t.default={name:"melody-line-fitness",run:(0,o.fitnessExecutor)(r.melodyLineMask)(o.barContentEqualityComparer),getInitialState:function(){return{weight:.5,_important:!1}}}},660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.melodyLineMask=void 0;var r=n(649),o=n(646);t.melodyLineMask=(0,r.maskFactory)(function(e){return(0,o.normalizeNotesDiscrete)(e)})},661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(662),o=n(663),a=function(e,t,n){console.assert(e.length===t.length);var a=(0,r.noteSizeDistributionAnalyzer)(t),u=(0,r.noteSizeDistributionAnalyzer)(e);return a.reduce(function(e,t,n){var r=u[n],a=(0,o.calculateError)(t,r);return e+(1-a)},0)/a.length},u=function(){return{weight:.3,_important:!1}};t.default={name:"note-size-partial-fitness",run:a,getInitialState:u}},662:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=1/e.length,n=e.reduce(function(e,n){var r=n.length();return e[r]=(e[r]||0)+t,e},{});return n}Object.defineProperty(t,"__esModule",{value:!0}),t.noteSizeDistributionAnalyzer=void 0;var a=n(622),u=r(a);t.noteSizeDistributionAnalyzer=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.default.create(e).bars().map(function(e){return o(e,t)})}},663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateError=void 0;var r=n(664);t.calculateError=function(e,t){return Object.values((0,r.calculateDiffObject)(e,t)).reduce(function(e,t){return e+t},0)}},664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.calculateDiffObject=function(e,t){return Object.keys(t).map(function(e){return{key:e,value:t[e]}}).reduce(function(e,t){var n=t.key,r=t.value;if(null!=e[n]){var o=e[n]-r;e[n]=o>0?o:0}return e},n({},e))}},665:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(666),o=n(650);t.default={name:"rhythm-line-fitness",run:(0,o.fitnessExecutor)(r.rhythmLineMask)(o.barContentEqualityComparer),getInitialState:function(){return{weight:.2,_important:!1}}}},666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rhythmLineMask=void 0;var r=n(649),o=n(646);t.rhythmLineMask=(0,r.maskFactory)(function(e){return(0,o.normalizeRhythm)(e)})},667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(668),o=n(650);t.default={name:"rod-note-fitness",run:(0,o.fitnessExecutor)(r.rodNoteAnalyzer)(function(e,t){var n=1/e.length;return e.reduce(function(e,r,o){var a=n/r.length;return r.reduce(function(e,n,r){return n===t[o][r]?e+a:e},0)+e},0)}),getInitialState:function(){return{weight:0,_important:!1}}}},668:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.rodNoteAnalyzer=t.rodNoteForBar=t.ROD_TYPE=void 0;var a,u=n(626),i=n(649),l=t.ROD_TYPE={FIRST:"FIRST",TWO:"TWO",FOUR:"FOUR",FIRST_AND_LAST:"FIRST_AND_LAST"},c=(a={},o(a,l.FIRST,[0]),o(a,l.TWO,[0,4]),o(a,l.FOUR,[0,2,4,6]),o(a,l.FIRST_AND_LAST,[0,6]),a),s=t.rodNoteForBar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rodeType,o=void 0===n?l.FIRST:n;return c[o].reduce(function(t,n){return[].concat(r(t),[e[n]===u.HOLD?null:e[n]])},[])};t.rodNoteAnalyzer=(0,i.maskFactory)(s)},669:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(670),o=n(650);t.default={name:"sign-sequence-fitness",run:(0,o.fitnessExecutor)(r.signMask)(o.barContentEqualityComparer),getInitialState:function(){return{weight:0,_important:!1}}}},670:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=u(e,2),n=t[0],r=t[1],a=void 0===r?[]:r;return f(n).reduce(function(e,t){var n=e.prev,r=e.data;if(null==n)return{data:[],prev:t};var a=t-n,u=0;return a>0?u=1:a<0&&(u=-1),{data:[].concat(o(r),[u]),prev:t}},{data:[],prev:(0,i.last)(f(a))}).data}Object.defineProperty(t,"__esModule",{value:!0}),t.signMask=void 0;var u=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.barAnalyzer=a;var i=n(198),l=n(626),c=n(622),s=r(c),f=function(e){return e.map(function(e){return e===l.HOLD?l.PAUSE:e})};t.signMask=function(e,t){return s.default.create(e).rawBars().reduce(function(e,n,r,u){return[].concat(o(e),[a([n,r?u[r-1]:void 0],t)])},[])}},671:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(33),u=r(a),i=n(206),l=n(608),c=n(611),s=n(614),f=r(s),d="options";f.default.GA[d]={maxIterations:500,deathLimit:.2,count:100,threshold:.9,mutationProbability:.5,useRandomInitialIndividuals:!0,countOfBestToLiveThrought:0,stopOnEndOfIterations:!0};var p=function(e,t){return function(n,r){return u.default.createElement(l.SliderControl,o({defaultValue:e[n],onBlur:t,field:n},r))}};t.render=function(e){var t=e.store,n=t.getState().GA[d],r=function(e,n){t.dispatch((0,c.changeOptions)([d,e],n))},o=p(n,r);return u.default.createElement(i.Panel,{collapsible:!0,defaultExpanded:!0,header:"Options"},o("maxIterations",{max:1e4,min:50,step:10}),o("deathLimit"),o("count",{max:500,min:25,step:1}),o("threshold"),o("mutationProbability"),o("countOfBestToLiveThrought",{max:10,min:0,step:1}),u.default.createElement(l.CheckboxControl,{onBlur:r,defaultValue:n.useRandomInitialIndividuals,field:"useRandomInitialIndividuals"}),u.default.createElement(l.CheckboxControl,{onBlur:r,defaultValue:n.stopOnEndOfIterations,field:"stopOnEndOfIterations"}))}},672:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(626),i=r(u),l=n(673),c=r(l),s=function(){function e(t,n,r,a){o(this,e);var u=i.default.getCurrentComposition();this._worker=new c.default,this._worker.onmessage=this._createOnMessage(n,r,a),this._worker.postMessage({data:{options:t,reference:u},action:"start"}),this._worker.onerror=function(e){console.warn(e)}}return a(e,[{key:"pause",value:function(){this._worker.postMessage({action:"pause"})}},{key:"resume",value:function(){this._worker.postMessage({action:"resume"})}},{key:"stop",value:function(){this._worker.postMessage({action:"stop"})}},{key:"destroy",value:function(){this._worker.terminate()}},{key:"_createOnMessage",value:function(e,t,n){return function(r){var o=r.data,a=o.data,u=o.action;if(console.log("onmessage from worker "+u),"done"===u){var i=a;return t({percentage:100,best:i[1]}),void e(i)}if(t&&"progress"===u&&t({percentage:a.percentage,best:a.best}),n&&"pause"===u){var l=a;n(l)}}}}]),e}();t.default=s},673:function(e,t,n){e.exports=function(){return new Worker(n.p+"dd0fd226f92dff87405a.worker.js")}},674:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(675),f=r(s),d=n(676),p=r(d),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._element=null,n}return u(t,e),i(t,[{key:"componentDidMount",value:function(){this._element=this.refs.abcjs,this.props.data&&this._initializeWidget(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){e.data&&this._initializeWidget(e.data)}},{key:"render",value:function(){return c.default.createElement("div",{ref:"abcjs"})}},{key:"_initializeWidget",value:function(e){f.default.renderAbc(this._element,(0,p.default)(e),null,{scale:1})}}]),t}(c.default.Component);t.default=h},675:function(e,t){e.exports=ABCJS},676:function(e,t){"use strict";function n(e,t){return null==e?"":u[e]+t}function r(e){for(var t=a,r=null,u=1,i=0,l=e.length;i<l;i++){var c=e[i];c===-1?u++:(t+=n(r,u),r=c,u=1),i===e.length-1&&(t+=n(r,u)),i&&i%8===0&&(t+="|"),i&&i%32===0&&(t+=o)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o="\n",a="\nX:1\nT:Abc\nM:4/4\nC:GA\nK:C\nL:1/8\n",u={0:"z",1:"C",2:"D",3:"E",4:"F",5:"G",6:"A",7:"B",8:"c",9:"d",10:"e",11:"f",12:"g",13:"a",14:"b"}},677:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(206),f=n(461),d=r(f),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.stop=function(){d.default.stop()},n.state={selectedIndex:-1},n}return u(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"individuals-table-wrapper"},c.default.createElement(s.Table,{striped:!0,bordered:!0,condensed:!0,hover:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null),c.default.createElement("th",null,"Name"),c.default.createElement("th",null,"Fitness"))),c.default.createElement("tbody",null,this.props.population.map(this.renderItem.bind(this)))))}},{key:"renderFitnessInfoItems",value:function(e){return e.map(function(e){var t=e.key,n=e.value,r=e.className;return c.default.createElement("tr",{key:t,className:r},c.default.createElement("td",null,t),c.default.createElement("td",null,n.toFixed(3)))})}},{key:"renderFitnessInfo",value:function(e){var t=this.renderFitnessInfoItems([{key:"total",className:"total",value:e.fitness.value}].concat(Object.keys(e.fitness.full).map(function(t){return{key:t,value:e.fitness.full[t]}})));return c.default.createElement(s.Table,{condensed:!0,border:!0,style:{marginBottom:0}},c.default.createElement("tbody",null,t))}},{key:"renderItem",value:function(e,t){var n=this.state.selectedIndex===t,r=n?"highlight":"",o=n?this.renderFitnessInfo(e):e.fitness.value;return c.default.createElement("tr",{className:r,key:t,onClick:this.onSelect.bind(this,e,t)},c.default.createElement("td",null,c.default.createElement(s.ButtonGroup,null,c.default.createElement(s.Button,{bsStyle:"info",onClick:this.play.bind(this,e.content)},c.default.createElement("span",{className:"glyphicon glyphicon-play"})),c.default.createElement(s.Button,{bsStyle:"info",onClick:this.stop},c.default.createElement("span",{className:"glyphicon glyphicon-stop"})))),c.default.createElement("td",null,"name"+t),c.default.createElement("td",null,o))}},{key:"play",value:function(e){d.default.play(e)}},{key:"onSelect",value:function(e,t){this.setState({selectedIndex:t}),this.props.onSelect(e)}}]),t}(c.default.Component);t.default=p},678:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(479),f=n(206),d=n(626),p=r(d),h="default",v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.select=function(e){p.default.selectComposition(e),n.setState({currentKey:e})},n.state={compositions:p.default.getAllCompositions(),nameRaw:"",name:"",currentKey:p.default.getCurrentKey()},n}return u(t,e),i(t,[{key:"onNameChange",value:function(e){var t=e.target.value;this.setState({nameRaw:t}),this.setState({name:""}),p.default.isValidName(t)&&this.setState({name:t})}},{key:"remove",value:function(e){p.default.remove(e),this.setState({compositions:p.default.getAllCompositions()})}},{key:"renderCompositionItem",value:function(e){var t=this;return c.default.createElement("tr",{key:e,className:e===this.state.currentKey?"selected":""},c.default.createElement("td",null,c.default.createElement(s.Link,{to:"/compositions/"+e},e)),c.default.createElement("td",null,e!==h?c.default.createElement(f.ButtonGroup,null,c.default.createElement(f.Button,{bsStyle:"info",onClick:function(){return t.select(e)}},c.default.createElement(f.Glyphicon,{glyph:"ok-sign"})),c.default.createElement(f.Button,{bsStyle:"danger",onClick:this.remove.bind(this,e)},c.default.createElement(f.Glyphicon,{glyph:"remove"}))):c.default.createElement(f.Button,{bsStyle:"info",onClick:function(){return t.select(e)}},c.default.createElement(f.Glyphicon,{glyph:"ok-sign"}))))}},{key:"render",value:function(){return c.default.createElement(f.Grid,{fluid:!0},c.default.createElement("h2",null,"Compositions"),c.default.createElement(f.Table,{striped:!0,bordered:!0,condensed:!0,hover:!0},c.default.createElement("tbody",null,this.state.compositions.map(this.renderCompositionItem.bind(this)))),c.default.createElement("h2",null,"New"),c.default.createElement(f.FormControl,{type:"text",label:"Name",onChange:this.onNameChange.bind(this),value:this.state.nameRaw}),c.default.createElement(s.Link,{to:"/compositions/"+this.state.name},c.default.createElement(f.Button,{bsStyle:"info",disabled:!this.state.name},"New")))}}]),t}(c.default.Component);t.default=v},679:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(33),c=r(l),s=n(206),f=n(461),d=r(f),p=n(626),h=r(p),v=n(674),y=r(v),_="default",m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=h.default.getByKey(n.props.params.composition)||null;return n.state={compositionRaw:r?n.compositionToString(r):"",composition:r,invalidName:!0,invalidComposition:!1,isDefault:n.props.params.composition===_},n}return u(t,e),i(t,[{key:"_convert",value:function(e){var t=e.split(" ");return t=t.map(function(e){return Number(e)}),t.some(function(e){return isNaN(e)||p.availableValuesInGF.indexOf(e)===-1})?null:t}},{key:"compositionToString",value:function(e){return e&&e.join(" ")||""}},{key:"save",value:function(){var e=this.state.composition,t=this.props.params.composition;h.default.save(t,e)}},{key:"onChange",
value:function(e){var t=e.target.value,n=this._convert(e.target.value);this.setState({compositionRaw:t}),n?(d.default.set(n),this.setState({composition:n,invalidComposition:!1})):this.setState({invalidComposition:!0})}},{key:"render",value:function(){var e=this.props.params.composition;return c.default.createElement(s.Grid,{fluid:!0},c.default.createElement("h3",null,e),c.default.createElement(s.Row,null,c.default.createElement(s.Col,{sm:4,md:4},c.default.createElement(s.FormControl,{componentClass:"textarea",style:{height:230},label:"Notes",onChange:this.onChange.bind(this),value:this.state.compositionRaw}),c.default.createElement(s.Button,{disabled:this.state.isDefault||this.state.invalidComposition,bsStyle:"success",onClick:this.save.bind(this)},"Save")),c.default.createElement(s.Col,{sm:4,md:4},c.default.createElement(y.default,{data:this.state.composition}))))}}]),t}(c.default.Component);t.default=m},680:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Root=void 0;var o=n(33),a=r(o),u=n(681),i=n(479),l=n(203),c=r(l);t.Root=function(e){var t=e.store;return a.default.createElement(u.Provider,{store:t},a.default.createElement(i.Router,{history:i.hashHistory,routes:c.default}))}},704:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.createStore)(i.default,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(687),u=n(705),i=r(u)},705:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(687),a=n(706),u=r(a);t.default=(0,o.combineReducers)({GA:u.default})},706:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(687),a=n(614),u=r(a),i=n(707),l=(0,i.createPluginsReducer)("crossover",u.default.GA),c=(0,i.createPluginsReducer)("mutation",u.default.GA),s=(0,i.createPluginsReducer)("options",u.default.GA),f=(0,i.createPluginsReducer)("fitness",u.default.GA);t.default=(0,o.combineReducers)({crossover:l,mutation:c,fitness:f,options:s})},707:function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e){var t=e.optionsPath,n=e.value,r={},o=t.length-1;return t.reduce(function(e,t,a){return a===o?(e[t]=n,r):e[t]={}},r)}function a(e,t){var n=t[e];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments[1];switch(a.type){case l.OPTIONS_CHANGE_ACTION:if(a.optionsPath[0]!==e)return t;var c=r(a.optionsPath),s=c.slice(1),f=o({optionsPath:s,value:a.value});return(0,i.merge)(u({},t),f);default:return t}}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createDeepProperty=o,t.createPluginsReducer=a;var i=n(198),l=n(611)}});
//# sourceMappingURL=app.7114dbd440a501202319.js.map