{"version":3,"sources":["webpack:///app.eb2c19e92dda84937c6c.js","webpack:///./app/index.jsx","webpack:///./app/polyfills.js","webpack:///./app/plugins/all.jsx","webpack:///./app/plugins/GA/index.jsx","webpack:///./app/plugins/PluginRegister.jsx","webpack:///./app/routes.jsx","webpack:///./app/components/App.jsx","webpack:///./app/nav.js","webpack:///./app/components/layout/LayoutNavBar.jsx","webpack:///./app/components/PlayerControls.jsx","webpack:///./app/players/soundfont-player/Player.js","webpack:///./app/players/soundfont-player/instrumentNames.js","webpack:///./app/players/common.js","webpack:///./app/components/layout/LayoutSideBar.jsx","webpack:///./app/components/layout/LayoutMain.jsx","webpack:///./app/components/layout/Home.jsx","webpack:///./app/plugins/GA/components/Index.jsx","webpack:///external \"ABCJS\"","webpack:///./app/plugins/GA/components/GAOptions.jsx","webpack:///./app/plugins/GA/components/UIFactory.jsx","webpack:///./app/plugins/GA/lib/utils.js","webpack:///./app/plugins/GA/lib/utils/NotesUtils.js","webpack:///./app/plugins/GA/lib/crossovers/CrossoverProvider.js","webpack:///./app/plugins/GA/lib/common/createProvider.js","webpack:///./app/plugins/GA/lib/common/createPluginsHash.js","webpack:///./app/plugins/GA/lib/common/createRenderComponent.jsx","webpack:///./app/plugins/GA/actions/index.js","webpack:///./app/plugins/GA/lib/common/BaseCalculateProvider.js","webpack:///./app/plugins/GA/lib/common/CompositeCalculateProvider.js","webpack:///./app/store/initialState.js","webpack:///./app/plugins/GA/lib/crossovers/providers nonrecursive Crossover.js","webpack:///./app/plugins/GA/lib/crossovers/providers/OnePointCrossover.jsx","webpack:///./app/plugins/GA/lib/crossovers/providers/TwoPointCrossover.jsx","webpack:///./app/plugins/GA/lib/mutations/MutationProvider.js","webpack:///./app/plugins/GA/lib/mutations/providers nonrecursive Mutation.js","webpack:///./app/plugins/GA/lib/mutations/providers/changeDurationMutation.jsx","webpack:///./app/plugins/GA/lib/utils/Composition.js","webpack:///./app/plugins/GA/lib/utils/Note.js","webpack:///./app/plugins/GA/lib/common.js","webpack:///./app/plugins/GA/lib/utils/NotesConverter.js","webpack:///./app/plugins/GA/lib/MusicContext.js","webpack:///./app/plugins/GA/lib/SimpleStorage.js","webpack:///./app/plugins/GA/lib/mutations/providers/copyPasteMutation.jsx","webpack:///./app/plugins/GA/lib/mutations/providers/common/createGroupMutation.jsx","webpack:///./app/plugins/GA/lib/services/createGroupsWithRandomOffset.js","webpack:///./app/plugins/GA/lib/services/Groups.js","webpack:///./app/plugins/GA/lib/mutations/providers/common.js","webpack:///./app/plugins/GA/lib/mutations/providers/orderMutation.js","webpack:///./app/plugins/GA/lib/mutations/providers/reverseMutation.js","webpack:///./app/plugins/GA/lib/mutations/providers/sortMutation.jsx","webpack:///./app/plugins/GA/lib/mutations/providers/sortMutation/calculate.js","webpack:///./app/plugins/GA/lib/mutations/providers/swap2Mutation.jsx","webpack:///./app/plugins/GA/lib/mutations/providers/swapGroupMutation.jsx","webpack:///./app/plugins/GA/lib/mutations/providers/transposeMutation.jsx","webpack:///./app/plugins/GA/lib/mutations/providers/transposeMutation/calculate.js","webpack:///./app/plugins/GA/lib/mutations/providers/upAndDownMutation.jsx","webpack:///./app/plugins/GA/lib/fitness/FitnessProvider.js","webpack:///./app/plugins/GA/lib/fitness/providers nonrecursive Fitness.js","webpack:///./app/plugins/GA/lib/fitness/providers/BasicReferenceFitness.js","webpack:///./app/plugins/GA/lib/utils/normalization.js","webpack:///./app/plugins/GA/lib/fitness/providers/ClusterFitness.js","webpack:///./app/plugins/GA/lib/masks/clusterMask.js","webpack:///./app/plugins/GA/lib/masks/helpers.js","webpack:///./app/plugins/GA/lib/utils/executors.js","webpack:///./app/plugins/GA/lib/fitness/providers/DirectionFitness.js","webpack:///./app/plugins/GA/lib/masks/directionMask.js","webpack:///./app/plugins/GA/lib/fitness/providers/IntervalFitness.js","webpack:///./app/plugins/GA/lib/fitness/providers/IntervalFitness/calculate.js","webpack:///./app/plugins/GA/lib/fitness/providers/IntervalFitness/common.js","webpack:///./app/plugins/GA/lib/fitness/providers/MagnitudeFitness.js","webpack:///./app/plugins/GA/lib/fitness/providers/MagnitudeFitness/calculate.js","webpack:///./app/plugins/GA/lib/fitness/providers/MelodyFitness.js","webpack:///./app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness.js","webpack:///./app/plugins/GA/lib/services/noteSizeDistributionAnalyzer.js","webpack:///./app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateError.js","webpack:///./app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateDiffObject.js","webpack:///./app/plugins/GA/lib/fitness/providers/RodNoteFitness.js","webpack:///./app/plugins/GA/lib/masks/rodNoteMask.js","webpack:///./app/plugins/GA/lib/ga/options.jsx","webpack:///./app/plugins/GA/lib/ga/GARunner.js","webpack:///./app/plugins/GA/lib/Individual.js","webpack:///./app/plugins/GA/lib/ga/GAWorker.js","webpack:///./app/plugins/GA/components/Sheet.jsx","webpack:///./app/plugins/GA/lib/utils/convertToABC.js","webpack:///./app/plugins/GA/components/IndividualsTable.jsx","webpack:///./app/plugins/GA/components/Compositions.jsx","webpack:///./app/plugins/GA/components/Composition.jsx","webpack:///./app/containers/root.jsx","webpack:///./app/store/configureStore.js","webpack:///./app/reducers/index.js","webpack:///./app/plugins/GA/reducers/index.js","webpack:///./app/plugins/GA/utils.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_reactRouter","_root","_root2","_configureStore","_configureStore2","_initialState","_initialState2","console","log","store","window","render","createElement","document","getElementById","25","29","31","Object","values","x","keys","reduce","y","z","push","entries","230","231","_PluginRegister","_PluginRegister2","_Index","_Index2","_Compositions","_Compositions2","_Composition","_Composition2","register","path","component","title","useNav","232","_classCallCheck","instance","Constructor","TypeError","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_routes","_routes2","_nav","_nav2","PluginRegister","this","_ref","_ref$useNav","undefined","childRoutes","233","_App","_App2","routes","234","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_reactBootstrap","_LayoutNavBar","_LayoutNavBar2","_LayoutSideBar","_LayoutSideBar2","_LayoutMain","_LayoutMain2","_Home","_Home2","App","_React$Component","getPrototypeOf","apply","arguments","Grid","fluid","Row","nav","children","Component","235","471","_PlayerControls","_PlayerControls2","LayoutNavBar","Navbar","inverse","fixedTop","toggleNavKey","NavBrand","Link","to","472","_Player","_Player2","PlayerControls","params","_this","onSet","notes","setState","enabled","Boolean","state","className","ButtonGroup","Button","disabled","onClick","play","bind","stop","473","isHold","val","isPause","_soundfontPlayer","_soundfontPlayer2","_instrumentNames","_instrumentNames2","_common","NOTE_LENGTH","Converter","result","forEach","noteCode","duration","note","REFERENCE_TABLE","Player","instrumentName","acoustic_grand_piano","_callbacks","_ctx","AudioContext","_ready","_notes","_prevNotes","_soundfont","_instrument","instrument","_timeout","_isPlaying","onready","convert","slice","_runCallbacks","param","callback","_this2","set","_playInternal","_playTick","_this3","noteItem","shift","_clear","currentTime","setTimeout","clearTimeout","477","instrumentNames","accordion","acoustic_bass","acoustic_guitar_nylon","acoustic_guitar_steel","agogo","alto_sax","applause","bagpipe","banjo","baritone_sax","bassoon","bird_tweet","blown_bottle","brass_section","breath_noise","bright_acoustic_piano","celesta","cello","choir_aahs","church_organ","clarinet","clavinet","contrabass","distortion_guitar","drawbar_organ","dulcimer","electric_bass_finger","electric_bass_pick","electric_grand_piano","electric_guitar_clean","electric_guitar_jazz","electric_guitar_muted","electric_piano_1","electric_piano_2","english_horn","fiddle","flute","french_horn","fretless_bass","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","glockenspiel","guitar_fret_noise","guitar_harmonics","gunshot","harmonica","harpsichord","helicopter","honkytonk_piano","kalimba","koto","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","marimba","melodic_tom","music_box","muted_trumpet","oboe","ocarina","orchestra_hit","orchestral_harp","overdriven_guitar","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","pan_flute","percussive_organ","piccolo","pizzicato_strings","recorder","reed_organ","reverse_cymbal","rock_organ","seashore","shakuhachi","shamisen","shanai","sitar","slap_bass_1","slap_bass_2","soprano_sax","steel_drums","string_ensemble_1","string_ensemble_2","synth_bass_1","synth_bass_2","synth_brass_1","synth_brass_2","synth_choir","synth_drum","synth_strings_1","synth_strings_2","taiko_drum","tango_accordion","telephone_ring","tenor_sax","timpani","tinkle_bell","tremolo_strings","trombone","trumpet","tuba","tubular_bells","vibraphone","viola","violin","voice_oohs","whistle","woodblock","xylophone","478","1","2","3","4","5","6","7","8","9","10","11","12","13","14","479","_reactRouterBootstrap","LayoutSideBar","navItems","map","navItem","LinkContainer","NavItem","Col","sm","md","Nav","483","LayoutMain","mdOffset","smOffset","484","485","_styles","_reactD","_ABCJS","_GAOptions","_GAOptions2","_GARunner","_GARunner2","_Sheet","_Sheet2","_IndividualsTable","_IndividualsTable2","DEFAULT_STATE","working","paused","selected","population","statistics","percentage","best","Index","context","runner","getState","assign","crossover","GA","mutation","options","item","index","content","destroy","onDone","onPause","onProgress","fitnessValue","resume","pause","_state","scoresPanel","progressBar","lineChart","individualsTable","onSelect","select","Panel","header","data","ProgressBar","now","label","bsStyle","viewBoxObject","width","height","LineChart","legend","_createLineChartData","yAxisLabel","xAxisLabel","gridHorizontal","run","name","strokeWidth","strokeDashArray","contextTypes","PropTypes","object","486","544","ABCJS","563","_CrossoverProvider","_MutationProvider","_FitnessProvider","_options","564","CheckboxControl","SliderControl","_utils","BaseControl","Error","e","field","_ref$type","type","Number","checked","onBlur","_BaseControl","onChange","event","_this2$props","defaultValue","blurBinded","stringUtils","camelCaseToHuman","min","max","step","_BaseControl2","_props","actualTitle","defaultChecked","565","checkArray","arr","Array","isArray","checkObj","_typeof","Symbol","iterator","_NotesUtils","get","numberUtils","randomBetween","startIndex","endIndex","Math","floor","random","normalizeValue","maxValue","rem","arrayUtils","last","array","make","getRandomIndexes","count","except","newIndex","indexOf","includes","randomKey","randomElement","findObjectByKey","find","element","hasOwnProperty","objectUtils","str","reg","template","splitter","replace","split","w","firstUpper","join","toUpperCase","toLowerCase","selectionUtils","getRandomKeyByWeight","weights","weight","_roulette","rouletteArray","concat","randomUtils","headsOrTails","objUtils","566","PAUSE","HOLD","NotesUtils","bar","prevIndex","prevValue","ignoreOctaves","567","_createProvider2","_createProvider3","_createProvider","568","createCompositeProvider","providerName","plugins","_createPluginsHash","createPluginsHash","_CompositeCalculateProvider2","initialState","getRunOnce","_createRenderComponent","createRenderComponent","_BaseCalculateProvider","_BaseCalculateProvider2","_CompositeCalculateProvider","randomRun","getRunRandom","569","hash","getInitialState","570","_UIFactory","_index","pluginKey","onblur","dispatch","changeOptions","plugin","innerMarkup","collapsible","571","optionsPath","OPTIONS_CHANGE_ACTION","572","_toConsumableArray","arr2","from","BaseCalculateProvider","allPlugins","_all","_providerName","_registerInStore","_getKeyAndFunction2","_getKeyAndFunction","fn","settings","_len","args","_key","_len2","_key2","_getKeyAndFunction3","argsExtended","_getKey","_getFunction","573","_lodash","_lodash2","CompositeCalculateProvider","_BaseCalculateProvide","MAX_WEIGHT","k","sum","keyWeightRaw","pickBy","keyWeight","mapValues","v","debugKeyWeight","reducer","_important","found","isEmpty","fns","assert","576","577","webpackContext","req","webpackContextResolve","./OnePointCrossover.jsx","./TwoPointCrossover.jsx","resolve","id","578","createPortion","source","point","a","b","aPortions","bPortions","579","firstPoint","secondPoint","aUsed","bUsed","l","580","581","./changeDurationMutation.jsx","./copyPasteMutation.jsx","./orderMutation.js","./reverseMutation.js","./sortMutation.jsx","./swap2Mutation.jsx","./swapGroupMutation.jsx","./transposeMutation.jsx","./upAndDownMutation.jsx","582","_NotesConverter","_NotesConverter2","_Note","_Note2","defaultOptions","ChangeDuration","composition","bars","newBars","countOfIndexes","maxIndex","mutateIndex","mutateNotes","clone","n","_mutateOne","fromBarsToRaw","newA","newB","mutate","583","_MusicContext","_MusicContext2","Composition","raw","barLength","getBarLength","_barLength","_raw","_bars","_updateState","counter","toRaw","toNotes","584","NOTES_IN_OCTAVE","Note","legato","availableValues","isInteger","_value","_length","_legato","ignoreOctave","isNote","howMuch","_changeLength","585","REFERENCE_INDIVIDUAL","586","NotesConverter","_PAUSE","_HOLD","previousNoteValue","pop","587","availableValuesInGF","_SimpleStorage","_SimpleStorage2","DEFAULT_BAR_LENGTH","MusicContext","setCurrent","getCurrent","getCurrentKey","getKeys","getAllCompositions","save","remove","getByKey","getDefault","maxOneOctaveValue","getMaxOneOctaveValue","filter","excludeArray","INTERVAL_REFERENCE","intervalReference","getIntervalReference","temp","arrayToSum","588","FIRMWARE_INDIVIDUAL_KEY","FIRMWARE_INDIVIDUAL","ALL_KEY","CURRENT_KEY","SimpleStorage","_getKeys","unshift","keysRaw","localStorage","getItem","JSON","parse","compositionRaw","stringify","setItem","prevKeys","warn","splice","removeItem","clear","589","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","err","_createGroupMutation","createGroupMutation","groups","_ref2","fromIndexes","toIndexes","copy","590","createCalculate","_inspect","input","depth","maxDepth","maxKeys","indent","repeat","test","_ret","first","every","trim","_createGroupsWithRandomOffset","groupSize","size","groupsCount","fromPercentToValue","validateGroupsInput","createGroupsWithRandomOffset","_getGroupsIndexes","getGroupsIndexes","_getGroupsIndexes2","591","getMaxOffset","maxOffset","offset","_Groups","Groups","592","_defineProperty","_extends","_chunks","_createChunks","second","_arraysToMap","backHash","_ref3","_id3","_ref4","_id4","flatten","_ref5","_id5","firstChunk","rest","chunk","_ref6","_id6","_id7","593","percent","groupsSize","swapIndexes","middle","594","indexes","sorted","sortBy","reverse","595","596","_calculate","COUNT_OF_GENS","getCompositionLength","calculate","597","sort","598","599","swap","600","transposeSize","601","transposeGen","gen","newValue","MAX_GEN_VALUE","g","602","UP_CORNER","DOWN_CORNER","UpAndDownMutation","603","_createCompositeProvi","604","./BasicReferenceFitness.js","./ClusterFitness.js","./DirectionFitness.js","./IntervalFitness.js","./MagnitudeFitness.js","./MelodyFitness.js","./NoteSizePartialFitness.js","./RodNoteFitness.js","605","_normalization","reference","normContent","normalizeNotesDiscrete","normReference","606","normalizer","normalizePitchToOctave","normalizeHolds","MAX_ONE_OCTAVE_VALUE","current","normalizers","normalizerFn","607","_clusterMask","_executors","fitnessExecutor","clusterMask","barEqualityComparer","608","_helpers","maskFactory","threshold","609","barAnalyzer","rawBars","610","extractor","comparer","611","_directionMask","directionAnalyzer","612","getDirection","DIRECTION","STABLE","DOWN","UP","calculateFrequencies","_storage","storage","NONE","chain","currentDirection","prev","direction","directionForBar","_ref2$size","DEFAULT_SIZE","_ref2$spread","spread","MIN_SPREAD","cleanedBar","frequencies","descSortedFrequencies","_descSortedFrequencie","613","_calculate2","fitness","614","intervalValuesWeight","intervalDispersionWeight","IntervalFitness","_referenceValues","_normalizeOptions","contentPitch","notesUtils","toPitch","referencePitch","contentValues","_calculateIntervalValues","_calculateFitness","isNumber","contentMaxIndex","averageSum","dispersionSum","some","aRef","average","dRef","dispersion","_contentValues$i","abs","MAX_AVERAGE_DIFF","MAX_DISPERSION_DIFF","_calculateIntervalValuesForBar","pitchesBar","valuesArray","getValueBetweenNotes","pow","615","getIntervalValue","interval","INTERVAL_TYPE_VALUES","PERFECT_CONSONANTS","IMPERFECT_CONSONANTS","SECONDS","SEVENTH","GRATER_THAN_OCTAVE","-1","noteA","noteB","mode","halfTones","getHalfTonesBeetween","intervalValue","616","617","BIT_VALUES","MAX_DISTANCE","MagnitudeFitness","bitValue","_getBitValue","refValue","contentValue","distance","_normalize","start","618","619","_noteSizeDistributionAnalyzer","_calculateError","referenceAnalysis","noteSizeDistributionAnalyzer","contentAnalysis","contentBar","error","calculateError","620","calculateDistributionForBar","ignorePauses","621","_calculateDiffObject","objA","objB","calculateDiffObject","622","barA","barB","diff","difference","623","_rodNoteMask","rodNoteAnalyzer","referenceByBar","contentByBar","subStep","subReducer","subValue","subIndex","624","rodNoteForBar","ROD_TYPE","_ROD_MASK","FIRST","TWO","FOUR","FIRST_AND_LAST","ROD_MASK","_ref$rodeType","rodeType","625","NAMESPACE","maxIterations","deathLimit","mutationProbability","useRandomInitialIndividuals","countOfBestToLiveThrought","stopOnEndOfIterations","createSliderFactory","createSlider","defaultExpanded","626","_Individual","_Individual2","_GAWorker","_GAWorker2","GARunner","getCurrentComposition","_worker","onmessage","_createOnMessage","postMessage","action","onerror","terminate","_ref$data","fromDTO","_population","627","Individual","referenceIndividual","contentToStart","useRandomToStart","_context","_reference","_content","_fitnessValue","someone","newContent","c","d","628","Worker","p","629","_ABCJS2","_convertToABC","_convertToABC2","Sheet","_element","refs","abcjs","_initializeWidget","nextProps","ref","renderAbc","scale","630","createNote","noteIndex","referenceTable","convertToABC","answer","defaultHeader","previousNote","631","IndividualsTable","selectedIndex","Table","striped","bordered","condensed","hover","renderItem","classes","toFixed","632","DEFAULT","Compositions","selectComposition","currentKey","compositions","nameRaw","isValidName","Glyphicon","glyph","renderCompositionItem","Input","onNameChange","633","compositionToString","invalidName","invalidComposition","isDefault","rawArray","isNaN","location","converted","_convert","compositionKey","style","634","_reactRedux","Root","_Component","Provider","Router","635","configureStore","_redux","createStore","_reducers2","_reducers","636","rootReducer","combineReducers","637","createPluginsReducer","638","_toArray","createDeepProperty","stopIndex","currentIndex","namespace","fullState","_action$optionsPath","newFragment","merge"],"mappings":"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","file":"app.eb2c19e92dda84937c6c.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(25);\n\t\n\t__webpack_require__(29);\n\t\n\t__webpack_require__(31);\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(183);\n\t\n\tvar _reactRouter = __webpack_require__(184);\n\t\n\tvar _reactRouter2 = _interopRequireDefault(_reactRouter);\n\t\n\t__webpack_require__(230);\n\t\n\tvar _root = __webpack_require__(634);\n\t\n\tvar _root2 = _interopRequireDefault(_root);\n\t\n\tvar _configureStore = __webpack_require__(635);\n\t\n\tvar _configureStore2 = _interopRequireDefault(_configureStore);\n\t\n\tvar _initialState = __webpack_require__(576);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//APP\n\t\n\t\n\t//LIBS\n\t\n\t\n\tconsole.log(_initialState2.default);\n\tvar store = (0, _configureStore2.default)(_initialState2.default);\n\t\n\twindow.store = store;\n\t\n\t(0, _reactDom.render)(_react2.default.createElement(_root2.default, { store: store }), document.getElementById('root'));\n\n/***/ },\n\n/***/ 25:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 29:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 31:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.values = function (x) {\n\t    return Object.keys(x).reduce(function (y, z) {\n\t        return y.push(x[z]) && y;\n\t    }, []);\n\t};\n\t\n\tObject.entries = function (x) {\n\t    return Object.keys(x).reduce(function (y, z) {\n\t        return y.push([z, x[z]]) && y;\n\t    }, []);\n\t};\n\n/***/ },\n\n/***/ 230:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(231);\n\n/***/ },\n\n/***/ 231:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _PluginRegister = __webpack_require__(232);\n\t\n\tvar _PluginRegister2 = _interopRequireDefault(_PluginRegister);\n\t\n\tvar _Index = __webpack_require__(485);\n\t\n\tvar _Index2 = _interopRequireDefault(_Index);\n\t\n\tvar _Compositions = __webpack_require__(632);\n\t\n\tvar _Compositions2 = _interopRequireDefault(_Compositions);\n\t\n\tvar _Composition = __webpack_require__(633);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_PluginRegister2.default.register({\n\t\tpath: '/ga_by_reference',\n\t\tcomponent: _Index2.default,\n\t\ttitle: 'Genetic Algorithms (reference)'\n\t});\n\t\n\t_PluginRegister2.default.register({\n\t\tpath: '/compositions',\n\t\tcomponent: _Compositions2.default,\n\t\ttitle: 'Manage compositions'\n\t});\n\t\n\t_PluginRegister2.default.register({\n\t\tpath: '/compositions/:composition',\n\t\tcomponent: _Composition2.default,\n\t\ttitle: 'Manage compositions',\n\t\tuseNav: false\n\t});\n\n/***/ },\n\n/***/ 232:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _routes = __webpack_require__(233);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\tvar _nav = __webpack_require__(235);\n\t\n\tvar _nav2 = _interopRequireDefault(_nav);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// TODO: reimplement singleton to context\n\t\n\t/**\r\n\t * @description Used to register plugins in app.\r\n\t * Also provides a link in navigation sidebar\r\n\t */\n\t\n\tvar PluginRegister = function () {\n\t\tfunction PluginRegister() {\n\t\t\t_classCallCheck(this, PluginRegister);\n\t\t}\n\t\n\t\t_createClass(PluginRegister, [{\n\t\t\tkey: 'register',\n\t\n\t\t\t/**\r\n\t   * @param {Object} options\r\n\t   * @param {string} options.path\r\n\t   * @param {React.Component} options.component\r\n\t   * @param {string} options.title \r\n\t   * @param {Boolean} [options.useNav=true]\r\n\t   * @return {void}\r\n\t   */\n\t\t\tvalue: function register(_ref) {\n\t\t\t\tvar path = _ref.path;\n\t\t\t\tvar component = _ref.component;\n\t\t\t\tvar title = _ref.title;\n\t\t\t\tvar _ref$useNav = _ref.useNav;\n\t\t\t\tvar useNav = _ref$useNav === undefined ? true : _ref$useNav;\n\t\n\t\t\t\tuseNav && _nav2.default.push({ path: path, title: title });\n\t\t\t\t_routes2.default.childRoutes.push({ path: path, component: component });\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn PluginRegister;\n\t}();\n\t\n\texports.default = new PluginRegister();\n\n/***/ },\n\n/***/ 233:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _App = __webpack_require__(234);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar routes = {\n\t\tpath: '/',\n\t\tcomponent: _App2.default,\n\t\tchildRoutes: []\n\t};\n\t\n\texports.default = routes;\n\n/***/ },\n\n/***/ 234:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(184);\n\t\n\tvar _nav = __webpack_require__(235);\n\t\n\tvar _nav2 = _interopRequireDefault(_nav);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _LayoutNavBar = __webpack_require__(471);\n\t\n\tvar _LayoutNavBar2 = _interopRequireDefault(_LayoutNavBar);\n\t\n\tvar _LayoutSideBar = __webpack_require__(479);\n\t\n\tvar _LayoutSideBar2 = _interopRequireDefault(_LayoutSideBar);\n\t\n\tvar _LayoutMain = __webpack_require__(483);\n\t\n\tvar _LayoutMain2 = _interopRequireDefault(_LayoutMain);\n\t\n\tvar _Home = __webpack_require__(484);\n\t\n\tvar _Home2 = _interopRequireDefault(_Home);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar App = function (_React$Component) {\n\t\t_inherits(App, _React$Component);\n\t\n\t\tfunction App() {\n\t\t\t_classCallCheck(this, App);\n\t\n\t\t\treturn _possibleConstructorReturn(this, Object.getPrototypeOf(App).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(App, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(_LayoutNavBar2.default, null),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Row,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(_LayoutSideBar2.default, { nav: _nav2.default }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_LayoutMain2.default,\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tthis.props.children || _react2.default.createElement(_Home2.default, null)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn App;\n\t}(_react2.default.Component);\n\t\n\texports.default = App;\n\n/***/ },\n\n/***/ 235:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Array<{title: string, path: string}>\r\n\t */\n\tvar nav = [];\n\tnav.push({\n\t  title: 'Home',\n\t  path: '/'\n\t});\n\texports.default = nav;\n\n/***/ },\n\n/***/ 471:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _PlayerControls = __webpack_require__(472);\n\t\n\tvar _PlayerControls2 = _interopRequireDefault(_PlayerControls);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _reactRouter = __webpack_require__(184);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LayoutNavBar = function (_React$Component) {\n\t\t_inherits(LayoutNavBar, _React$Component);\n\t\n\t\tfunction LayoutNavBar() {\n\t\t\t_classCallCheck(this, LayoutNavBar);\n\t\n\t\t\treturn _possibleConstructorReturn(this, Object.getPrototypeOf(LayoutNavBar).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(LayoutNavBar, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Navbar,\n\t\t\t\t\t{ inverse: true, fixedTop: true, toggleNavKey: 0 },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.NavBrand,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactRouter.Link,\n\t\t\t\t\t\t\t{ to: '#/' },\n\t\t\t\t\t\t\t'GA-APP 5'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(_PlayerControls2.default, null)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn LayoutNavBar;\n\t}(_react2.default.Component);\n\t\n\texports.default = LayoutNavBar;\n\n/***/ },\n\n/***/ 472:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Player = __webpack_require__(473);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar PlayerControls = function (_React$Component) {\n\t\t_inherits(PlayerControls, _React$Component);\n\t\n\t\tfunction PlayerControls(params) {\n\t\t\t_classCallCheck(this, PlayerControls);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PlayerControls).call(this, params));\n\t\n\t\t\t_Player2.default.onSet(function (notes) {\n\t\t\t\t_this.setState({\n\t\t\t\t\tenabled: Boolean(notes)\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\t_this.state = {\n\t\t\t\tenabled: false\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(PlayerControls, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'form',\n\t\t\t\t\t{ className: 'navbar-form navbar-left' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.ButtonGroup,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ disabled: !this.state.enabled, onClick: this.play.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-play' })\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ disabled: !this.state.enabled, onClick: this.stop.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-stop' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'play',\n\t\t\tvalue: function play() {\n\t\t\t\t_Player2.default.play();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'stop',\n\t\t\tvalue: function stop() {\n\t\t\t\t_Player2.default.stop();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn PlayerControls;\n\t}(_react2.default.Component);\n\t\n\texports.default = PlayerControls;\n\n/***/ },\n\n/***/ 473:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _soundfontPlayer = __webpack_require__(474);\n\t\n\tvar _soundfontPlayer2 = _interopRequireDefault(_soundfontPlayer);\n\t\n\tvar _instrumentNames = __webpack_require__(477);\n\t\n\tvar _instrumentNames2 = _interopRequireDefault(_instrumentNames);\n\t\n\tvar _common = __webpack_require__(478);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction isHold(val) {\n\t\treturn val === -1;\n\t}\n\t\n\tfunction isPause(val) {\n\t\treturn val === 0;\n\t}\n\t\n\tfunction isNote(val) {\n\t\treturn val > 1 && val < 15;\n\t}\n\t\n\tvar NOTE_LENGTH = 0.2; // 1/8 is 300ms const for now TODO: move to options\n\t\n\tvar Converter = function () {\n\t\tfunction Converter() {\n\t\t\t_classCallCheck(this, Converter);\n\t\t}\n\t\n\t\t_createClass(Converter, null, [{\n\t\t\tkey: 'convert',\n\t\n\t\t\t//notes is Array<number> where number -1, .. , 15\n\t\t\tvalue: function convert(notes) {\n\t\t\t\tvar result = [];\n\t\n\t\t\t\tnotes.forEach(function (noteCode) {\n\t\t\t\t\tif (isHold(noteCode) && result.length) {\n\t\t\t\t\t\tresult[result.length - 1].duration += NOTE_LENGTH;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (isPause(noteCode)) {\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\tnote: null,\n\t\t\t\t\t\t\tduration: NOTE_LENGTH\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tnote: _common.REFERENCE_TABLE[noteCode],\n\t\t\t\t\t\tduration: NOTE_LENGTH\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Converter;\n\t}();\n\t\n\t//this._instrument.play(note, time, duration);\n\t\n\t\n\tvar Player = function () {\n\t\tfunction Player() {\n\t\t\tvar _this = this;\n\t\n\t\t\tvar instrumentName = arguments.length <= 0 || arguments[0] === undefined ? _instrumentNames2.default.acoustic_grand_piano : arguments[0];\n\t\n\t\t\t_classCallCheck(this, Player);\n\t\n\t\t\tthis._callbacks = [];\n\t\t\tthis._ctx = new AudioContext();\n\t\t\tthis._ready = false;\n\t\t\tthis._notes = [];\n\t\t\tthis._prevNotes = [];\n\t\t\tthis._soundfont = new _soundfontPlayer2.default(this._ctx);\n\t\t\tthis._instrument = this._soundfont.instrument(instrumentName);\n\t\t\tthis._timeout = null;\n\t\n\t\t\tthis._isPlaying = false;\n\t\t\tthis._instrument.onready(function () {\n\t\t\t\treturn _this._ready = true;\n\t\t\t});\n\t\t}\n\t\n\t\t_createClass(Player, [{\n\t\t\tkey: 'set',\n\t\t\tvalue: function set(notes) {\n\t\t\t\tthis._notes = Converter.convert(notes);\n\t\t\t\tthis._prevNotes = this._notes.slice();\n\t\t\t\tthis._runCallbacks(notes);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_runCallbacks',\n\t\t\tvalue: function _runCallbacks(param) {\n\t\t\t\tif (this._callbacks.length) {\n\t\t\t\t\tthis._callbacks.forEach(function (callback) {\n\t\t\t\t\t\tcallback(param);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'onSet',\n\t\t\tvalue: function onSet(callback) {\n\t\t\t\tthis._callbacks.push(callback);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'offSet',\n\t\t\tvalue: function offSet() {\n\t\t\t\tthis._callbacks = [];\n\t\t\t}\n\t\n\t\t\t//notes is Array<number> where number -1, .. , 15\n\t\n\t\t}, {\n\t\t\tkey: 'play',\n\t\t\tvalue: function play(notes) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tif (notes) {\n\t\t\t\t\tthis.set(notes);\n\t\t\t\t}\n\t\n\t\t\t\tif (this._ready) {\n\t\t\t\t\tthis._playInternal();\n\t\t\t\t} else {\n\t\t\t\t\tthis._instrument.onready(function () {\n\t\t\t\t\t\treturn _this2._playInternal();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'clear',\n\t\t\tvalue: function clear() {\n\t\t\t\tthis._notes = [];\n\t\t\t\tthis._prevNotes = [];\n\t\t\t\tthis._runCallbacks(null);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_playInternal',\n\t\t\tvalue: function _playInternal() {\n\t\t\t\tthis._isPlaying = true;\n\t\t\t\tthis._notes = this._prevNotes.slice();\n\t\t\t\tthis._playTick();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_playTick',\n\t\t\tvalue: function _playTick() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\tvar noteItem = this._notes.shift();\n\t\n\t\t\t\tif (!noteItem || !this._isPlaying) {\n\t\t\t\t\tthis._clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar note = noteItem.note;\n\t\t\t\tvar duration = noteItem.duration;\n\t\n\t\t\t\tthis._instrument.play(note, this._ctx.currentTime);\n\t\t\t\tthis._timeout = setTimeout(function () {\n\t\t\t\t\treturn _this3._playTick();\n\t\t\t\t}, duration * 1000); // timeout use mileseconds while we put second into noteItem\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_clear',\n\t\t\tvalue: function _clear() {\n\t\t\t\tclearTimeout(this._timeout);\n\t\t\t\tthis._timeout = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'stop',\n\t\t\tvalue: function stop() {\n\t\t\t\tthis._isPlaying = false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Player;\n\t}();\n\t\n\texports.default = new Player();\n\n/***/ },\n\n/***/ 477:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar instrumentNames = {\n\t\taccordion: 'accordion',\n\t\tacoustic_bass: 'acoustic_bass',\n\t\tacoustic_grand_piano: 'acoustic_grand_piano',\n\t\tacoustic_guitar_nylon: 'acoustic_guitar_nylon',\n\t\tacoustic_guitar_steel: 'acoustic_guitar_steel',\n\t\tagogo: 'agogo',\n\t\talto_sax: 'alto_sax',\n\t\tapplause: 'applause',\n\t\tbagpipe: 'bagpipe',\n\t\tbanjo: 'banjo',\n\t\tbaritone_sax: 'baritone_sax',\n\t\tbassoon: 'bassoon',\n\t\tbird_tweet: 'bird_tweet',\n\t\tblown_bottle: 'blown_bottle',\n\t\tbrass_section: 'brass_section',\n\t\tbreath_noise: 'breath_noise',\n\t\tbright_acoustic_piano: 'bright_acoustic_piano',\n\t\tcelesta: 'celesta',\n\t\tcello: 'cello',\n\t\tchoir_aahs: 'choir_aahs',\n\t\tchurch_organ: 'church_organ',\n\t\tclarinet: 'clarinet',\n\t\tclavinet: 'clavinet',\n\t\tcontrabass: 'contrabass',\n\t\tdistortion_guitar: 'distortion_guitar',\n\t\tdrawbar_organ: 'drawbar_organ',\n\t\tdulcimer: 'dulcimer',\n\t\telectric_bass_finger: 'electric_bass_finger',\n\t\telectric_bass_pick: 'electric_bass_pick',\n\t\telectric_grand_piano: 'electric_grand_piano',\n\t\telectric_guitar_clean: 'electric_guitar_clean',\n\t\telectric_guitar_jazz: 'electric_guitar_jazz',\n\t\telectric_guitar_muted: 'electric_guitar_muted',\n\t\telectric_piano_1: 'electric_piano_1',\n\t\telectric_piano_2: 'electric_piano_2',\n\t\tenglish_horn: 'english_horn',\n\t\tfiddle: 'fiddle',\n\t\tflute: 'flute',\n\t\tfrench_horn: 'french_horn',\n\t\tfretless_bass: 'fretless_bass',\n\t\tfx_1_rain: 'fx_1_rain',\n\t\tfx_2_soundtrack: 'fx_2_soundtrack',\n\t\tfx_3_crystal: 'fx_3_crystal',\n\t\tfx_4_atmosphere: 'fx_4_atmosphere',\n\t\tfx_5_brightness: 'fx_5_brightness',\n\t\tfx_6_goblins: 'fx_6_goblins',\n\t\tfx_7_echoes: 'fx_7_echoes',\n\t\tfx_8_scifi: 'fx_8_scifi',\n\t\tglockenspiel: 'glockenspiel',\n\t\tguitar_fret_noise: 'guitar_fret_noise',\n\t\tguitar_harmonics: 'guitar_harmonics',\n\t\tgunshot: 'gunshot',\n\t\tharmonica: 'harmonica',\n\t\tharpsichord: 'harpsichord',\n\t\thelicopter: 'helicopter',\n\t\thonkytonk_piano: 'honkytonk_piano',\n\t\tkalimba: 'kalimba',\n\t\tkoto: 'koto',\n\t\tlead_1_square: 'lead_1_square',\n\t\tlead_2_sawtooth: 'lead_2_sawtooth',\n\t\tlead_3_calliope: 'lead_3_calliope',\n\t\tlead_4_chiff: 'lead_4_chiff',\n\t\tlead_5_charang: 'lead_5_charang',\n\t\tlead_6_voice: 'lead_6_voice',\n\t\tlead_7_fifths: 'lead_7_fifths',\n\t\tlead_8_bass__lead: 'lead_8_bass__lead',\n\t\tmarimba: 'marimba',\n\t\tmelodic_tom: 'melodic_tom',\n\t\tmusic_box: 'music_box',\n\t\tmuted_trumpet: 'muted_trumpet',\n\t\toboe: 'oboe',\n\t\tocarina: 'ocarina',\n\t\torchestra_hit: 'orchestra_hit',\n\t\torchestral_harp: 'orchestral_harp',\n\t\toverdriven_guitar: 'overdriven_guitar',\n\t\tpad_1_new_age: 'pad_1_new_age',\n\t\tpad_2_warm: 'pad_2_warm',\n\t\tpad_3_polysynth: 'pad_3_polysynth',\n\t\tpad_4_choir: 'pad_4_choir',\n\t\tpad_5_bowed: 'pad_5_bowed',\n\t\tpad_6_metallic: 'pad_6_metallic',\n\t\tpad_7_halo: 'pad_7_halo',\n\t\tpad_8_sweep: 'pad_8_sweep',\n\t\tpan_flute: 'pan_flute',\n\t\tpercussive_organ: 'percussive_organ',\n\t\tpiccolo: 'piccolo',\n\t\tpizzicato_strings: 'pizzicato_strings',\n\t\trecorder: 'recorder',\n\t\treed_organ: 'reed_organ',\n\t\treverse_cymbal: 'reverse_cymbal',\n\t\trock_organ: 'rock_organ',\n\t\tseashore: 'seashore',\n\t\tshakuhachi: 'shakuhachi',\n\t\tshamisen: 'shamisen',\n\t\tshanai: 'shanai',\n\t\tsitar: 'sitar',\n\t\tslap_bass_1: 'slap_bass_1',\n\t\tslap_bass_2: 'slap_bass_2',\n\t\tsoprano_sax: 'soprano_sax',\n\t\tsteel_drums: 'steel_drums',\n\t\tstring_ensemble_1: 'string_ensemble_1',\n\t\tstring_ensemble_2: 'string_ensemble_2',\n\t\tsynth_bass_1: 'synth_bass_1',\n\t\tsynth_bass_2: 'synth_bass_2',\n\t\tsynth_brass_1: 'synth_brass_1',\n\t\tsynth_brass_2: 'synth_brass_2',\n\t\tsynth_choir: 'synth_choir',\n\t\tsynth_drum: 'synth_drum',\n\t\tsynth_strings_1: 'synth_strings_1',\n\t\tsynth_strings_2: 'synth_strings_2',\n\t\ttaiko_drum: 'taiko_drum',\n\t\ttango_accordion: 'tango_accordion',\n\t\ttelephone_ring: 'telephone_ring',\n\t\ttenor_sax: 'tenor_sax',\n\t\ttimpani: 'timpani',\n\t\ttinkle_bell: 'tinkle_bell',\n\t\ttremolo_strings: 'tremolo_strings',\n\t\ttrombone: 'trombone',\n\t\ttrumpet: 'trumpet',\n\t\ttuba: 'tuba',\n\t\ttubular_bells: 'tubular_bells',\n\t\tvibraphone: 'vibraphone',\n\t\tviola: 'viola',\n\t\tviolin: 'violin',\n\t\tvoice_oohs: 'voice_oohs',\n\t\twhistle: 'whistle',\n\t\twoodblock: 'woodblock',\n\t\txylophone: 'xylophone'\n\t};\n\t\n\texports.default = instrumentNames;\n\n/***/ },\n\n/***/ 478:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar REFERENCE_TABLE = exports.REFERENCE_TABLE = {\n\t\t1: 'C3',\n\t\t2: 'D3',\n\t\t3: 'E3',\n\t\t4: 'F3',\n\t\t5: 'G3',\n\t\t6: 'A3',\n\t\t7: 'B3',\n\t\t8: 'C4',\n\t\t9: 'D4',\n\t\t10: 'E4',\n\t\t11: 'F4',\n\t\t12: 'G4',\n\t\t13: 'A4',\n\t\t14: 'B4'\n\t};\n\n/***/ },\n\n/***/ 479:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(184);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _reactRouterBootstrap = __webpack_require__(480);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t//import nav from '../../nav.js';\n\t\n\t\n\tvar LayoutSideBar = function (_React$Component) {\n\t    _inherits(LayoutSideBar, _React$Component);\n\t\n\t    function LayoutSideBar() {\n\t        _classCallCheck(this, LayoutSideBar);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(LayoutSideBar).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(LayoutSideBar, [{\n\t        key: 'render',\n\t        value: function render() {\n\t\n\t            var navItems = this.props.nav.map(function (navItem) {\n\t                return _react2.default.createElement(\n\t                    _reactRouterBootstrap.LinkContainer,\n\t                    { key: navItem.path, to: navItem.path },\n\t                    _react2.default.createElement(\n\t                        _reactBootstrap.NavItem,\n\t                        null,\n\t                        navItem.title\n\t                    )\n\t                );\n\t            });\n\t\n\t            return _react2.default.createElement(\n\t                _reactBootstrap.Col,\n\t                { sm: 3, md: 2, className: 'sidebar' },\n\t                _react2.default.createElement(\n\t                    _reactBootstrap.Nav,\n\t                    { className: 'nav-sidebar' },\n\t                    navItems\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return LayoutSideBar;\n\t}(_react2.default.Component);\n\t\n\texports.default = LayoutSideBar;\n\n/***/ },\n\n/***/ 483:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LayoutMain = function (_React$Component) {\n\t\t_inherits(LayoutMain, _React$Component);\n\t\n\t\tfunction LayoutMain() {\n\t\t\t_classCallCheck(this, LayoutMain);\n\t\n\t\t\treturn _possibleConstructorReturn(this, Object.getPrototypeOf(LayoutMain).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(LayoutMain, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t{ sm: 9, md: 10, mdOffset: 2, smOffset: 3, className: 'main' },\n\t\t\t\t\tthis.props.children\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn LayoutMain;\n\t}(_react2.default.Component);\n\t\n\texports.default = LayoutMain;\n\n/***/ },\n\n/***/ 484:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function () {\n\t\treturn _react2.default.createElement(\n\t\t\t'h1',\n\t\t\tnull,\n\t\t\t'It is home'\n\t\t);\n\t};\n\n/***/ },\n\n/***/ 485:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _styles = __webpack_require__(486);\n\t\n\tvar _styles2 = _interopRequireDefault(_styles);\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _reactD = __webpack_require__(488);\n\t\n\tvar _ABCJS = __webpack_require__(544);\n\t\n\tvar _ABCJS2 = _interopRequireDefault(_ABCJS);\n\t\n\tvar _reactRedux = __webpack_require__(545);\n\t\n\tvar _Player = __webpack_require__(473);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _GAOptions = __webpack_require__(563);\n\t\n\tvar _GAOptions2 = _interopRequireDefault(_GAOptions);\n\t\n\tvar _GARunner = __webpack_require__(626);\n\t\n\tvar _GARunner2 = _interopRequireDefault(_GARunner);\n\t\n\tvar _Sheet = __webpack_require__(629);\n\t\n\tvar _Sheet2 = _interopRequireDefault(_Sheet);\n\t\n\tvar _IndividualsTable = __webpack_require__(631);\n\t\n\tvar _IndividualsTable2 = _interopRequireDefault(_IndividualsTable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //styles\n\t\n\t\n\t//libs\n\t\n\t\n\t//Components\n\t\n\t\n\tvar DEFAULT_STATE = {\n\t\tworking: false, // calculate process is execution\n\t\tpaused: false,\n\t\tselected: null,\n\t\tpopulation: [],\n\t\tstatistics: [],\n\t\tpercentage: 0,\n\t\tbest: null\n\t};\n\t\n\t// TODO: read crossover options from redux state\n\t\n\tvar Index = function (_React$Component) {\n\t\t_inherits(Index, _React$Component);\n\t\n\t\tfunction Index(params, context) {\n\t\t\t_classCallCheck(this, Index);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Index).call(this, params));\n\t\n\t\t\t_this.runner = null;\n\t\n\t\t\tvar state = context.store.getState();\n\t\n\t\t\t// TODO: put options state in namespace? or grab it from?\n\t\t\t_this.state = Object.assign({}, DEFAULT_STATE,\n\t\t\t// TODO: why i put this in state?\n\t\t\t{\n\t\t\t\tcrossover: state.GA.crossover,\n\t\t\t\tmutation: state.GA.mutation,\n\t\t\t\toptions: state.GA.options\n\t\t\t});\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Index, [{\n\t\t\tkey: 'select',\n\t\t\tvalue: function select(item, index) {\n\t\t\t\t_Player2.default.set(item.content);\n\t\t\t\tthis.setState({\n\t\t\t\t\tselected: item.content\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'run',\n\t\t\tvalue: function run() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\t// Update UI with default values\n\t\t\t\tthis.setState({\n\t\t\t\t\tworking: true,\n\t\t\t\t\tselected: null,\n\t\t\t\t\tpopulation: [],\n\t\t\t\t\tstatistics: [],\n\t\t\t\t\tbest: 0,\n\t\t\t\t\tpercentage: 0\n\t\t\t\t});\n\t\n\t\t\t\t// Delete old runner if it is\n\t\t\t\tif (this.runner) {\n\t\t\t\t\tthis.runner.destroy();\n\t\t\t\t}\n\t\n\t\t\t\t// New Runner\n\t\t\t\tvar onDone = function onDone(population) {\n\t\t\t\t\treturn _this2.setState({ population: population, working: false, paused: false });\n\t\t\t\t}; // onDone back to default state\n\t\t\t\tvar onPause = function onPause(population) {\n\t\t\t\t\treturn _this2.setState({ population: population });\n\t\t\t\t};\n\t\t\t\tvar onProgress = function onProgress(_ref) {\n\t\t\t\t\tvar percentage = _ref.percentage;\n\t\t\t\t\tvar best = _ref.best;\n\t\n\t\t\t\t\tvar statistics = _this2.state.statistics;\n\t\n\t\t\t\t\tstatistics.push({\n\t\t\t\t\t\tx: percentage,\n\t\t\t\t\t\ty: best.fitnessValue * 100\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_this2.setState({ best: best, percentage: percentage, statistics: statistics });\n\t\t\t\t};\n\t\n\t\t\t\tvar options = this.context.store.getState().GA;\n\t\t\t\tthis.runner = new _GARunner2.default(options, onDone, onProgress, onPause);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'resume',\n\t\t\tvalue: function resume() {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpaused: false\n\t\t\t\t});\n\t\t\t\tthis.runner && this.runner.resume();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'pause',\n\t\t\tvalue: function pause() {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpaused: true\n\t\t\t\t});\n\t\t\t\tthis.runner && this.runner.pause();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'stop',\n\t\t\tvalue: function stop() {\n\t\t\t\tthis.runner && this.runner.stop();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar store = this.context.store;\n\t\n\t\t\t\tvar style = {\n\t\t\t\t\tmarginTop: '10px'\n\t\t\t\t};\n\t\t\t\tvar _state = this.state;\n\t\t\t\tvar paused = _state.paused;\n\t\t\t\tvar working = _state.working;\n\t\n\t\n\t\t\t\tvar scoresPanel = null;\n\t\t\t\tvar progressBar = null;\n\t\t\t\tvar lineChart = null;\n\t\t\t\tvar best = null;\n\t\t\t\tvar individualsTable = null;\n\t\n\t\t\t\tif (this.state.population.length) {\n\t\t\t\t\tindividualsTable = _react2.default.createElement(_IndividualsTable2.default, {\n\t\t\t\t\t\tpopulation: this.state.population,\n\t\t\t\t\t\tonSelect: this.select.bind(this) });\n\t\t\t\t}\n\t\n\t\t\t\t// Panels\n\t\t\t\tif (this.state.selected) {\n\t\t\t\t\tscoresPanel = _react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t\t{ header: 'Scores' },\n\t\t\t\t\t\t_react2.default.createElement(_Sheet2.default, { data: this.state.selected })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\t// ProgressBar\n\t\t\t\tif (this.state.percentage) {\n\t\t\t\t\tprogressBar = _react2.default.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'progress-bar-wrapper' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'h3',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Progress: '\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.ProgressBar, { now: this.state.percentage | 0, label: '%(percent)s%' })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\t// Best Guys ProgressBar\n\t\t\t\tif (this.state.best) {\n\t\t\t\t\tbest = _react2.default.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'progress-bar-wrapper' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'h3',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Best: '\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.ProgressBar, { bsStyle: 'success', now: this.state.best.fitnessValue * 100 | 0, label: '%(percent)s%', key: '1' })\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\t// Graph of Progress\n\t\t\t\tif (this.state.statistics && this.state.statistics.length) {\n\t\t\t\t\tvar viewBoxObject = {\n\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\twidth: 500,\n\t\t\t\t\t\theight: 400\n\t\t\t\t\t};\n\t\t\t\t\tlineChart = _react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t\t{ header: 'Graph' },\n\t\t\t\t\t\t_react2.default.createElement(_reactD.LineChart, {\n\t\t\t\t\t\t\tlegend: true,\n\t\t\t\t\t\t\tdata: this._createLineChartData(this.state.statistics),\n\t\t\t\t\t\t\twidth: 800,\n\t\t\t\t\t\t\theight: 400,\n\t\t\t\t\t\t\tviewBoxObject: viewBoxObject,\n\t\t\t\t\t\t\ttitle: 'Line Chart',\n\t\t\t\t\t\t\tyAxisLabel: 'Altitude',\n\t\t\t\t\t\t\txAxisLabel: 'Elapsed Time (sec)',\n\t\t\t\t\t\t\tgridHorizontal: true\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Row,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 8, md: 8 },\n\t\t\t\t\t\t\tlineChart,\n\t\t\t\t\t\t\tscoresPanel,\n\t\t\t\t\t\t\t_react2.default.createElement(_GAOptions2.default, { store: store })\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 4, md: 4 },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t\t\t\t{ header: 'Population' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t_reactBootstrap.ButtonGroup,\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\tworking ? paused ? _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t\t\t{ bsStyle: 'success', onClick: this.resume.bind(this) },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-play' })\n\t\t\t\t\t\t\t\t\t) : _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t\t\t{ bsStyle: 'warning', onClick: this.pause.bind(this) },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-pause' })\n\t\t\t\t\t\t\t\t\t) : _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t\t\t{ bsStyle: 'success', onClick: this.run.bind(this) },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-play' })\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t\t\t{ bsStyle: 'danger', onClick: this.stop.bind(this) },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-stop' })\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tbest,\n\t\t\t\t\t\t\t\tprogressBar,\n\t\t\t\t\t\t\t\tindividualsTable\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\t// TODO: move to separate module wrapper on linechart\n\t\n\t\t}, {\n\t\t\tkey: '_createLineChartData',\n\t\t\tvalue: function _createLineChartData(data) {\n\t\t\t\treturn [{\n\t\t\t\t\tname: 'series1',\n\t\t\t\t\tvalues: data,\n\t\t\t\t\tstrokeWidth: 3,\n\t\t\t\t\tstrokeDashArray: '5,5'\n\t\t\t\t}];\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Index;\n\t}(_react2.default.Component);\n\t// TODO: redo with react-redux connect later on\n\t\n\t\n\texports.default = Index;\n\tIndex.contextTypes = {\n\t\tstore: _react2.default.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 486:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 544:\n/***/ function(module, exports) {\n\n\tmodule.exports = ABCJS;\n\n/***/ },\n\n/***/ 563:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _CrossoverProvider = __webpack_require__(567);\n\t\n\tvar _MutationProvider = __webpack_require__(580);\n\t\n\tvar _FitnessProvider = __webpack_require__(603);\n\t\n\tvar _options = __webpack_require__(625);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*\r\n\tshould call render methods on UIProviders\r\n\t\r\n\timport ProvidersContext from 'providers-context';\r\n\t\r\n\tProvidersContext.forEach(() => )\r\n\t */\n\t\n\texports.default = function (_ref) {\n\t    var store = _ref.store;\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(_options.render, { store: store }),\n\t        _react2.default.createElement(_CrossoverProvider.Component, { store: store }),\n\t        _react2.default.createElement(_MutationProvider.Component, { store: store }),\n\t        _react2.default.createElement(_FitnessProvider.Component, { store: store })\n\t    );\n\t};\n\t\n\t// Local\n\t// 3d Party\n\n/***/ },\n\n/***/ 564:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.CheckboxControl = exports.SliderControl = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BaseControl = function (_React$Component) {\n\t    _inherits(BaseControl, _React$Component);\n\t\n\t    function BaseControl() {\n\t        _classCallCheck(this, BaseControl);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(BaseControl).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(BaseControl, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            throw new Error('Abstract class');\n\t        }\n\t    }, {\n\t        key: 'onBlur',\n\t        value: function onBlur(_ref, e) {\n\t            var field = _ref.field;\n\t            var _ref$type = _ref.type;\n\t            var type = _ref$type === undefined ? 'number' : _ref$type;\n\t\n\t            var value = void 0;\n\t            switch (type) {\n\t                case 'number':\n\t                    value = Number(e.target.value);\n\t                    break;\n\t                case 'boolean':\n\t                    value = e.target.checked;\n\t                    break;\n\t            }\n\t\n\t            this.props.onBlur(field, value);\n\t        }\n\t    }]);\n\t\n\t    return BaseControl;\n\t}(_react2.default.Component);\n\t\n\t//{ obj, field, ?title, ?min, ?max}\n\t\n\t\n\tvar SliderControl = exports.SliderControl = function (_BaseControl) {\n\t    _inherits(SliderControl, _BaseControl);\n\t\n\t    function SliderControl(params) {\n\t        _classCallCheck(this, SliderControl);\n\t\n\t        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(SliderControl).call(this, params));\n\t\n\t        _this2.onChange = function (event) {\n\t            _this2.setState({ value: event.target.value });\n\t        };\n\t\n\t        var _this2$props = _this2.props;\n\t        var field = _this2$props.field;\n\t        var defaultValue = _this2$props.defaultValue;\n\t\n\t        _this2.state = { value: defaultValue };\n\t        _this2.blurBinded = _this2.onBlur.bind(_this2, { field: field, type: 'number' });\n\t        return _this2;\n\t    }\n\t\n\t    _createClass(SliderControl, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            //required\n\t            var field = this.props.field;\n\t            //optional\n\t            var title = this.props.title || _utils.stringUtils.camelCaseToHuman(this.props.field);\n\t            var min = this.props.min || 0;\n\t            var max = this.props.max || 1;\n\t            var step = this.props.step || 0.01;\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group' },\n\t                _react2.default.createElement(\n\t                    'label',\n\t                    null,\n\t                    title,\n\t                    ' - ',\n\t                    this.state.value\n\t                ),\n\t                _react2.default.createElement('input', {\n\t                    defaultValue: this.props.defaultValue,\n\t                    type: 'range',\n\t                    value: this.state.value,\n\t                    min: min,\n\t                    max: max,\n\t                    step: step,\n\t                    onChange: this.onChange,\n\t                    onBlur: this.blurBinded })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SliderControl;\n\t}(BaseControl);\n\t\n\tvar CheckboxControl = exports.CheckboxControl = function (_BaseControl2) {\n\t    _inherits(CheckboxControl, _BaseControl2);\n\t\n\t    function CheckboxControl(params) {\n\t        _classCallCheck(this, CheckboxControl);\n\t\n\t        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(CheckboxControl).call(this, params));\n\t\n\t        _this3.state = { value: _this3.props.defaultValue };\n\t        return _this3;\n\t    }\n\t\n\t    _createClass(CheckboxControl, [{\n\t        key: 'onChange',\n\t        value: function onChange(event) {\n\t            this.setState({ value: event.target.value });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var field = _props.field;\n\t            var defaultValue = _props.defaultValue;\n\t            var onBlur = _props.onBlur;\n\t            var title = _props.title;\n\t\n\t            var actualTitle = title || _utils.stringUtils.camelCaseToHuman(field);\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'checkbox' },\n\t                _react2.default.createElement(\n\t                    'label',\n\t                    null,\n\t                    _react2.default.createElement('input', {\n\t                        type: 'checkbox',\n\t                        defaultChecked: defaultValue,\n\t                        onChange: this.onChange.bind(this),\n\t                        onBlur: this.onBlur.bind(this, { field: field, type: 'boolean' }) }),\n\t                    actualTitle\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CheckboxControl;\n\t}(BaseControl);\n\n/***/ },\n\n/***/ 565:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _NotesUtils = __webpack_require__(566);\n\t\n\tObject.defineProperty(exports, 'notesUtils', {\n\t\tenumerable: true,\n\t\tget: function get() {\n\t\t\treturn _interopRequireDefault(_NotesUtils).default;\n\t\t}\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction checkArray(arr) {\n\t\tif (!Array.isArray(arr)) {\n\t\t\tthrow new TypeError('arr should be an array ' + arr + ' given.');\n\t\t}\n\t}\n\t\n\tfunction checkObj(obj) {\n\t\tif (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {\n\t\t\tthrow new TypeError('obj should be an object ' + obj + ' given');\n\t\t}\n\t}\n\t\n\tvar numberUtils = {\n\t\t/**\r\n\t  * @param {number} startIndex\r\n\t  * @param {number} endIndex not included\r\n\t  */\n\t\n\t\trandomBetween: function randomBetween(startIndex, endIndex) {\n\t\t\tif (startIndex < 0 || endIndex < 0) {\n\t\t\t\tthrow 'wft randomBetween';\n\t\t\t}\n\t\t\tif (endIndex === undefined) {\n\t\t\t\tendIndex = startIndex;\n\t\t\t\tstartIndex = 0;\n\t\t\t}\n\t\n\t\t\treturn Math.floor(Math.random() * endIndex) + startIndex;\n\t\t},\n\t\tnormalizeValue: function normalizeValue(value, maxValue) {\n\t\t\tif (value <= maxValue) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tvar rem = value % maxValue;\n\t\t\treturn rem ? rem : maxValue;\n\t\t}\n\t};\n\t\n\tvar arrayUtils = {\n\t\tlast: function last(array) {\n\t\t\treturn array[array.length - 1];\n\t\t},\n\t\tmake: function make(value, length) {\n\t\t\tvar arr = [];\n\t\t\twhile (length--) {\n\t\t\t\tarr[length] = value;\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\tgetRandomIndexes: function getRandomIndexes(count /*: number */, length /*: number */, except) {\n\t\t\tvar result = [];\n\t\n\t\t\tif (count > length) {\n\t\t\t\tthrow new Error('Count can\\'t be more that length');\n\t\t\t}\n\t\n\t\t\twhile (count > 0) {\n\t\t\t\tvar newIndex = numberUtils.randomBetween(length);\n\t\t\t\tif (result.indexOf(newIndex) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\n\t\t\t\tif (except && except.includes(newIndex)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\n\t\t\t\tresult.push(newIndex);\n\t\t\t\tcount--;\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\trandomKey: function randomKey(arr) {\n\t\t\tcheckArray(arr);\n\t\t\treturn numberUtils.randomBetween(arr.length);\n\t\t},\n\t\trandomElement: function randomElement(arr) {\n\t\t\tvar randomKey = arrayUtils.randomKey(arr);\n\t\t\treturn arr[randomKey];\n\t\t},\n\t\tfindObjectByKey: function findObjectByKey(array, field, value) {\n\t\t\treturn array.find(function (element) {\n\t\t\t\treturn element.hasOwnProperty(field) && element[field] === value;\n\t\t\t});\n\t\t}\n\t};\n\t\n\tvar objectUtils = {\n\t\trandomElement: function randomElement(obj) {\n\t\t\tcheckObj(obj);\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tvar randomKey = arrayUtils.randomElement(keys);\n\t\t\treturn obj[randomKey];\n\t\t}\n\t};\n\t\n\tvar stringUtils = {\n\t\tcamelCaseToHuman: function camelCaseToHuman(str) {\n\t\t\t// \\d - any digit 0..9 and other locals\n\t\t\tvar reg = /([a-z])([A-Z])/g;\n\t\t\tvar template = '$1 $2';\n\t\t\tvar splitter = ' ';\n\t\n\t\t\treturn str.replace(reg, template).split(splitter).map(function (w) {\n\t\t\t\treturn stringUtils.firstUpper(w);\n\t\t\t}).join(splitter);\n\t\t},\n\t\tfirstUpper: function firstUpper(str) {\n\t\t\treturn '' + str[0].toUpperCase() + str.slice(1).toLowerCase();\n\t\t}\n\t};\n\t\n\tvar selectionUtils = {\n\t\tgetRandomKeyByWeight: function getRandomKeyByWeight(obj) {\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tvar weights = Object.keys(obj).map(function (key) {\n\t\t\t\treturn obj[key].weight * 100;\n\t\t\t});\n\t\t\treturn selectionUtils._roulette(keys, weights);\n\t\t},\n\t\t_roulette: function _roulette(keys, weights) /*: string (key)*/{\n\t\t\tvar rouletteArray = [];\n\t\n\t\t\tkeys.forEach(function (key, i) {\n\t\t\t\trouletteArray = rouletteArray.concat(arrayUtils.make(key, weights[i]));\n\t\t\t});\n\t\n\t\t\tvar index = numberUtils.randomBetween(rouletteArray.length);\n\t\t\treturn rouletteArray[index];\n\t\t}\n\t};\n\t\n\tvar randomUtils = {\n\t\theadsOrTails: function headsOrTails() {\n\t\t\treturn Math.random() > 0.5;\n\t\t}\n\t};\n\t\n\texports.objUtils = objectUtils;\n\texports.arrayUtils = arrayUtils;\n\texports.numberUtils = numberUtils;\n\texports.stringUtils = stringUtils;\n\texports.selectionUtils = selectionUtils;\n\texports.randomUtils = randomUtils;\n\n/***/ },\n\n/***/ 566:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PAUSE = 0;\n\tvar HOLD = -1;\n\t\n\tvar NotesUtils = function () {\n\t\tfunction NotesUtils() {\n\t\t\t_classCallCheck(this, NotesUtils);\n\t\t}\n\t\n\t\t_createClass(NotesUtils, [{\n\t\t\tkey: \"toRhythm\",\n\t\n\t\t\t/*\r\n\t  \t[1, -2, 3, 1, 1] where 1 is 1/8 and \"-\" is pause\r\n\t  */\n\t\t\t// TODO: redo fitness and this creepy logic\n\t\t\tvalue: function toRhythm(data) {\n\t\t\t\tvar result = [];\n\t\t\t\tvar bar = undefined;\n\t\n\t\t\t\tdata.forEach(function (item, i) {\n\t\t\t\t\tif (i % 8 === 0) {\n\t\t\t\t\t\tif (bar) {\n\t\t\t\t\t\t\tresult.push(bar);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbar = [];\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (item === PAUSE) {\n\t\t\t\t\t\tbar.push(-1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (item === HOLD && bar.length) {\n\t\t\t\t\t\tvar prevIndex = bar.length - 1;\n\t\t\t\t\t\tvar prevValue = bar[prevIndex];\n\t\t\t\t\t\tbar[prevIndex] = prevValue > 0 ? prevValue + 1 : prevValue - 1;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbar.push(1);\n\t\t\t\t});\n\t\t\t\tresult.push(bar);\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"toPitch\",\n\t\t\tvalue: function toPitch(data) {\n\t\t\t\tvar ignoreOctaves = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t\t\t\tvar result = [];\n\t\t\t\tvar bar = undefined;\n\t\n\t\t\t\tdata.forEach(function (item, i) {\n\t\t\t\t\tif (i % 8 === 0) {\n\t\t\t\t\t\tif (bar) {\n\t\t\t\t\t\t\tresult.push(bar);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbar = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (item === PAUSE || item === HOLD) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbar.push(ignoreOctaves ? item % 7 : item);\n\t\t\t\t});\n\t\n\t\t\t\tif (bar.length) {\n\t\t\t\t\tresult.push(bar);\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn NotesUtils;\n\t}();\n\t\n\texports.default = new NotesUtils();\n\n/***/ },\n\n/***/ 567:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Component = exports.run = undefined;\n\t\n\tvar _createProvider2 = __webpack_require__(568);\n\t\n\tvar _createProvider3 = _interopRequireDefault(_createProvider2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar context = __webpack_require__(577);\n\t\n\tvar _createProvider = (0, _createProvider3.default)('crossover', context);\n\t\n\tvar run = _createProvider.run;\n\tvar Component = _createProvider.Component;\n\texports.run = run;\n\texports.Component = Component;\n\n/***/ },\n\n/***/ 568:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createCompositeProvider = createCompositeProvider;\n\t\n\tvar _createPluginsHash = __webpack_require__(569);\n\t\n\tvar _createRenderComponent = __webpack_require__(570);\n\t\n\tvar _BaseCalculateProvider = __webpack_require__(572);\n\t\n\tvar _BaseCalculateProvider2 = _interopRequireDefault(_BaseCalculateProvider);\n\t\n\tvar _CompositeCalculateProvider = __webpack_require__(573);\n\t\n\tvar _CompositeCalculateProvider2 = _interopRequireDefault(_CompositeCalculateProvider);\n\t\n\tvar _initialState = __webpack_require__(576);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar initialState = _initialState2.default.GA;\n\t\n\tfunction createCompositeProvider(providerName, context) {\n\t\tvar plugins = (0, _createPluginsHash.createPluginsHash)(context);\n\t\tvar instance = new _CompositeCalculateProvider2.default(plugins, initialState, providerName);\n\t\n\t\t// NOTE: run is actually getCalculation function\n\t\tvar run = instance.getRunOnce.bind(instance);\n\t\treturn {\n\t\t\trun: run,\n\t\t\tComponent: (0, _createRenderComponent.createRenderComponent)(providerName, plugins)\n\t\t};\n\t}\n\t\n\texports.default = function (providerName, context) {\n\t\tvar randomRun = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t\n\t\tvar plugins = (0, _createPluginsHash.createPluginsHash)(context);\n\t\tvar instance = new _BaseCalculateProvider2.default(plugins, initialState, providerName);\n\t\n\t\t// NOTE: run is actually getCalculation function\n\t\tvar run = randomRun ? instance.getRunRandom.bind(instance) : instance.getRunOnce.bind(instance);\n\t\treturn {\n\t\t\trun: run,\n\t\t\tComponent: (0, _createRenderComponent.createRenderComponent)(providerName, plugins)\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 569:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createPluginsHash = createPluginsHash;\n\tfunction createPluginsHash(context) {\n\t\treturn context.keys().map(function (key) {\n\t\t\treturn context(key).default;\n\t\t}).reduce(function (hash, value) {\n\t\t\tif (!value.getInitialState) {\n\t\t\t\tvalue.getInitialState = function () {\n\t\t\t\t\treturn {};\n\t\t\t\t};\n\t\t\t}\n\t\t\thash[value.name] = value;\n\t\t\treturn hash;\n\t\t}, {});\n\t}\n\n/***/ },\n\n/***/ 570:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createRenderComponent = undefined;\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _index = __webpack_require__(571);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * @description pluginKey = crossover | mutation | fitness\r\n\t */\n\tvar createRenderComponent = exports.createRenderComponent = function createRenderComponent(pluginKey, plugins) {\n\t\treturn function (_ref) {\n\t\t\tvar store = _ref.store;\n\t\n\t\t\tvar state = store.getState().GA[pluginKey];\n\t\n\t\t\tvar onblur = function onblur(name, field, value) {\n\t\t\t\tstore.dispatch((0, _index.changeOptions)([pluginKey, name, field], value));\n\t\t\t};\n\t\t\tvar options = Object.keys(plugins).map(function (name) {\n\t\t\t\tvar plugin = plugins[name];\n\t\t\t\tvar innerMarkup = plugin.render && plugin.render(state[name], onblur.bind(null, name));\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t\t{ header: name, key: name },\n\t\t\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\t\t\tdefaultValue: state[name].weight,\n\t\t\t\t\t\tonBlur: onblur.bind(null, name),\n\t\t\t\t\t\tfield: 'weight' }),\n\t\t\t\t\tinnerMarkup\n\t\t\t\t);\n\t\t\t});\n\t\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactBootstrap.Panel,\n\t\t\t\t{ collapsible: true, header: pluginKey + ' options' },\n\t\t\t\toptions\n\t\t\t);\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 571:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.changeOptions = changeOptions;\n\tvar OPTIONS_CHANGE_ACTION = exports.OPTIONS_CHANGE_ACTION = 'optionsChangeAction';\n\t\n\tfunction changeOptions(optionsPath, value) {\n\t\treturn {\n\t\t\ttype: OPTIONS_CHANGE_ACTION,\n\t\t\toptionsPath: optionsPath,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n/***/ },\n\n/***/ 572:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * @description Provides calculation fn\r\n\t * 1) Once (current fitness, crossover)\r\n\t * 2) New everytime (mutations)\r\n\t */\n\t\n\tvar BaseCalculateProvider = function () {\n\t\tfunction BaseCalculateProvider(allPlugins, initialState, name) {\n\t\t\t_classCallCheck(this, BaseCalculateProvider);\n\t\n\t\t\tthis._all = allPlugins;\n\t\t\tthis._providerName = name; // Mutation, Crossover, Fitness. (any Genetic Operator)\n\t\t\tthis._registerInStore(initialState);\n\t\t}\n\t\n\t\t/**\r\n\t  * @description Gets run function once\r\n\t  */\n\t\n\t\n\t\t_createClass(BaseCalculateProvider, [{\n\t\t\tkey: 'getRunOnce',\n\t\t\tvalue: function getRunOnce(options) {\n\t\t\t\tvar _getKeyAndFunction2 = this._getKeyAndFunction(options);\n\t\n\t\t\t\tvar fn = _getKeyAndFunction2.fn;\n\t\t\t\tvar key = _getKeyAndFunction2.key;\n\t\n\t\t\t\tvar settings = options[key];\n\t\n\t\t\t\treturn function () {\n\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn fn.run.apply(fn, _toConsumableArray(args.concat(settings)));\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getRunRandom',\n\t\t\tvalue: function getRunRandom(options) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\treturn function () {\n\t\t\t\t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\t\targs[_key2] = arguments[_key2];\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar _getKeyAndFunction3 = _this._getKeyAndFunction(options);\n\t\n\t\t\t\t\tvar fn = _getKeyAndFunction3.fn;\n\t\t\t\t\tvar key = _getKeyAndFunction3.key;\n\t\n\t\t\t\t\tvar argsExtended = args.concat(options[key]);\n\t\t\t\t\treturn fn.run.apply(fn, _toConsumableArray(argsExtended));\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getKeyAndFunction',\n\t\t\tvalue: function _getKeyAndFunction(options) {\n\t\t\t\tvar key = this._getKey(options);\n\t\t\t\tvar fn = this._getFunction(key);\n\t\t\t\treturn { key: key, fn: fn };\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getKey',\n\t\t\tvalue: function _getKey(options) {\n\t\t\t\treturn _utils.selectionUtils.getRandomKeyByWeight(options);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getFunction',\n\t\t\tvalue: function _getFunction(key) {\n\t\t\t\treturn this._all[key];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_registerInStore',\n\t\t\tvalue: function _registerInStore(initialState) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tinitialState[this._providerName] = {};\n\t\t\t\tObject.keys(this._all).map(function (key) {\n\t\t\t\t\treturn _this2._all[key];\n\t\t\t\t}).forEach(function (_ref) {\n\t\t\t\t\tvar name = _ref.name;\n\t\t\t\t\tvar getInitialState = _ref.getInitialState;\n\t\t\t\t\treturn initialState[_this2._providerName][name] = getInitialState();\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn BaseCalculateProvider;\n\t}();\n\t\n\texports.default = BaseCalculateProvider;\n\n/***/ },\n\n/***/ 573:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tvar _BaseCalculateProvider = __webpack_require__(572);\n\t\n\tvar _BaseCalculateProvider2 = _interopRequireDefault(_BaseCalculateProvider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CompositeCalculateProvider = function (_BaseCalculateProvide) {\n\t\t_inherits(CompositeCalculateProvider, _BaseCalculateProvide);\n\t\n\t\tfunction CompositeCalculateProvider() {\n\t\t\t_classCallCheck(this, CompositeCalculateProvider);\n\t\n\t\t\treturn _possibleConstructorReturn(this, Object.getPrototypeOf(CompositeCalculateProvider).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(CompositeCalculateProvider, [{\n\t\t\tkey: 'getRunOnce',\n\t\n\t\t\t/**\r\n\t   * @description Gets run function once\r\n\t   */\n\t\t\tvalue: function getRunOnce(options) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\t// get bounded fn and keys * weights\n\t\n\t\t\t\tvar MAX_WEIGHT = Object.keys(options).map(function (k) {\n\t\t\t\t\treturn options[k].weight;\n\t\t\t\t}).reduce(function (sum, weight) {\n\t\t\t\t\treturn sum + weight;\n\t\t\t\t}, 0);\n\t\n\t\t\t\tvar keyWeightRaw = (0, _lodash2.default)(options).pickBy(function (_ref) {\n\t\t\t\t\tvar weight = _ref.weight;\n\t\t\t\t\treturn weight > 0;\n\t\t\t\t});\n\t\n\t\t\t\tvar keyWeight = keyWeightRaw.mapValues(function (v) {\n\t\t\t\t\treturn v.weight / MAX_WEIGHT;\n\t\t\t\t}).value();\n\t\n\t\t\t\t// NOTE: pick first provider with _important key if it's here\n\t\t\t\t// TODO: DEBUG {\n\t\t\t\t{\n\t\t\t\t\tvar debugKeyWeight = Object.keys(options).reduce(function (reducer, key) {\n\t\t\t\t\t\tvar _important = options[key]._important;\n\t\n\t\n\t\t\t\t\t\tif (reducer.found) {\n\t\t\t\t\t\t\treturn reducer;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (_important) {\n\t\t\t\t\t\t\treducer.found = true;\n\t\t\t\t\t\t\treducer.value[key] = 1;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\treturn reducer;\n\t\t\t\t\t}, { found: false, value: {} }).value;\n\t\t\t\t\tif (!_lodash2.default.isEmpty(debugKeyWeight)) {\n\t\t\t\t\t\tkeyWeight = debugKeyWeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// }\n\t\n\t\t\t\t// TODO: refactor it\n\t\t\t\tvar fns = Object.keys(keyWeight).reduce(function (reducer, key) {\n\t\t\t\t\tvar settings = options[key];\n\t\t\t\t\tvar weight = keyWeight[key];\n\t\t\t\t\tconsole.log(weight);\n\t\t\t\t\tvar fn = _this2._all[key].run;\n\t\n\t\t\t\t\treducer[key] = function () {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tvar result = fn.apply(undefined, _toConsumableArray(args.concat(settings))) * weight;\n\t\t\t\t\t\tconsole.assert(result >= 0, 'Fail on key: ' + key);\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t};\n\t\t\t\t\treturn reducer;\n\t\t\t\t}, {});\n\t\n\t\t\t\treturn function () {\n\t\t\t\t\tfor (var _len2 = arguments.length, data = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\t\tdata[_key2] = arguments[_key2];\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn Object.keys(fns).map(function (k) {\n\t\t\t\t\t\treturn fns[k];\n\t\t\t\t\t}).reduce(function (reducer, fn) {\n\t\t\t\t\t\treturn reducer + fn.apply(undefined, data);\n\t\t\t\t\t}, 0);\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getRunRandom',\n\t\t\tvalue: function getRunRandom() {\n\t\t\t\tthrow new Error('CompositeCalculateProvider use only run once fn');\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn CompositeCalculateProvider;\n\t}(_BaseCalculateProvider2.default);\n\t\n\texports.default = CompositeCalculateProvider;\n\n/***/ },\n\n/***/ 576:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t// NOTE: populated by plugins, etc\n\tvar initialState = {\n\t\tGA: {}\n\t};\n\texports.default = initialState;\n\n/***/ },\n\n/***/ 577:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./OnePointCrossover.jsx\": 578,\n\t\t\"./TwoPointCrossover.jsx\": 579\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 577;\n\n\n/***/ },\n\n/***/ 578:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction createPortion(source, point) {\n\t\treturn [source.slice(0, point), source.slice(point)];\n\t}\n\t\n\tfunction crossover(a, b) {\n\t\tvar point = _utils.numberUtils.randomBetween(a.length);\n\t\tvar aPortions = createPortion(a, point);\n\t\tvar bPortions = createPortion(b, point);\n\t\n\t\tif (Math.random() > 0.5) {\n\t\t\treturn [].concat(aPortions[0], bPortions[1]);\n\t\t} else {\n\t\t\treturn [].concat(bPortions[0], aPortions[1]);\n\t\t}\n\t}\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0.5 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'one-point-crossover',\n\t\trun: crossover,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 579:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction createPortion(source, firstPoint, secondPoint) {\n\t\treturn [source.slice(0, firstPoint), source.slice(firstPoint, secondPoint), source.slice(secondPoint)];\n\t}\n\t\n\tfunction crossover(a, b) {\n\t\tvar result = [];\n\t\tvar firstPoint = _utils.numberUtils.randomBetween(a.length);\n\t\tvar secondPoint = _utils.numberUtils.randomBetween(a.length);\n\t\tvar aUsed = false;\n\t\tvar bUsed = false;\n\t\n\t\twhile (secondPoint === firstPoint) {\n\t\t\tsecondPoint = _utils.numberUtils.randomBetween(a.length);\n\t\t}\n\t\n\t\tif (firstPoint > secondPoint) {\n\t\t\tvar temp = firstPoint;\n\t\t\tfirstPoint = secondPoint;\n\t\t\tsecondPoint = firstPoint;\n\t\t}\n\t\n\t\tvar aPortions = createPortion(a, firstPoint, secondPoint);\n\t\tvar bPortions = createPortion(b, firstPoint, secondPoint);\n\t\n\t\tfor (var i = 0, l = aPortions.length; i < l; i++) {\n\t\t\tif (i === l - 1) {\n\t\t\t\tif (!bUsed) {\n\t\t\t\t\tresult = result.concat(bPortions[i]);\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (!aUsed) {\n\t\t\t\t\tresult = result.concat(aPortions[i]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (_utils.randomUtils.headsOrTails()) {\n\t\t\t\tresult = result.concat(aPortions[i]);\n\t\t\t\taUsed = true;\n\t\t\t} else {\n\t\t\t\tresult = result.concat(bPortions[i]);\n\t\t\t\tbUsed = true;\n\t\t\t}\n\t\t}\n\t\n\t\treturn result;\n\t}\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0.7 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'two-point-crossover',\n\t\tgetInitialState: getInitialState,\n\t\trun: crossover\n\t};\n\n/***/ },\n\n/***/ 580:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Component = exports.run = undefined;\n\t\n\tvar _createProvider2 = __webpack_require__(568);\n\t\n\tvar _createProvider3 = _interopRequireDefault(_createProvider2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar context = __webpack_require__(581);\n\t\n\tvar _createProvider = (0, _createProvider3.default)('mutation', context, true /* random run on every request */);\n\t\n\tvar run = _createProvider.run;\n\tvar Component = _createProvider.Component;\n\texports.run = run;\n\texports.Component = Component;\n\n/***/ },\n\n/***/ 581:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./changeDurationMutation.jsx\": 582,\n\t\t\"./copyPasteMutation.jsx\": 589,\n\t\t\"./orderMutation.js\": 594,\n\t\t\"./reverseMutation.js\": 595,\n\t\t\"./sortMutation.jsx\": 596,\n\t\t\"./swap2Mutation.jsx\": 598,\n\t\t\"./swapGroupMutation.jsx\": 599,\n\t\t\"./transposeMutation.jsx\": 600,\n\t\t\"./upAndDownMutation.jsx\": 602\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 581;\n\n\n/***/ },\n\n/***/ 582:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tvar _Composition = __webpack_require__(583);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tvar _NotesConverter = __webpack_require__(586);\n\t\n\tvar _NotesConverter2 = _interopRequireDefault(_NotesConverter);\n\t\n\tvar _Note = __webpack_require__(584);\n\t\n\tvar _Note2 = _interopRequireDefault(_Note);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultOptions = {\n\t\tcount: 64\n\t};\n\t\n\tvar PAUSE = 0;\n\tvar HOLD = -1;\n\t\n\t// TODO: class vs functions combination\n\t\n\tvar ChangeDuration = function () {\n\t\tfunction ChangeDuration() {\n\t\t\t_classCallCheck(this, ChangeDuration);\n\t\t}\n\t\n\t\t_createClass(ChangeDuration, [{\n\t\t\tkey: 'mutate',\n\t\t\tvalue: function mutate(data) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\n\t\t\t\tvar composition = new _Composition2.default(data);\n\t\t\t\tvar bars = composition.bars();\n\t\n\t\t\t\tvar newBars = bars.map(function (bar) {\n\t\t\t\t\tvar countOfIndexes = Math.floor(options.count / bars.length);\n\t\t\t\t\tvar maxIndex = bar.length - 1 - 1; //we need neighbor\n\t\n\t\t\t\t\tif (countOfIndexes >= maxIndex) {\n\t\t\t\t\t\treturn bar;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _utils.arrayUtils.getRandomIndexes(countOfIndexes, maxIndex).reduce(function (store, mutateIndex) {\n\t\t\t\t\t\t// If random index exist before but now array (bar) became smaller so we don't have it\n\t\t\t\t\t\tif (!store[mutateIndex + 1]) {\n\t\t\t\t\t\t\treturn store;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar mutateNotes = [store[mutateIndex].clone(), store[mutateIndex + 1].clone()];\n\t\t\t\t\t\treturn [].concat(_toConsumableArray(store.slice(0, mutateIndex).map(function (n) {\n\t\t\t\t\t\t\treturn n.clone();\n\t\t\t\t\t\t})), _toConsumableArray(_this._mutateOne.apply(_this, mutateNotes)), _toConsumableArray(store.slice(mutateIndex + 2)));\n\t\t\t\t\t}, bar);\n\t\t\t\t});\n\t\n\t\t\t\treturn _NotesConverter2.default.fromBarsToRaw(newBars);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @param  {Note} a [description]\r\n\t   * @param  {Note} b [description]\r\n\t   * @return {[Note, Note] | [Note]}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_mutateOne',\n\t\t\tvalue: function _mutateOne(a, b) {\n\t\t\t\tvar inverse = false;\n\t\n\t\t\t\tif (Math.random() < 0.5) {\n\t\t\t\t\tinverse = true;\n\t\t\t\t\tvar _ref = [b, a];\n\t\t\t\t\ta = _ref[0];\n\t\t\t\t\tb = _ref[1];\n\t\t\t\t}\n\t\n\t\t\t\tvar newA = _Note2.default.create(a.value(), a.length() + 1);\n\t\n\t\t\t\tif (b.length() === 1) {\n\t\t\t\t\treturn [newA];\n\t\t\t\t}\n\t\n\t\t\t\tvar newB = _Note2.default.create(b.value(), b.length() - 1);\n\t\t\t\treturn inverse ? [newB, newA] : [newA, newB];\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn ChangeDuration;\n\t}();\n\t\n\tvar instance = new ChangeDuration();\n\t\n\tvar run = instance.mutate.bind(instance);\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: 16,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 1,\n\t\t\tcount: 7\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'change-duration-mutation',\n\t\trun: run,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 583:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Note = __webpack_require__(584);\n\t\n\tvar _Note2 = _interopRequireDefault(_Note);\n\t\n\tvar _NotesConverter = __webpack_require__(586);\n\t\n\tvar _NotesConverter2 = _interopRequireDefault(_NotesConverter);\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Composition = function () {\n\t\t_createClass(Composition, null, [{\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(raw, barLength) {\n\t\t\t\treturn new Composition(raw, barLength);\n\t\t\t}\n\t\t}]);\n\t\n\t\tfunction Composition(raw) {\n\t\t\tvar barLength = arguments.length <= 1 || arguments[1] === undefined ? _MusicContext2.default.getBarLength() : arguments[1];\n\t\n\t\t\t_classCallCheck(this, Composition);\n\t\n\t\t\tif (!Array.isArray(raw)) {\n\t\t\t\tthrow 'Invalid argument raw: ' + raw + ', should be an array of numbers';\n\t\t\t}\n\t\n\t\t\tthis._barLength = barLength;\n\t\t\tthis._raw = null;\n\t\t\tthis._notes = null;\n\t\t\tthis._bars = null;\n\t\n\t\t\tthis._updateState(raw);\n\t\t}\n\t\n\t\t_createClass(Composition, [{\n\t\t\tkey: 'length',\n\t\t\tvalue: function length() {\n\t\t\t\treturn this._notes.length;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bars',\n\t\t\tvalue: function bars() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar result = [];\n\t\t\t\tvar bar = [];\n\t\t\t\tvar counter = 0;\n\t\n\t\t\t\tthis._notes.forEach(function (note) {\n\t\t\t\t\tcounter += note.length();\n\t\t\t\t\tbar.push(note.clone());\n\t\n\t\t\t\t\tconsole.assert(counter <= _this._barLength, 'Counter: ' + counter + ' but should be less than ' + _this._barLength);\n\t\t\t\t\tif (counter === _this._barLength) {\n\t\t\t\t\t\tcounter = 0;\n\t\t\t\t\t\tresult.push(bar);\n\t\t\t\t\t\tbar = [];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'rawBars',\n\t\t\tvalue: function rawBars() {\n\t\t\t\treturn this.bars().map(function (bar) {\n\t\t\t\t\treturn bar.reduce(function (reducer, note) {\n\t\t\t\t\t\treturn [].concat(_toConsumableArray(reducer), _toConsumableArray(note.toRaw()));\n\t\t\t\t\t}, []);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'raw',\n\t\t\tvalue: function raw() {\n\t\t\t\treturn this._raw.slice();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_updateState',\n\t\t\tvalue: function _updateState(raw) {\n\t\t\t\tthis._raw = raw.slice();\n\t\t\t\tthis._notes = _NotesConverter2.default.toNotes(this._raw);\n\t\t\t\tthis._bars = this.bars();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Composition;\n\t}();\n\t\n\texports.default = Composition;\n\n/***/ },\n\n/***/ 584:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); //#technical_debt value in range [-1 .. 14]\n\t\n\t\n\tvar _common = __webpack_require__(585);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PAUSE = 0;\n\tvar NOTES_IN_OCTAVE = 7;\n\t\n\tvar Note = function () {\n\t\tfunction Note(value) {\n\t\t\tvar length = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t\t\tvar legato = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t\n\t\t\t_classCallCheck(this, Note);\n\t\n\t\t\tif (value < 0 || _common.availableValues.indexOf(value) === -1) {\n\t\t\t\tthrow 'Invalid argument value: ' + value;\n\t\t\t}\n\t\n\t\t\tif (!Number.isInteger(length) || length <= 0) {\n\t\t\t\tthrow 'Invalid argument length: ' + length;\n\t\t\t}\n\t\n\t\t\tthis._value = value;\n\t\t\tthis._length = length;\n\t\t\tthis._legato = legato;\n\t\t}\n\t\n\t\t_createClass(Note, [{\n\t\t\tkey: 'clone',\n\t\t\tvalue: function clone() {\n\t\t\t\treturn new Note(this._value, this._length, this._legato);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'pitch',\n\t\t\tvalue: function pitch() {\n\t\t\t\tvar ignoreOctave = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t\n\t\t\t\tif (!this.isNote()) {\n\t\t\t\t\tthrow 'Current note is pause';\n\t\t\t\t}\n\t\n\t\t\t\treturn ignoreOctave ? this._value % NOTES_IN_OCTAVE : this._value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'value',\n\t\t\tvalue: function value() {\n\t\t\t\treturn this._value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'length',\n\t\t\tvalue: function length() {\n\t\t\t\treturn this._length;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isNote',\n\t\t\tvalue: function isNote() {\n\t\t\t\treturn this._value > PAUSE;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isPause',\n\t\t\tvalue: function isPause() {\n\t\t\t\treturn this._value === PAUSE;\n\t\t\t}\n\t\n\t\t\t// TODO: redo with reduce ... that's unreadable\n\t\n\t\t}, {\n\t\t\tkey: 'toRaw',\n\t\t\tvalue: function toRaw() {\n\t\t\t\tvar result = [this._value];\n\t\n\t\t\t\tif (this._length > 1) {\n\t\t\t\t\tvar count = this._length - 1;\n\t\t\t\t\twhile (count > 0) {\n\t\t\t\t\t\tcount--;\n\t\t\t\t\t\tresult.push(-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\n\t\t\t//Immutable\n\t\t\t/**\r\n\t   * @param  {Number} howMuch\r\n\t   * @return {Note}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'increaseLength',\n\t\t\tvalue: function increaseLength() {\n\t\t\t\tvar howMuch = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t\n\t\t\t\treturn this._changeLength(howMuch);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @param  {Number} howMuch\r\n\t   * @return {Note}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'decreaseLength',\n\t\t\tvalue: function decreaseLength() {\n\t\t\t\tvar howMuch = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t\n\t\t\t\tif (this._length === 1) {\n\t\t\t\t\tthrow 'Length can not be less than 1';\n\t\t\t\t}\n\t\t\t\treturn this._changeLength(-howMuch);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   * @param  {Number} howMuch\r\n\t   * @return {Note}\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_changeLength',\n\t\t\tvalue: function _changeLength(howMuch) {\n\t\t\t\treturn Note.create(this._value, this._length + howMuch);\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(value, length, legato) {\n\t\t\t\treturn new Note(value, length, legato);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Note;\n\t}();\n\t\n\texports.default = Note;\n\n/***/ },\n\n/***/ 585:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t//TODO: get it from music context?/\n\tvar availableValues = exports.availableValues = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\n\t\n\t/*\r\n\tgrid - 1/8\r\n\t-1 - previous\r\n\t0 - pause\r\n\t1 - C\r\n\t2 - D\r\n\t...\r\n\t*/\n\t//grid - 1/8\n\tvar REFERENCE_INDIVIDUAL = exports.REFERENCE_INDIVIDUAL = [3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 3, -1, 2, -1, 2, -1, 3, -1, 2, -1, -1, -1, 5, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 5, -1, 5, -1, 4, -1, 2, -1, 1, -1, -1, -1, -1, -1, -1, -1];\n\t\n\t//ЧИЖИК\n\t/*export const REFERENCE_INDIVIDUAL = [\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\t\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\t\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\t\r\n\t\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\t\r\n\t\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t\t8, -1, 8, -1, 8, -1, -1, -1\r\n\t];\r\n\t\r\n\t*/\n\tvar SOVIET = [8, 6, -1, 8, -1, 9, -1, 12, -1, 11, -1, -1, -1, -1, -1, 11, 12, 11, -1, 10, -1, 9, -1, 12, -1, 11, -1, -1, -1, -1, -1, -1, 11, 11, -1, 10, -1, 11, -1, -1, 9, -1, -1, -1, 0, 0, 0, 0, 0, 0, 0, 5, 8, 9, 8, 7, 0, 0, 0, 0, 0, 0, 0, 6];\n\n/***/ },\n\n/***/ 586:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Note = __webpack_require__(584);\n\t\n\tvar _Note2 = _interopRequireDefault(_Note);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar NotesConverter = function () {\n\t\tfunction NotesConverter() {\n\t\t\t_classCallCheck(this, NotesConverter);\n\t\n\t\t\tthis._PAUSE = 0;\n\t\t\tthis._HOLD = -1;\n\t\t}\n\t\n\t\t_createClass(NotesConverter, [{\n\t\t\tkey: 'toNotes',\n\t\t\tvalue: function toNotes(raw) {\n\t\t\t\tvar result = [];\n\t\t\t\tvar previousNoteValue = 0;\n\t\n\t\t\t\tfor (var i = 0, l = raw.length; i < l; i++) {\n\t\t\t\t\tvar item = raw[i];\n\t\n\t\t\t\t\t// If first item is hold\n\t\t\t\t\tif (i === 0 && item === this._HOLD) {\n\t\t\t\t\t\t//console.warn('First note is hold! Something wrong, replace it with pause');\n\t\t\t\t\t\tresult.push(_Note2.default.create(0, 1, false));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// If Hold on first note of bars\n\t\t\t\t\tif (item === this._HOLD && i % 8 === 0) {\n\t\t\t\t\t\tresult.push(_Note2.default.create(previousNoteValue, 1, true));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (item === this._HOLD) {\n\t\t\t\t\t\tvar last = result.pop();\n\t\t\t\t\t\tresult.push(_Note2.default.create(last.value(), last.length() + 1, false));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tpreviousNoteValue = item;\n\t\t\t\t\tresult.push(_Note2.default.create(item, 1, false));\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fromBarsToRaw',\n\t\t\tvalue: function fromBarsToRaw(bars) {\n\t\t\t\tvar result = [];\n\t\n\t\t\t\tbars.forEach(function (bar) {\n\t\t\t\t\tbar.forEach(function (n) {\n\t\t\t\t\t\tresult = result.concat(n.toRaw());\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn NotesConverter;\n\t}();\n\t\n\texports.default = new NotesConverter();\n\n/***/ },\n\n/***/ 587:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.HOLD = exports.PAUSE = exports.availableValuesInGF = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleStorage = __webpack_require__(588);\n\t\n\tvar _SimpleStorage2 = _interopRequireDefault(_SimpleStorage);\n\t\n\tvar _common = __webpack_require__(585);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULT_BAR_LENGTH = 8;\n\t\n\t// TODO: use MusicContext instead\n\tvar availableValuesInGF = exports.availableValuesInGF = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\n\tvar PAUSE = exports.PAUSE = 0;\n\tvar HOLD = exports.HOLD = -1;\n\t\n\t// TODO: used in composition/s jsx\n\t\n\tvar MusicContext = function () {\n\t\tfunction MusicContext() {\n\t\t\t_classCallCheck(this, MusicContext);\n\t\t}\n\t\n\t\t_createClass(MusicContext, [{\n\t\t\tkey: 'selectComposition',\n\t\t\tvalue: function selectComposition(key) {\n\t\t\t\t_SimpleStorage2.default.setCurrent(key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrentComposition',\n\t\t\tvalue: function getCurrentComposition() {\n\t\t\t\treturn _SimpleStorage2.default.getCurrent() || _common.REFERENCE_INDIVIDUAL;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrentKey',\n\t\t\tvalue: function getCurrentKey() {\n\t\t\t\treturn _SimpleStorage2.default.getCurrentKey();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCompositionLength',\n\t\t\tvalue: function getCompositionLength() {\n\t\t\t\treturn 128;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getAllCompositions',\n\t\t\tvalue: function getAllCompositions() {\n\t\t\t\treturn _SimpleStorage2.default.getKeys();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isValidName',\n\t\t\tvalue: function isValidName(name) {\n\t\t\t\treturn this.getAllCompositions().indexOf(name) === -1;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'save',\n\t\t\tvalue: function save(name, composition) {\n\t\t\t\treturn _SimpleStorage2.default.save(name, composition);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'remove',\n\t\t\tvalue: function remove(name) {\n\t\t\t\treturn _SimpleStorage2.default.remove(name);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getByKey',\n\t\t\tvalue: function getByKey(key) {\n\t\t\t\treturn _SimpleStorage2.default.getByKey(key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getDefault',\n\t\t\tvalue: function getDefault() {\n\t\t\t\treturn _SimpleStorage2.default.getDefault();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getBarLength',\n\t\t\tvalue: function getBarLength() {\n\t\t\t\t// FIXME: HARDCODE FOR NOW\n\t\t\t\treturn DEFAULT_BAR_LENGTH;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getMaxOneOctaveValue',\n\t\t\tvalue: function getMaxOneOctaveValue() {\n\t\t\t\treturn 7;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getAvailableValues',\n\t\t\tvalue: function getAvailableValues(ignoreOctaves) {\n\t\t\t\tvar maxOneOctaveValue = this.getMaxOneOctaveValue();\n\t\t\t\treturn ignoreOctaves ? availableValuesInGF.filter(function (x) {\n\t\t\t\t\treturn x <= maxOneOctaveValue;\n\t\t\t\t}) : availableValuesInGF;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getAvailablePitchValues',\n\t\t\tvalue: function getAvailablePitchValues() {\n\t\t\t\tvar excludeArray = [PAUSE, HOLD];\n\t\t\t\treturn availableValuesInGF.filter(function (x) {\n\t\t\t\t\treturn !excludeArray.includes(x);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// TODO: here for now\n\t\n\t\t}, {\n\t\t\tkey: 'getIntervalReference',\n\t\t\tvalue: function getIntervalReference() {\n\t\t\t\t//only for Cmaj in halftones\n\t\t\t\tvar INTERVAL_REFERENCE = [\n\t\t\t\t//First octave\n\t\t\t\t2, //C-D\n\t\t\t\t2, //D-E\n\t\t\t\t1, //E-F\n\t\t\t\t2, //F-G\n\t\t\t\t2, //G-A\n\t\t\t\t2, //A-B\n\t\t\t\t1, //B-C\n\t\t\t\t//Second octave\n\t\t\t\t2, //C-D\n\t\t\t\t2, //D-E\n\t\t\t\t1, //E-F\n\t\t\t\t2, //F-G\n\t\t\t\t2, //G-A\n\t\t\t\t2, //A-B\n\t\t\t\t1 //B-C\n\t\t\t\t];\n\t\n\t\t\t\treturn INTERVAL_REFERENCE;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getHalfTonesBeetween',\n\t\t\tvalue: function getHalfTonesBeetween(a, b) {\n\t\t\t\tvar intervalReference = this.getIntervalReference();\n\t\t\t\tif (a > b) {\n\t\t\t\t\tvar temp = a;\n\t\t\t\t\ta = b;\n\t\t\t\t\tb = temp;\n\t\t\t\t}\n\t\n\t\t\t\tvar arrayToSum = intervalReference.slice(a, b);\n\t\n\t\t\t\treturn arrayToSum.reduce(function (prevValue, item) {\n\t\t\t\t\treturn prevValue + item;\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn MusicContext;\n\t}();\n\t\n\texports.default = new MusicContext();\n\n/***/ },\n\n/***/ 588:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar FIRMWARE_INDIVIDUAL_KEY = 'default';\n\tvar FIRMWARE_INDIVIDUAL = [3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 3, -1, 2, -1, 2, -1, 3, -1, 2, -1, -1, -1, 5, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 3, -1, 3, -1, -1, -1, 3, -1, 5, -1, 1, -1, -1, 2, 3, -1, -1, -1, -1, -1, -1, -1, 4, -1, 4, -1, 4, -1, -1, 4, 4, -1, 3, -1, 3, -1, 3, 3, 5, -1, 5, -1, 4, -1, 2, -1, 1, -1, -1, -1, -1, -1, -1, -1];\n\t\n\tvar ALL_KEY = '__all';\n\tvar CURRENT_KEY = '__current';\n\t\n\tvar SimpleStorage = function () {\n\t\tfunction SimpleStorage() {\n\t\t\t_classCallCheck(this, SimpleStorage);\n\t\t}\n\t\n\t\t_createClass(SimpleStorage, [{\n\t\t\tkey: 'getKeys',\n\t\t\tvalue: function getKeys() {\n\t\t\t\tvar keys = this._getKeys();\n\t\t\t\tif (!keys) {\n\t\t\t\t\treturn [FIRMWARE_INDIVIDUAL_KEY];\n\t\t\t\t}\n\t\t\t\tkeys.unshift(FIRMWARE_INDIVIDUAL_KEY);\n\t\t\t\treturn keys;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getKeys',\n\t\t\tvalue: function _getKeys() {\n\t\t\t\tvar keysRaw = localStorage.getItem(ALL_KEY);\n\t\t\t\treturn JSON.parse(keysRaw);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getDefault',\n\t\t\tvalue: function getDefault() {\n\t\t\t\treturn FIRMWARE_INDIVIDUAL;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getByKey',\n\t\t\tvalue: function getByKey(key) {\n\t\t\t\tif (key === FIRMWARE_INDIVIDUAL_KEY) {\n\t\t\t\t\treturn this.getDefault();\n\t\t\t\t}\n\t\n\t\t\t\tvar compositionRaw = localStorage.getItem(key);\n\t\t\t\tif (!compositionRaw) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn JSON.parse(compositionRaw);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'save',\n\t\t\tvalue: function save(key, value) {\n\t\t\t\ttry {\n\t\t\t\t\tvalue = JSON.stringify(value);\n\t\t\t\t\tlocalStorage.setItem(key, value);\n\t\t\t\t\tvar prevKeys = JSON.parse(localStorage.getItem(ALL_KEY)) || [];\n\t\n\t\t\t\t\tif (prevKeys.indexOf(key) === -1) {\n\t\t\t\t\t\tprevKeys.push(key);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tlocalStorage.setItem(ALL_KEY, JSON.stringify(prevKeys));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('You got invalid data');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrentKey',\n\t\t\tvalue: function getCurrentKey() {\n\t\t\t\treturn localStorage.getItem(CURRENT_KEY) || 'default';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getCurrent',\n\t\t\tvalue: function getCurrent() {\n\t\t\t\treturn this.getByKey(this.getCurrentKey());\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'setCurrent',\n\t\t\tvalue: function setCurrent(key) {\n\t\t\t\tlocalStorage.setItem(CURRENT_KEY, key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'remove',\n\t\t\tvalue: function remove(key) {\n\t\t\t\tvar prevKeys = JSON.parse(localStorage.getItem(ALL_KEY)) || [];\n\t\t\t\tvar index = prevKeys.indexOf(key);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tprevKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tlocalStorage.setItem(ALL_KEY, JSON.stringify(prevKeys));\n\t\t\t\tlocalStorage.removeItem(key);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'clear',\n\t\t\tvalue: function clear() {\n\t\t\t\tlocalStorage.clear();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn SimpleStorage;\n\t}();\n\t\n\texports.default = new SimpleStorage();\n\n/***/ },\n\n/***/ 589:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(590);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('copy-paste-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 2);\n\t\n\t\tvar fromIndexes = _ref2[0];\n\t\tvar toIndexes = _ref2[1];\n\t\n\t\tgroups.copy(fromIndexes, toIndexes);\n\t});\n\n/***/ },\n\n/***/ 590:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createCalculate = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.createGroupMutation = createGroupMutation;\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tvar _createGroupsWithRandomOffset = __webpack_require__(591);\n\t\n\tvar _common = __webpack_require__(593);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * @description options.groupSize in percents!\r\n\t */\n\tvar createCalculate = exports.createCalculate = function createCalculate(fn) {\n\t\treturn function (data, options) {\n\t\t\tif (!(Array.isArray(data) && data.every(function (item) {\n\t\t\t\treturn typeof item === 'number';\n\t\t\t}))) {\n\t\t\t\tthrow new TypeError('Value of argument \"data\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(data));\n\t\t\t}\n\t\n\t\t\tif (!(options != null && typeof options.groupSize === 'number' && typeof options.count === 'number')) {\n\t\t\t\tthrow new TypeError('Value of argument \"options\" violates contract.\\n\\nExpected:\\n{ groupSize: number;\\n  count: number;\\n}\\n\\nGot:\\n' + _inspect(options));\n\t\t\t}\n\t\n\t\t\tvar size = data.length;\n\t\t\tvar groupsCount = options.count;\n\t\t\tvar groupSize = (0, _common.fromPercentToValue)(size, options.groupSize);\n\t\n\t\t\t// 1. Validation\n\t\t\t(0, _common.validateGroupsInput)(size, groupSize, groupsCount);\n\t\n\t\t\t// 2. Create groups\n\t\t\tvar groups = (0, _createGroupsWithRandomOffset.createGroupsWithRandomOffset)(data, groupSize);\n\t\n\t\t\t// 3. Generate random indexes\n\t\n\t\t\tvar _getGroupsIndexes = (0, _common.getGroupsIndexes)(groupsCount, groups.length());\n\t\n\t\t\tvar _getGroupsIndexes2 = _slicedToArray(_getGroupsIndexes, 2);\n\t\n\t\t\tvar fromIndexes = _getGroupsIndexes2[0];\n\t\t\tvar toIndexes = _getGroupsIndexes2[1];\n\t\n\t\t\t// 4. Do something with indexes and group\n\t\n\t\t\tfn(groups, [fromIndexes, toIndexes], options);\n\t\n\t\t\treturn groups.toRaw();\n\t\t};\n\t};\n\t\n\tvar render = function render(_ref, onblur) {\n\t\tvar count = _ref.count;\n\t\tvar groupSize = _ref.groupSize;\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: count,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'count',\n\t\t\t\ttitle: 'Count of groups',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 10,\n\t\t\t\tstep: 1\n\t\t\t}),\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: groupSize,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'groupSize',\n\t\t\t\ttitle: 'Group size in percents',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 100,\n\t\t\t\tstep: 1\n\t\t\t})\n\t\t);\n\t};\n\t\n\tvar initialState = {\n\t\tweight: 0.2,\n\t\tgroupSize: 5,\n\t\tcount: 2\n\t};\n\t\n\tfunction createGroupMutation(name, fn) {\n\t\tvar state = arguments.length <= 2 || arguments[2] === undefined ? initialState : arguments[2];\n\t\n\t\treturn {\n\t\t\tname: name,\n\t\t\trun: createCalculate(fn),\n\t\t\trender: render,\n\t\t\tgetInitialState: function getInitialState() {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t};\n\t}\n\t\n\tfunction _inspect(input, depth) {\n\t\tvar maxDepth = 4;\n\t\tvar maxKeys = 15;\n\n\t\tif (depth === undefined) {\n\t\t\tdepth = 0;\n\t\t}\n\n\t\tdepth += 1;\n\n\t\tif (input === null) {\n\t\t\treturn 'null';\n\t\t} else if (input === undefined) {\n\t\t\treturn 'void';\n\t\t} else if (typeof input === 'string' || typeof input === 'number' || typeof input === 'boolean') {\n\t\t\treturn typeof input === 'undefined' ? 'undefined' : _typeof(input);\n\t\t} else if (Array.isArray(input)) {\n\t\t\tif (input.length > 0) {\n\t\t\t\tvar _ret = function () {\n\t\t\t\t\tif (depth > maxDepth) return {\n\t\t\t\t\t\t\tv: '[...]'\n\t\t\t\t\t\t};\n\n\t\t\t\t\tvar first = _inspect(input[0], depth);\n\n\t\t\t\t\tif (input.every(function (item) {\n\t\t\t\t\t\treturn _inspect(item, depth) === first;\n\t\t\t\t\t})) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: first.trim() + '[]'\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: '[' + input.slice(0, maxKeys).map(function (item) {\n\t\t\t\t\t\t\t\treturn _inspect(item, depth);\n\t\t\t\t\t\t\t}).join(', ') + (input.length >= maxKeys ? ', ...' : '') + ']'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}();\n\n\t\t\t\tif ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t\t\t} else {\n\t\t\t\treturn 'Array';\n\t\t\t}\n\t\t} else {\n\t\t\tvar keys = Object.keys(input);\n\n\t\t\tif (!keys.length) {\n\t\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\t\treturn input.constructor.name;\n\t\t\t\t} else {\n\t\t\t\t\treturn 'Object';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (depth > maxDepth) return '{...}';\n\t\t\tvar indent = '  '.repeat(depth - 1);\n\t\t\tvar entries = keys.slice(0, maxKeys).map(function (key) {\n\t\t\t\treturn (/^([A-Z_$][A-Z0-9_$]*)$/i.test(key) ? key : JSON.stringify(key)) + ': ' + _inspect(input[key], depth) + ';';\n\t\t\t}).join('\\n  ' + indent);\n\n\t\t\tif (keys.length >= maxKeys) {\n\t\t\t\tentries += '\\n  ' + indent + '...';\n\t\t\t}\n\n\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\treturn input.constructor.name + ' {\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t} else {\n\t\t\t\treturn '{\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t}\n\t\t}\n\t}\n\n/***/ },\n\n/***/ 591:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createGroupsWithRandomOffset = createGroupsWithRandomOffset;\n\t\n\tvar _Groups = __webpack_require__(592);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction getMaxOffset(size, groupSize) {\n\t\treturn size % groupSize;\n\t}\n\t\n\tfunction createGroupsWithRandomOffset(data, groupSize) {\n\t\tvar maxOffset = getMaxOffset(data.length, groupSize);\n\t\tvar offset = _utils.numberUtils.randomBetween(0, maxOffset + 1);\n\t\treturn new _Groups.Groups(data, groupSize, offset);\n\t}\n\n/***/ },\n\n/***/ 592:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Groups = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Groups = exports.Groups = function () {\n\t\t_createClass(Groups, null, [{\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(data, size) {\n\t\t\t\tvar offset = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t\n\t\t\t\tif (!(Array.isArray(data) && data.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"data\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(data));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(typeof size === 'number')) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"size\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(size));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(typeof offset === 'number')) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"offset\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(offset));\n\t\t\t\t}\n\t\n\t\t\t\treturn new Groups(data, size, offset);\n\t\t\t}\n\t\t}]);\n\t\n\t\tfunction Groups(data, size) {\n\t\t\tvar offset = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t\n\t\t\t_classCallCheck(this, Groups);\n\t\n\t\t\tif (!(Array.isArray(data) && data.every(function (item) {\n\t\t\t\treturn typeof item === 'number';\n\t\t\t}))) {\n\t\t\t\tthrow new TypeError('Value of argument \"data\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(data));\n\t\t\t}\n\t\n\t\t\tif (!(typeof size === 'number')) {\n\t\t\t\tthrow new TypeError('Value of argument \"size\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(size));\n\t\t\t}\n\t\n\t\t\tif (!(typeof offset === 'number')) {\n\t\t\t\tthrow new TypeError('Value of argument \"offset\" violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(offset));\n\t\t\t}\n\t\n\t\t\tthis._chunks = this._createChunks(data, size, offset);\n\t\t}\n\t\n\t\t_createClass(Groups, [{\n\t\t\tkey: 'swap',\n\t\t\tvalue: function swap(first, second) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tif (!(Array.isArray(first) && first.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"first\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(first));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(second) && second.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"second\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(second));\n\t\t\t\t}\n\t\n\t\t\t\tvar hash = this._arraysToMap(first, second);\n\t\t\t\tvar backHash = this._arraysToMap(second, first);\n\t\n\t\t\t\tthis._chunks = this._chunks.map(function (item, index) {\n\t\t\t\t\tif (hash[index]) {\n\t\t\t\t\t\treturn _this._chunks[hash[index]];\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (backHash[index]) {\n\t\t\t\t\t\treturn _this._chunks[backHash[index]];\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'copy',\n\t\t\tvalue: function copy(first, second) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tif (!(Array.isArray(first) && first.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"first\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(first));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(second) && second.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"second\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(second));\n\t\t\t\t}\n\t\n\t\t\t\tvar hash = this._arraysToMap(first, second);\n\t\t\t\tthis._chunks = this._chunks.map(function (item, index) {\n\t\t\t\t\treturn hash[index] == null ? item : _this2._chunks[hash[index]];\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'length',\n\t\t\tvalue: function length() {\n\t\t\t\tfunction _ref3(_id3) {\n\t\t\t\t\tif (!(typeof _id3 === 'number')) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\nnumber\\n\\nGot:\\n' + _inspect(_id3));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id3;\n\t\t\t\t}\n\t\n\t\t\t\treturn _ref3(this._chunks.length);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'set',\n\t\t\tvalue: function set(index, value) {\n\t\t\t\tthis._chunks[index] = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'get',\n\t\t\tvalue: function get(index) {\n\t\t\t\treturn this._chunks[index];\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'all',\n\t\t\tvalue: function all() {\n\t\t\t\treturn this._chunks;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'toRaw',\n\t\t\tvalue: function toRaw() {\n\t\t\t\tfunction _ref4(_id4) {\n\t\t\t\t\tif (!(Array.isArray(_id4) && _id4.every(function (item) {\n\t\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t\t}))) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(_id4));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id4;\n\t\t\t\t}\n\t\n\t\t\t\treturn _ref4((0, _lodash.flatten)(this._chunks));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_createChunks',\n\t\t\tvalue: function _createChunks(data, size, offset) {\n\t\t\t\tfunction _ref5(_id5) {\n\t\t\t\t\tif (!(Array.isArray(_id5) && _id5.every(function (item) {\n\t\t\t\t\t\treturn Array.isArray(item) && item.every(function (item) {\n\t\t\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t\t\t});\n\t\t\t\t\t}))) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<Array<number>>\\n\\nGot:\\n' + _inspect(_id5));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id5;\n\t\t\t\t}\n\t\n\t\t\t\tvar firstChunk = data.slice(0, offset);\n\t\t\t\tvar rest = (0, _lodash.chunk)(data.slice(offset), size);\n\t\t\t\treturn _ref5(firstChunk.length ? [firstChunk].concat(_toConsumableArray(rest)) : rest);\n\t\t\t}\n\t\n\t\t\t// TODO: maybe export somewhere arrayUtils, objectUtils\n\t\n\t\t}, {\n\t\t\tkey: '_arraysToMap',\n\t\t\tvalue: function _arraysToMap(first, second) {\n\t\t\t\tfunction _ref6(_id6) {\n\t\t\t\t\tif (!(_id6 != null && (typeof _id6 === 'undefined' ? 'undefined' : _typeof(_id6)) === 'object' && Object.keys(_id6).every(function (key) {\n\t\t\t\t\t\tvar _id7 = _id6[key];\n\t\t\t\t\t\treturn typeof _id7 === 'number';\n\t\t\t\t\t}))) {\n\t\t\t\t\t\tthrow new TypeError('Function return value violates contract.\\n\\nExpected:\\n{ [id: number]: number\\n}\\n\\nGot:\\n' + _inspect(_id6));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _id6;\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(first) && first.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"first\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(first));\n\t\t\t\t}\n\t\n\t\t\t\tif (!(Array.isArray(second) && second.every(function (item) {\n\t\t\t\t\treturn typeof item === 'number';\n\t\t\t\t}))) {\n\t\t\t\t\tthrow new TypeError('Value of argument \"second\" violates contract.\\n\\nExpected:\\nArray<number>\\n\\nGot:\\n' + _inspect(second));\n\t\t\t\t}\n\t\n\t\t\t\treturn _ref6(first.reduce(function (reducer, value, index) {\n\t\t\t\t\treturn _extends({}, reducer, _defineProperty({}, value, second[index]));\n\t\t\t\t}, {}));\n\t\t\t}\n\t\t}]);\n\n\t\treturn Groups;\n\t}();\n\n\tfunction _inspect(input, depth) {\n\t\tvar maxDepth = 4;\n\t\tvar maxKeys = 15;\n\n\t\tif (depth === undefined) {\n\t\t\tdepth = 0;\n\t\t}\n\n\t\tdepth += 1;\n\n\t\tif (input === null) {\n\t\t\treturn 'null';\n\t\t} else if (input === undefined) {\n\t\t\treturn 'void';\n\t\t} else if (typeof input === 'string' || typeof input === 'number' || typeof input === 'boolean') {\n\t\t\treturn typeof input === 'undefined' ? 'undefined' : _typeof(input);\n\t\t} else if (Array.isArray(input)) {\n\t\t\tif (input.length > 0) {\n\t\t\t\tvar _ret = function () {\n\t\t\t\t\tif (depth > maxDepth) return {\n\t\t\t\t\t\t\tv: '[...]'\n\t\t\t\t\t\t};\n\n\t\t\t\t\tvar first = _inspect(input[0], depth);\n\n\t\t\t\t\tif (input.every(function (item) {\n\t\t\t\t\t\treturn _inspect(item, depth) === first;\n\t\t\t\t\t})) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: first.trim() + '[]'\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tv: '[' + input.slice(0, maxKeys).map(function (item) {\n\t\t\t\t\t\t\t\treturn _inspect(item, depth);\n\t\t\t\t\t\t\t}).join(', ') + (input.length >= maxKeys ? ', ...' : '') + ']'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}();\n\n\t\t\t\tif ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t\t\t} else {\n\t\t\t\treturn 'Array';\n\t\t\t}\n\t\t} else {\n\t\t\tvar keys = Object.keys(input);\n\n\t\t\tif (!keys.length) {\n\t\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\t\treturn input.constructor.name;\n\t\t\t\t} else {\n\t\t\t\t\treturn 'Object';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (depth > maxDepth) return '{...}';\n\t\t\tvar indent = '  '.repeat(depth - 1);\n\t\t\tvar entries = keys.slice(0, maxKeys).map(function (key) {\n\t\t\t\treturn (/^([A-Z_$][A-Z0-9_$]*)$/i.test(key) ? key : JSON.stringify(key)) + ': ' + _inspect(input[key], depth) + ';';\n\t\t\t}).join('\\n  ' + indent);\n\n\t\t\tif (keys.length >= maxKeys) {\n\t\t\t\tentries += '\\n  ' + indent + '...';\n\t\t\t}\n\n\t\t\tif (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t\t\t\treturn input.constructor.name + ' {\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t} else {\n\t\t\t\treturn '{\\n  ' + indent + entries + '\\n' + indent + '}';\n\t\t\t}\n\t\t}\n\t}\n\n/***/ },\n\n/***/ 593:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.validateGroupsInput = validateGroupsInput;\n\texports.fromPercentToValue = fromPercentToValue;\n\texports.getGroupsIndexes = getGroupsIndexes;\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction validateGroupsInput(size, groupSize, groupsCount) {\n\t\tif (size < groupSize * groupsCount) {\n\t\t\tthrow new Error('Invalid groupSize: ' + groupSize + ' or groupsCount: ' + groupsCount + ' for size: ' + size);\n\t\t}\n\t}\n\t\n\tfunction fromPercentToValue(size, percent) {\n\t\treturn Math.floor(size * percent / 100);\n\t}\n\t\n\t/**\r\n\t * returns 2 groups of indexes \r\n\t */\n\tfunction getGroupsIndexes(groupsCount, groupsSize) {\n\t\t// TODO: [0, groupSize - 1] quick fix to not grab first and last indexes\n\t\tvar swapIndexes = _utils.arrayUtils.getRandomIndexes(groupsCount * 2, groupsSize, [0, groupsSize - 1]);\n\t\tvar middle = swapIndexes.length / 2;\n\t\treturn [swapIndexes.slice(0, middle), swapIndexes.slice(middle)];\n\t}\n\n/***/ },\n\n/***/ 594:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(590);\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('order-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 1);\n\t\n\t\tvar indexes = _ref2[0];\n\t\n\t\tindexes.forEach(function (i) {\n\t\t\tvar chunk = groups.get(i);\n\t\t\tvar sorted = (0, _lodash.sortBy)(chunk);\n\t\t\tgroups.set(i, _utils.randomUtils.headsOrTails() ? sorted : sorted.reverse());\n\t\t});\n\t});\n\n/***/ },\n\n/***/ 595:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(590);\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('reverse-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 1);\n\t\n\t\tvar indexes = _ref2[0];\n\t\n\t\tindexes.forEach(function (i) {\n\t\t\tgroups.set(i, groups.get(i).reverse());\n\t\t});\n\t});\n\n/***/ },\n\n/***/ 596:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _calculate = __webpack_require__(597);\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar COUNT_OF_GENS = _MusicContext2.default.getCompositionLength();\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: COUNT_OF_GENS,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 1,\n\t\t\tcount: 10\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'sort-mutation',\n\t\trun: _calculate.calculate,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 597:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.calculate = calculate;\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction calculate(data, options) {\n\t\tif (options.count >= data.length) {\n\t\t\tthrow 'To much gens for sort mutation';\n\t\t}\n\t\n\t\tvar length = data.length;\n\t\tvar startIndex = _utils.numberUtils.randomBetween(0, length - options.count);\n\t\tvar endIndex = startIndex + options.count;\n\t\n\t\tvar sorted = data.slice(startIndex, endIndex).sort(function (a, b) {\n\t\t\treturn +a - +b;\n\t\t});\n\t\n\t\treturn [].concat(_toConsumableArray(data.slice(0, startIndex)), _toConsumableArray(sorted), _toConsumableArray(data.slice(endIndex)));\n\t}\n\n/***/ },\n\n/***/ 598:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar defaultOptions = {\n\t\tcount: 64\n\t};\n\t\n\tfunction run(data) {\n\t\tvar options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t\toptions = Object.assign({}, defaultOptions, options);\n\t\n\t\t_utils.arrayUtils\n\t\t// -1 cause we need neighbor\n\t\t.getRandomIndexes(options.count, data.length - 1).forEach(function (i) {\n\t\t\tvar temp = data[i];\n\t\t\tdata[i] = data[i + 1];\n\t\t\tdata[i + 1] = temp;\n\t\t});\n\t\n\t\treturn data;\n\t}\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: 128,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 0.25,\n\t\t\tcount: 32\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'swap2-mutation',\n\t\trun: run,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 599:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createGroupMutation = __webpack_require__(590);\n\t\n\texports.default = (0, _createGroupMutation.createGroupMutation)('swap-group-mutation', function (groups, _ref) {\n\t\tvar _ref2 = _slicedToArray(_ref, 2);\n\t\n\t\tvar fromIndexes = _ref2[0];\n\t\tvar toIndexes = _ref2[1];\n\t\n\t\tgroups.swap(fromIndexes, toIndexes);\n\t});\n\n/***/ },\n\n/***/ 600:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _calculate = __webpack_require__(601);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar initialState = {\n\t\tweight: 0.2,\n\t\tgroupSize: 5,\n\t\tcount: 2,\n\t\ttransposeSize: 2\n\t};\n\t\n\tvar render = function render(_ref, onblur) {\n\t\tvar count = _ref.count;\n\t\tvar groupSize = _ref.groupSize;\n\t\tvar transposeSize = _ref.transposeSize;\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: count,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'count',\n\t\t\t\ttitle: 'Count of groups',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 10,\n\t\t\t\tstep: 1\n\t\t\t}),\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: groupSize,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'groupSize',\n\t\t\t\ttitle: 'Group size in percents',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 100,\n\t\t\t\tstep: 1\n\t\t\t}),\n\t\t\t_react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\t\tdefaultValue: transposeSize,\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: 'transposeSize',\n\t\t\t\ttitle: 'Size of transposition in steps',\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 7,\n\t\t\t\tstep: 1\n\t\t\t})\n\t\t);\n\t};\n\t\n\texports.default = {\n\t\tname: 'transpose-mutation',\n\t\trun: _calculate.calculate,\n\t\trender: render,\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn initialState;\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 601:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.calculate = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tvar _createGroupMutation = __webpack_require__(590);\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tvar MAX_GEN_VALUE = (0, _lodash.last)(_MusicContext.availableValuesInGF);\n\t\n\tfunction transposeGen(gen, transposeSize) {\n\t\tif ([_MusicContext.PAUSE, _MusicContext.HOLD].includes(gen)) {\n\t\t\treturn gen;\n\t\t}\n\t\tvar newValue = gen + transposeSize;\n\t\tvar rem = newValue % MAX_GEN_VALUE;\n\t\treturn rem ? rem : MAX_GEN_VALUE;\n\t}\n\t\n\tvar calculate = exports.calculate = (0, _createGroupMutation.createCalculate)(function (groups, _ref, _ref2) {\n\t\tvar _ref3 = _slicedToArray(_ref, 1);\n\t\n\t\tvar indexes = _ref3[0];\n\t\tvar transposeSize = _ref2.transposeSize;\n\t\n\t\tindexes.forEach(function (i) {\n\t\t\tvar chunk = groups.get(i);\n\t\t\tgroups.set(i, chunk.map(function (g) {\n\t\t\t\treturn transposeGen(g, transposeSize);\n\t\t\t}));\n\t\t});\n\t});\n\n/***/ },\n\n/***/ 602:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultOptions = {\n\t\tcount: 64\n\t};\n\t\n\tvar UP_CORNER = 14;\n\tvar DOWN_CORNER = 1;\n\t\n\tvar UpAndDownMutation = function () {\n\t\tfunction UpAndDownMutation() {\n\t\t\t_classCallCheck(this, UpAndDownMutation);\n\t\t}\n\t\n\t\t_createClass(UpAndDownMutation, [{\n\t\t\tkey: 'mutate',\n\t\t\tvalue: function mutate(data) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\t\t\tvar indexes = _utils.arrayUtils.getRandomIndexes(options.count, data.length);\n\t\t\t\tindexes.forEach(function (i) {\n\t\t\t\t\tif (data[i] === -1 || data[i] === 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdata[i] = _this._mutateOne(data[i]);\n\t\t\t\t});\n\t\t\t\treturn data;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_mutateOne',\n\t\t\tvalue: function _mutateOne(value) {\n\t\t\t\tif (Math.random() > 0.5) {\n\t\t\t\t\t//TODO: export to common END\n\t\t\t\t\tif (value < UP_CORNER) {\n\t\t\t\t\t\treturn value + 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\t//TODO: export to common START\n\t\t\t\t\tif (value > DOWN_CORNER + 1) {\n\t\t\t\t\t\treturn value - 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn UpAndDownMutation;\n\t}();\n\t\n\tvar instance = new UpAndDownMutation();\n\tvar run = instance.mutate.bind(instance);\n\t\n\tvar render = function render(state, onblur) {\n\t\treturn _react2.default.createElement(_UIFactory.SliderControl, {\n\t\t\tdefaultValue: state.count,\n\t\t\tonBlur: onblur.bind(null, 'count'),\n\t\t\tfield: 'count',\n\t\t\ttitle: 'Count of genes',\n\t\t\tmin: 1,\n\t\t\tmax: 128,\n\t\t\tstep: 1\n\t\t});\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 1,\n\t\t\tcount: 7\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'up-and-down-mutation',\n\t\trun: run,\n\t\trender: render,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 603:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Component = exports.run = undefined;\n\t\n\tvar _createProvider = __webpack_require__(568);\n\t\n\tvar context = __webpack_require__(604);\n\t\n\tvar _createCompositeProvi = (0, _createProvider.createCompositeProvider)('fitness', context);\n\t\n\tvar run = _createCompositeProvi.run;\n\tvar Component = _createCompositeProvi.Component;\n\texports.run = run;\n\texports.Component = Component;\n\n/***/ },\n\n/***/ 604:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./BasicReferenceFitness.js\": 605,\n\t\t\"./ClusterFitness.js\": 607,\n\t\t\"./DirectionFitness.js\": 611,\n\t\t\"./IntervalFitness.js\": 613,\n\t\t\"./MagnitudeFitness.js\": 616,\n\t\t\"./MelodyFitness.js\": 618,\n\t\t\"./NoteSizePartialFitness.js\": 619,\n\t\t\"./RodNoteFitness.js\": 623\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 604;\n\n\n/***/ },\n\n/***/ 605:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _normalization = __webpack_require__(606);\n\t\n\tvar run = function run(content, reference) {\n\t\tvar normContent = (0, _normalization.normalizeNotesDiscrete)(content);\n\t\tvar normReference = (0, _normalization.normalizeNotesDiscrete)(reference);\n\t\tvar point = 1 / normContent.length;\n\t\n\t\treturn normContent.reduce(function (store, item, index) {\n\t\t\treturn item === normReference[index] ? store + point : store;\n\t\t}, 0);\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'basic-reference-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 606:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.normalizer = exports.normalizePitchToOctave = exports.normalizeNotesDiscrete = exports.normalizeHolds = undefined;\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Replace holds with pauses\r\n\t * @type {Array<Number>}\r\n\t */\n\tvar normalizeHolds = exports.normalizeHolds = function normalizeHolds(content) {\n\t\treturn content.reduce(function (store, current) {\n\t\t\treturn store.concat(current === -1 ? 0 : current);\n\t\t}, []);\n\t};\n\t\n\t/**\r\n\t * Replace holds with previous notePitchs/pauses\r\n\t * @example 7, -1, -1, 0, -1 = 7, 7, 7, 0, 0\r\n\t */\n\tvar normalizeNotesDiscrete = exports.normalizeNotesDiscrete = function normalizeNotesDiscrete(content) {\n\t\treturn content.reduce(function (store, current) {\n\t\t\tif (current >= 0) {\n\t\t\t\tstore.note = current;\n\t\t\t}\n\t\t\tstore.data.push(store.note);\n\t\t\treturn store;\n\t\t}, { data: [], note: 0 }).data;\n\t};\n\t\n\t// TODO: probably could be dynamic, for now static\n\tvar MAX_ONE_OCTAVE_VALUE = _MusicContext2.default.getMaxOneOctaveValue();\n\tvar normalizePitchToOctave = exports.normalizePitchToOctave = function normalizePitchToOctave(content) {\n\t\treturn content.map(function (v) {\n\t\t\treturn _utils.numberUtils.normalizeValue(v, MAX_ONE_OCTAVE_VALUE);\n\t\t});\n\t};\n\t\n\tvar normalizer = exports.normalizer = function normalizer(normalizers) {\n\t\treturn function (content) {\n\t\t\treturn normalizers.reduce(function (data, normalizerFn) {\n\t\t\t\treturn normalizerFn(data);\n\t\t\t}, content);\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 607:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _clusterMask = __webpack_require__(608);\n\t\n\tvar _executors = __webpack_require__(610);\n\t\n\texports.default = {\n\t\tname: 'cluster-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_clusterMask.clusterMask)(_executors.barEqualityComparer),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0.5, _important: true };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 608:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.clusterMask = undefined;\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _helpers = __webpack_require__(609);\n\t\n\tvar DEFAULT_THRESHOLD = 0.5;\n\t\n\tvar clusterMask = exports.clusterMask = (0, _helpers.maskFactory)(function (bar) {\n\t\tvar _ref = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t\tvar _ref$threshold = _ref.threshold;\n\t\tvar threshold = _ref$threshold === undefined ? DEFAULT_THRESHOLD : _ref$threshold;\n\t\treturn bar.reduce(function (reducer, value) {\n\t\t\treturn reducer + value === _MusicContext.PAUSE ? 0 : 1;\n\t\t}, 0) / bar.length;\n\t});\n\n/***/ },\n\n/***/ 609:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.maskFactory = undefined;\n\t\n\tvar _Composition = __webpack_require__(583);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar maskFactory = exports.maskFactory = function maskFactory(barAnalyzer) {\n\t\treturn function (data, options) {\n\t\t\treturn _Composition2.default.create(data).rawBars().map(function (bar) {\n\t\t\t\treturn barAnalyzer(bar, options);\n\t\t\t});\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 610:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar fitnessExecutor = exports.fitnessExecutor = function fitnessExecutor(extractor) {\n\t\treturn function (comparer) {\n\t\t\treturn function (content, reference) {\n\t\t\t\tvar options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\t\t\t\treturn comparer(extractor(content, options), extractor(reference, options), options);\n\t\t\t};\n\t\t};\n\t};\n\t\n\tvar barEqualityComparer = exports.barEqualityComparer = function barEqualityComparer(content, reference) {\n\t\tvar size = 1 / content.length;\n\t\treturn reference.reduce(function (reducer, value, index) {\n\t\t\treturn content[index] === value ? reducer + size : reducer;\n\t\t}, 0);\n\t};\n\n/***/ },\n\n/***/ 611:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _directionMask = __webpack_require__(612);\n\t\n\tvar _executors = __webpack_require__(610);\n\t\n\texports.default = {\n\t\tname: 'direction-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_directionMask.directionAnalyzer)(_executors.barEqualityComparer),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0 };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 612:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.directionAnalyzer = exports.DIRECTION = undefined;\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.directionForBar = directionForBar;\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _helpers = __webpack_require__(609);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar DIRECTION = exports.DIRECTION = {\n\t\tUP: 'UP',\n\t\tDOWN: 'DOWN',\n\t\tSTABLE: 'STABLE',\n\t\tNONE: 'NONE'\n\t};\n\t\n\tvar DEFAULT_SIZE = 3;\n\tvar MIN_SPREAD = 3;\n\t\n\tfunction getDirection(a, b) {\n\t\tif (a === b) {\n\t\t\treturn DIRECTION.STABLE;\n\t\t}\n\t\treturn a > b ? DIRECTION.DOWN : DIRECTION.UP;\n\t}\n\t\n\tfunction calculateFrequencies(bar, _ref) {\n\t\tvar _storage;\n\t\n\t\tvar size = _ref.size;\n\t\n\t\tvar storage = (_storage = {}, _defineProperty(_storage, DIRECTION.UP, 0), _defineProperty(_storage, DIRECTION.DOWN, 0), _defineProperty(_storage, DIRECTION.STABLE, 0), _defineProperty(_storage, DIRECTION.NONE, 0), _storage);\n\t\t// Dummy implementation need rework\n\t\tvar chain = [];\n\t\tvar currentDirection = null;\n\t\tfor (var i = 0; i < bar.length; i++) {\n\t\t\tvar value = bar[i];\n\t\t\tif (value === _MusicContext.PAUSE) {\n\t\t\t\tif (chain.length >= size) {\n\t\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\n\t\t\t\t}\n\t\t\t\tchain = [];\n\t\t\t\tcurrentDirection = null;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\tif (!chain.length) {\n\t\t\t\tchain.push(value);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\tvar prev = chain[chain.length - 1];\n\t\t\tvar direction = getDirection(prev, value);\n\t\n\t\t\tif (!currentDirection) {\n\t\t\t\tcurrentDirection = direction;\n\t\t\t\tchain.push(value);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\tif (currentDirection === direction) {\n\t\t\t\tchain.push(value);\n\t\t\t} else {\n\t\t\t\tif (chain.length > size) {\n\t\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\n\t\t\t\t}\n\t\t\t\tchain = [value];\n\t\t\t\tcurrentDirection = null;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (chain.length >= size) {\n\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\n\t\t}\n\t\treturn storage;\n\t}\n\t\n\t/**\r\n\t * @desc exported for tests\r\n\t */\n\tfunction directionForBar(bar) {\n\t\tvar _ref2 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t\tvar _ref2$size = _ref2.size;\n\t\tvar size = _ref2$size === undefined ? DEFAULT_SIZE : _ref2$size;\n\t\tvar _ref2$spread = _ref2.spread;\n\t\tvar spread = _ref2$spread === undefined ? MIN_SPREAD : _ref2$spread;\n\t\n\t\tvar cleanedBar = bar.reduce(function (reducer, current) {\n\t\t\treturn current === _MusicContext.HOLD ? reducer : [].concat(_toConsumableArray(reducer), [current]);\n\t\t}, []);\n\t\n\t\tvar frequencies = calculateFrequencies(cleanedBar, { size: size, spread: spread });\n\t\n\t\tvar descSortedFrequencies = Object.entries(frequencies).sort(function (a, b) {\n\t\t\treturn a[1] < b[1];\n\t\t});\n\t\n\t\tvar _descSortedFrequencie = _slicedToArray(descSortedFrequencies, 2);\n\t\n\t\tvar first = _descSortedFrequencie[0];\n\t\tvar second = _descSortedFrequencie[1];\n\t\n\t\n\t\tif (first[1] - second[1] >= spread) {\n\t\t\treturn first[0];\n\t\t} else {\n\t\t\treturn DIRECTION.NONE;\n\t\t}\n\t}\n\t\n\t/**\r\n\t * @type {Array<number>}\r\n\t * @return {Array<DIRECTION>} \r\n\t */\n\tvar directionAnalyzer = exports.directionAnalyzer = (0, _helpers.maskFactory)(directionForBar);\n\n/***/ },\n\n/***/ 613:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _calculate = __webpack_require__(614);\n\t\n\tvar _calculate2 = _interopRequireDefault(_calculate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar run = _calculate2.default.fitness.bind(_calculate2.default);\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\t// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\n\t/*\r\n\tconst defaultOptions = {\r\n\t\tintervalValuesWeight: 0.5,\r\n\t\tintervalDispersionWeight: 0.5\r\n\t};\r\n\t */\n\t\n\texports.default = {\n\t\tname: 'interval-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 614:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _common = __webpack_require__(615);\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultOptions = {\n\t\tintervalValuesWeight: 0.5,\n\t\tintervalDispersionWeight: 0.5\n\t};\n\t\n\tvar IntervalFitness = function () {\n\t\tfunction IntervalFitness() {\n\t\t\t_classCallCheck(this, IntervalFitness);\n\t\n\t\t\tthis._referenceValues /*: Array<{dispersion: number, average: number}> - array of bars and their interval values */ = null;\n\t\t}\n\t\n\t\t_createClass(IntervalFitness, [{\n\t\t\tkey: 'reset',\n\t\t\tvalue: function reset() {\n\t\t\t\tthis._referenceValues = null;\n\t\t\t}\n\t\n\t\t\t//TODO: options could be passed once\n\t\n\t\t}, {\n\t\t\tkey: 'fitness',\n\t\t\tvalue: function fitness(content, reference) {\n\t\t\t\tvar options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\t\n\t\t\t\toptions = this._normalizeOptions(Object.assign({}, defaultOptions, options));\n\t\t\t\tvar contentPitch = _utils.notesUtils.toPitch(content);\n\t\t\t\tvar referencePitch = _utils.notesUtils.toPitch(reference);\n\t\n\t\t\t\tvar contentValues = this._calculateIntervalValues(contentPitch);\n\t\t\t\tif (!this._referenceValues) {\n\t\t\t\t\tthis._referenceValues = this._calculateIntervalValues(referencePitch);\n\t\t\t\t}\n\t\n\t\t\t\tvar result = this._calculateFitness(contentValues, options);\n\t\t\t\tconsole.assert((0, _lodash.isNumber)(result), 'Result should be a number');\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_calculateFitness',\n\t\t\tvalue: function _calculateFitness(contentValues, options) {\n\t\t\t\tvar contentMaxIndex = contentValues.length;\n\t\t\t\tvar averageSum = 0;\n\t\t\t\tvar dispersionSum = 0;\n\t\n\t\t\t\tthis._referenceValues.some(function (_ref, i) {\n\t\t\t\t\tvar aRef = _ref.average;\n\t\t\t\t\tvar dRef = _ref.dispersion;\n\t\n\t\t\t\t\tif (contentMaxIndex <= i) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tvar _contentValues$i = contentValues[i];\n\t\t\t\t\tvar average = _contentValues$i.average;\n\t\t\t\t\tvar dispersion = _contentValues$i.dispersion;\n\t\n\t\n\t\t\t\t\taverageSum += Math.abs(aRef - average);\n\t\t\t\t\tdispersionSum += Math.abs(dRef - dispersion);\n\t\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\n\t\t\t\taverageSum = averageSum / this._referenceValues.length;\n\t\t\t\tdispersionSum = dispersionSum / this._referenceValues.length;\n\t\n\t\t\t\tconsole.assert((0, _lodash.isNumber)(averageSum), 'AverageSum is a number');\n\t\n\t\t\t\taverageSum = (1 - averageSum / _common.MAX_AVERAGE_DIFF) * options.intervalValuesWeight;\n\t\t\t\tdispersionSum = (1 - dispersionSum / _common.MAX_DISPERSION_DIFF) * options.intervalDispersionWeight;\n\t\n\t\t\t\tconsole.assert((0, _lodash.isNumber)(averageSum), 'AverageSum is a number');\n\t\t\t\treturn averageSum + dispersionSum;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_calculateIntervalValues',\n\t\t\tvalue: function _calculateIntervalValues(bars) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\treturn bars.map(function (bar) {\n\t\t\t\t\treturn _this._calculateIntervalValuesForBar(bar);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_calculateIntervalValuesForBar',\n\t\t\tvalue: function _calculateIntervalValuesForBar(pitchesBar) {\n\t\t\t\tvar valuesArray = [];\n\t\t\t\tvar count = pitchesBar.length;\n\t\t\t\tvar sum = 0;\n\t\n\t\t\t\tif (!count) {\n\t\t\t\t\treturn { average: 0, dispersion: 0 };\n\t\t\t\t}\n\t\n\t\t\t\tfor (var i = 0; i < count - 1; i++) {\n\t\t\t\t\tvar a = pitchesBar[i];\n\t\t\t\t\tvar b = pitchesBar[i + 1];\n\t\n\t\t\t\t\tvar value = (0, _common.getValueBetweenNotes)(a, b);\n\t\t\t\t\tsum += value;\n\t\t\t\t\tvaluesArray.push(value);\n\t\t\t\t}\n\t\n\t\t\t\tvar average = sum / count;\n\t\t\t\tvar dispersion = valuesArray.map(function (v) {\n\t\t\t\t\treturn Math.pow(v - average, 2);\n\t\t\t\t}).reduce(function (prev, val) {\n\t\t\t\t\treturn prev + val;\n\t\t\t\t}, 0);\n\t\n\t\t\t\treturn { average: average, dispersion: dispersion };\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_normalizeOptions',\n\t\t\tvalue: function _normalizeOptions(options) {\n\t\t\t\tvar max = options.intervalValuesWeight + options.intervalDispersionWeight;\n\t\t\t\treturn Object.assign(options, {\n\t\t\t\t\tintervalValuesWeight: options.intervalValuesWeight / max,\n\t\t\t\t\tintervalDispersionWeight: options.intervalDispersionWeight / max\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn IntervalFitness;\n\t}();\n\t\n\texports.default = new IntervalFitness();\n\n/***/ },\n\n/***/ 615:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.MAX_DISPERSION_DIFF = exports.MAX_AVERAGE_DIFF = undefined;\n\texports.getValueBetweenNotes = getValueBetweenNotes;\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar INTERVAL_TYPE_VALUES = [{\n\t\tPERFECT_CONSONANTS: 1,\n\t\tIMPERFECT_CONSONANTS: 2,\n\t\tSECONDS: 3,\n\t\tSEVENTH: 3,\n\t\tGRATER_THAN_OCTAVE: 5\n\t}, {\n\t\tPERFECT_CONSONANTS: 1,\n\t\tIMPERFECT_CONSONANTS: 3,\n\t\tSECONDS: 1,\n\t\tSEVENTH: 3,\n\t\tGRATER_THAN_OCTAVE: 5\n\t}];\n\t\n\t//0, 1\n\tfunction getIntervalValue(interval) {\n\t\tvar type = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t\tvar values = {\n\t\t\t//Perfect consonants\n\t\t\t0: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //unison\n\t\t\t5: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //perfect fourth\n\t\t\t7: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //perfect fifth\n\t\t\t12: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //octave\n\t\n\t\t\t//Imperfect consonants\n\t\t\t3: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // min third\n\t\t\t4: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // maj third\n\t\t\t8: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // min sixth\n\t\t\t9: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS, // big sixth\n\t\n\t\t\t//Seconds\n\t\t\t1: INTERVAL_TYPE_VALUES[type].SECONDS, //min second\n\t\t\t2: INTERVAL_TYPE_VALUES[type].SECONDS, //maj second\n\t\n\t\t\t//Sevenths\n\t\t\t10: INTERVAL_TYPE_VALUES[type].SEVENTH, //min seventh\n\t\t\t11: INTERVAL_TYPE_VALUES[type].SEVENTH, //maj seventh\n\t\n\t\t\t//More then octave\n\t\t\t6: INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE,\n\t\t\t'-1': INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE\n\t\t};\n\t\n\t\tif (interval > 12) {\n\t\t\treturn values[-1];\n\t\t}\n\t\n\t\treturn values[interval];\n\t}\n\t\n\tfunction getValueBetweenNotes(noteA, noteB) {\n\t\tvar mode = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t\n\t\t// assume that noteA, noteB are not PAUSE or HOLD;\n\t\tvar halfTones = _MusicContext2.default.getHalfTonesBeetween(noteA, noteB);\n\t\tvar intervalValue = getIntervalValue(halfTones, mode);\n\t\treturn intervalValue;\n\t}\n\t\n\tvar MAX_AVERAGE_DIFF = exports.MAX_AVERAGE_DIFF = 4;\n\tvar MAX_DISPERSION_DIFF = exports.MAX_DISPERSION_DIFF = MAX_AVERAGE_DIFF * MAX_AVERAGE_DIFF;\n\n/***/ },\n\n/***/ 616:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _calculate = __webpack_require__(617);\n\t\n\tvar _calculate2 = _interopRequireDefault(_calculate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar run = _calculate2.default.fitness.bind(_calculate2.default);\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\texports.default = {\n\t\tname: 'magnitude-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 617:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar STEP = 1 / 8;\n\tvar WHOLE_LENGTH = 128; //in STEP\n\tvar BAR = WHOLE_LENGTH * STEP; // in STEPS\n\t\n\tvar BIT_VALUES = [4, 2, 3, 1];\n\tvar MAX_DISTANCE = 4;\n\t//each bar has 10 balls to normalize we need to /16 and it's 1 ball for bar and /8 (8 bars)\n\t\n\tvar PAUSE = -1;\n\tvar HOLD = 0;\n\t\n\tvar MagnitudeFitness = function () {\n\t\tfunction MagnitudeFitness() {\n\t\t\t_classCallCheck(this, MagnitudeFitness);\n\t\t}\n\t\n\t\t_createClass(MagnitudeFitness, [{\n\t\t\tkey: 'fitness',\n\t\t\tvalue: function fitness(content, reference) {\n\t\t\t\tvar sum = 0;\n\t\t\t\tfor (var i = 0, l = content.length; i < l; i++) {\n\t\t\t\t\tvar index = i % 16; // from 0 - 15;\n\t\t\t\t\tvar bitValue = this._getBitValue(index);\n\t\t\t\t\tvar refValue = reference[i];\n\t\t\t\t\tvar contentValue = content[i];\n\t\n\t\t\t\t\tif (refValue === PAUSE || contentValue === PAUSE || refValue === HOLD || contentValue === HOLD) {\n\t\t\t\t\t\tif (refValue === contentValue) {\n\t\t\t\t\t\t\tsum += bitValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar distance = Math.abs(content[i] - reference[i]);\n\t\n\t\t\t\t\tif (distance > MAX_DISTANCE) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tsum += bitValue * (1 - distance / MAX_DISTANCE);\n\t\t\t\t}\n\t\n\t\t\t\treturn this._normalize(sum);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_getBitValue',\n\t\t\tvalue: function _getBitValue(index) {\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar start = i * 4;\n\t\t\t\t\tif (index >= start && index < start + 4) {\n\t\t\t\t\t\treturn BIT_VALUES[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthrow new 'Something went wrong in MagnitudeFitness._gitBitValue'();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_normalize',\n\t\t\tvalue: function _normalize(value) {\n\t\t\t\treturn value / 8 / 10 / 4;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn MagnitudeFitness;\n\t}();\n\t\n\texports.default = new MagnitudeFitness();\n\n/***/ },\n\n/***/ 618:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _calculate = __webpack_require__(617);\n\t\n\tvar _calculate2 = _interopRequireDefault(_calculate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar run = _calculate2.default.fitness.bind(_calculate2.default);\n\tvar getInitialState = function getInitialState() {\n\t\treturn { weight: 0 };\n\t};\n\t\n\t// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\n\t/*\r\n\tconst defaultOptions = {\r\n\t\tpitch: 1,\r\n\t\trhythm: 1,\r\n\t\tmaxPitchDistance: 4\r\n\t};\r\n\t*/\n\texports.default = {\n\t\tname: 'magnitude-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 619:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _noteSizeDistributionAnalyzer = __webpack_require__(620);\n\t\n\tvar _calculateError = __webpack_require__(621);\n\t\n\tvar run = function run(content, reference, options) {\n\t\tconsole.assert(content.length === reference.length);\n\t\n\t\tvar referenceAnalysis = (0, _noteSizeDistributionAnalyzer.noteSizeDistributionAnalyzer)(reference);\n\t\tvar contentAnalysis = (0, _noteSizeDistributionAnalyzer.noteSizeDistributionAnalyzer)(content);\n\t\treturn referenceAnalysis.reduce(function (reducer, bar, index) {\n\t\t\tvar contentBar = contentAnalysis[index];\n\t\t\tvar error = (0, _calculateError.calculateError)(bar, contentBar);\n\t\t\treturn reducer + (1 - error);\n\t\t}, 0) / referenceAnalysis.length;\n\t};\n\t\n\tvar getInitialState = function getInitialState() {\n\t\treturn {\n\t\t\tweight: 1,\n\t\t\t_important: false\n\t\t};\n\t};\n\t\n\texports.default = {\n\t\tname: 'note-size-partial-fitness',\n\t\trun: run,\n\t\tgetInitialState: getInitialState\n\t};\n\n/***/ },\n\n/***/ 620:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.noteSizeDistributionAnalyzer = undefined;\n\t\n\tvar _Composition = __webpack_require__(583);\n\t\n\tvar _Composition2 = _interopRequireDefault(_Composition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction calculateDistributionForBar(bar) {\n\t\tvar step = 1 / bar.length;\n\t\tvar result = bar.reduce(function (reducer, note) {\n\t\t\tvar size = note.length();\n\t\t\treducer[size] = (reducer[size] || 0) + step;\n\t\t\treturn reducer;\n\t\t}, {});\n\t\n\t\treturn result;\n\t}\n\t\n\tvar noteSizeDistributionAnalyzer = exports.noteSizeDistributionAnalyzer = function noteSizeDistributionAnalyzer(data) {\n\t\tvar ignorePauses = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\treturn _Composition2.default.create(data).bars().map(function (bar) {\n\t\t\treturn calculateDistributionForBar(bar, ignorePauses);\n\t\t});\n\t};\n\n/***/ },\n\n/***/ 621:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.calculateError = undefined;\n\t\n\tvar _calculateDiffObject = __webpack_require__(622);\n\t\n\tvar calculateError = exports.calculateError = function calculateError(objA, objB) {\n\t\treturn Object.values((0, _calculateDiffObject.calculateDiffObject)(objA, objB)).reduce(function (prev, current) {\n\t\t\treturn prev + current;\n\t\t}, 0);\n\t};\n\n/***/ },\n\n/***/ 622:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar calculateDiffObject = exports.calculateDiffObject = function calculateDiffObject(barA, barB) {\n\t\treturn Object.keys(barB).map(function (key) {\n\t\t\treturn { key: key, value: barB[key] };\n\t\t}).reduce(function (diff, _ref) {\n\t\t\tvar key = _ref.key;\n\t\t\tvar value = _ref.value;\n\t\n\t\t\tif (diff[key] != null) {\n\t\t\t\tvar difference = diff[key] - value;\n\t\t\t\tdiff[key] = difference > 0 ? difference : 0;\n\t\t\t}\n\t\t\treturn diff;\n\t\t}, _extends({}, barA));\n\t};\n\n/***/ },\n\n/***/ 623:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _rodNoteMask = __webpack_require__(624);\n\t\n\tvar _executors = __webpack_require__(610);\n\t\n\texports.default = {\n\t\tname: 'rod-note-fitness',\n\t\trun: (0, _executors.fitnessExecutor)(_rodNoteMask.rodNoteAnalyzer)(function (referenceByBar, contentByBar) {\n\t\t\tvar step = 1 / referenceByBar.length;\n\t\t\treturn referenceByBar.reduce(function (reducer, value, index) {\n\t\t\t\tvar subStep = step / value.length;\n\t\t\t\treturn value.reduce(function (subReducer, subValue, subIndex) {\n\t\t\t\t\treturn subValue === contentByBar[index][subIndex] ? subReducer + subStep : subReducer;\n\t\t\t\t}, 0) + reducer;\n\t\t\t}, 0);\n\t\t}),\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn { weight: 0.5, _important: false };\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 624:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.rodNoteAnalyzer = exports.rodNoteForBar = exports.ROD_TYPE = undefined;\n\t\n\tvar _ROD_MASK;\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _helpers = __webpack_require__(609);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar ROD_TYPE = exports.ROD_TYPE = {\n\t\tFIRST: 'FIRST',\n\t\tTWO: 'TWO',\n\t\tFOUR: 'FOUR',\n\t\tFIRST_AND_LAST: 'FIRST_AND_LAST'\n\t};\n\t\n\tvar ROD_MASK = (_ROD_MASK = {}, _defineProperty(_ROD_MASK, ROD_TYPE.FIRST, [0]), _defineProperty(_ROD_MASK, ROD_TYPE.TWO, [0, 4]), _defineProperty(_ROD_MASK, ROD_TYPE.FOUR, [0, 2, 4, 6]), _defineProperty(_ROD_MASK, ROD_TYPE.FIRST_AND_LAST, [0, 6]), _ROD_MASK);\n\t\n\t/**\r\n\t * @description exported for tests\r\n\t */\n\t// [1, 0, 0, 0, 0, 0, 1, 0]\n\tvar rodNoteForBar = exports.rodNoteForBar = function rodNoteForBar(bar) {\n\t\tvar _ref = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t\tvar _ref$rodeType = _ref.rodeType;\n\t\tvar rodeType = _ref$rodeType === undefined ? ROD_TYPE.FIRST : _ref$rodeType;\n\t\treturn ROD_MASK[rodeType].reduce(function (reducer, index) {\n\t\t\treturn [].concat(_toConsumableArray(reducer), [bar[index] === _MusicContext.HOLD ? null : bar[index]]);\n\t\t}, []);\n\t};\n\t/**\r\n\t * @description holds in rod notes became nulls\r\n\t * @type {Array<number>}\r\n\t */\n\tvar rodNoteAnalyzer = exports.rodNoteAnalyzer = (0, _helpers.maskFactory)(_helpers.maskFactory);\n\n/***/ },\n\n/***/ 625:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.render = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _UIFactory = __webpack_require__(564);\n\t\n\tvar _index = __webpack_require__(571);\n\t\n\tvar _initialState = __webpack_require__(576);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar NAMESPACE = 'options';\n\t\n\t_initialState2.default.GA[NAMESPACE] = {\n\t\tmaxIterations: 2500,\n\t\tdeathLimit: 0.4,\n\t\tcount: 25,\n\t\tthreshold: 0.9, /* End processing when someone near good (best 1) */\n\t\tmutationProbability: 0.3,\n\t\tuseRandomInitialIndividuals: false,\n\t\tcountOfBestToLiveThrought: 2,\n\t\tstopOnEndOfIterations: true\n\t};\n\t\n\tvar createSliderFactory = function createSliderFactory(state, onblur) {\n\t\treturn function (field, props) {\n\t\t\treturn _react2.default.createElement(_UIFactory.SliderControl, _extends({\n\t\t\t\tdefaultValue: state[field],\n\t\t\t\tonBlur: onblur,\n\t\t\t\tfield: field\n\t\t\t}, props));\n\t\t};\n\t};\n\t\n\tvar render = exports.render = function render(props) {\n\t\tvar store = props.store;\n\t\n\t\tvar state = store.getState().GA[NAMESPACE];\n\t\tvar onblur = function onblur(field, value) {\n\t\t\tstore.dispatch((0, _index.changeOptions)([NAMESPACE, field], value));\n\t\t};\n\t\tvar createSlider = createSliderFactory(state, onblur);\n\t\n\t\treturn _react2.default.createElement(\n\t\t\t_reactBootstrap.Panel,\n\t\t\t{ collapsible: true, defaultExpanded: true, header: 'Options' },\n\t\t\tcreateSlider('maxIterations', { max: 500000, min: 100, step: 1 }),\n\t\t\tcreateSlider('deathLimit'),\n\t\t\tcreateSlider('count', { max: 500, min: 25, step: 1 }),\n\t\t\tcreateSlider('threshold'),\n\t\t\tcreateSlider('mutationProbability'),\n\t\t\tcreateSlider('countOfBestToLiveThrought', { max: 10, min: 0, step: 1 }),\n\t\t\t_react2.default.createElement(_UIFactory.CheckboxControl, {\n\t\t\t\tonBlur: onblur,\n\t\t\t\tdefaultValue: state['useRandomInitialIndividuals'],\n\t\t\t\tfield: 'useRandomInitialIndividuals' }),\n\t\t\t_react2.default.createElement(_UIFactory.CheckboxControl, {\n\t\t\t\tonBlur: onblur,\n\t\t\t\tdefaultValue: state['stopOnEndOfIterations'],\n\t\t\t\tfield: 'stopOnEndOfIterations' })\n\t\t);\n\t};\n\n/***/ },\n\n/***/ 626:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Individual = __webpack_require__(627);\n\t\n\tvar _Individual2 = _interopRequireDefault(_Individual);\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tvar _GAWorker = __webpack_require__(628);\n\t\n\tvar _GAWorker2 = _interopRequireDefault(_GAWorker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * @class Creates GA worker instance and passes options to it.\r\n\t * Creates everytime user pushes to \"run\" button\r\n\t */\n\t\n\tvar GARunner = function () {\n\t    function GARunner(options, onDone, onProgress, onPause) {\n\t        _classCallCheck(this, GARunner);\n\t\n\t        var reference = _MusicContext2.default.getCurrentComposition();\n\t        this._worker = new _GAWorker2.default();\n\t        this._worker.onmessage = this._createOnMessage(onDone, onProgress, onPause);\n\t        this._worker.postMessage({ data: { options: options, reference: reference }, action: 'start' });\n\t        this._worker.onerror = function (err) {\n\t            console.warn(err);\n\t        };\n\t    }\n\t\n\t    _createClass(GARunner, [{\n\t        key: 'pause',\n\t        value: function pause() {\n\t            this._worker.postMessage({ action: 'pause' });\n\t        }\n\t    }, {\n\t        key: 'resume',\n\t        value: function resume() {\n\t            this._worker.postMessage({ action: 'resume' });\n\t        }\n\t    }, {\n\t        key: 'stop',\n\t        value: function stop() {\n\t            this._worker.postMessage({ action: 'stop' });\n\t        }\n\t    }, {\n\t        key: 'destroy',\n\t        value: function destroy() {\n\t            this._worker.terminate();\n\t        }\n\t    }, {\n\t        key: '_createOnMessage',\n\t        value: function _createOnMessage(onDone, onProgress, onPause) {\n\t            return function (_ref) {\n\t                var _ref$data = _ref.data;\n\t                var data = _ref$data.data;\n\t                var action = _ref$data.action;\n\t\n\t                console.log('onmessage from worker ' + action);\n\t                // TODO: Symbol('done');\n\t                if (action === 'done') {\n\t                    var population = data.map(function (obj) {\n\t                        return _Individual2.default.fromDTO(obj);\n\t                    });\n\t                    onProgress({ percentage: 100, best: population[1] });\n\t                    onDone(population);\n\t                    return;\n\t                }\n\t\n\t                // TODO: Symbol('process');\n\t                if (onProgress && action === 'progress') {\n\t                    onProgress({\n\t                        percentage: data.percentage,\n\t                        best: _Individual2.default.fromDTO(data.best)\n\t                    });\n\t                }\n\t\n\t                // TODO: Symbol('pause');\n\t                if (onPause && action === 'pause') {\n\t                    var _population = data.map(function (obj) {\n\t                        return _Individual2.default.fromDTO(obj);\n\t                    });\n\t                    onPause(_population);\n\t                }\n\t            };\n\t        }\n\t    }]);\n\t\n\t    return GARunner;\n\t}();\n\t\n\texports.default = GARunner;\n\n/***/ },\n\n/***/ 627:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(565);\n\t\n\tvar _common = __webpack_require__(585);\n\t\n\tvar _MutationProvider = __webpack_require__(580);\n\t\n\tvar _MutationProvider2 = _interopRequireDefault(_MutationProvider);\n\t\n\tvar _FitnessProvider = __webpack_require__(603);\n\t\n\tvar _FitnessProvider2 = _interopRequireDefault(_FitnessProvider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Individual = function () {\n\t\t// TODO: extract logic of creation to factory\n\t\t// createFromReference\n\t\t// createRandom\n\t\t// createDTO\n\t\t// factory = new IndividualFactory(context);\n\t\n\t\tfunction Individual(referenceIndividual, contentToStart, fitnessValue) {\n\t\t\tvar useRandomToStart = arguments.length <= 3 || arguments[3] === undefined ? true : arguments[3];\n\t\t\tvar context = arguments[4];\n\t\n\t\t\t_classCallCheck(this, Individual);\n\t\n\t\t\t// -----------------------------\n\t\t\t// -1) Save context IContext { crossover }\n\t\t\t// -----------------------------\n\t\t\tif (!context) {\n\t\t\t\tconsole.log('Called without context, probably only for presentation purpose');\n\t\t\t}\n\t\t\tthis._context = context;\n\t\n\t\t\t// -----------------------------\n\t\t\t// 0) Reference individual\n\t\t\t// -----------------------------\n\t\t\tthis._reference = referenceIndividual.slice();\n\t\n\t\t\t// -----------------------------\n\t\t\t// 1) Content to start\n\t\t\t// -----------------------------\n\t\t\tif (contentToStart) {\n\t\t\t\tthis._content = contentToStart;\n\t\t\t} else {\n\t\t\t\tthis._content = useRandomToStart ? this._reference.map(function () {\n\t\t\t\t\treturn _utils.arrayUtils.randomElement(_common.availableValues);\n\t\t\t\t}) : referenceIndividual.slice();\n\t\t\t}\n\t\n\t\t\t// -----------------------------\n\t\t\t// 2) Content to start\n\t\t\t// -----------------------------\n\t\t\tthis._fitnessValue = fitnessValue == null ? this.fitness() : fitnessValue;\n\t\t}\n\t\n\t\t// Mutate and recalculate inner fitnessValue\n\t\n\t\n\t\t_createClass(Individual, [{\n\t\t\tkey: 'mutate',\n\t\t\tvalue: function mutate(options) {\n\t\t\t\tthis._content = this._context.mutation(this._content);\n\t\t\t\tthis._fitnessValue = this.fitness();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'crossover',\n\t\t\tvalue: function crossover(someone) {\n\t\t\t\tvar newContent = this._context.crossover(this.content, someone.content);\n\t\t\t\treturn new Individual(this._reference, newContent, null, false, this._context);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fitness',\n\t\t\tvalue: function fitness() {\n\t\t\t\treturn this._context.fitness(this.content, this._reference);\n\t\t\t}\n\t\n\t\t\t// Always return by value!\n\t\n\t\t}, {\n\t\t\tkey: 'toDTO',\n\t\t\tvalue: function toDTO() {\n\t\t\t\treturn {\n\t\t\t\t\t_fitnessValue: this._fitnessValue,\n\t\t\t\t\t_reference: this._reference.slice(),\n\t\t\t\t\t_content: this._content.slice()\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\t// TODO: find out better way of getting private fields, maybe create toDTO (in worker) and fromDTO (in UI tread)\n\t\n\t\t}, {\n\t\t\tkey: 'content',\n\t\t\tget: function get() {\n\t\t\t\treturn this._content.slice();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fitnessValue',\n\t\t\tget: function get() {\n\t\t\t\treturn this._fitnessValue;\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'fromDTO',\n\t\t\tvalue: function fromDTO(_ref) {\n\t\t\t\tvar _reference = _ref._reference;\n\t\t\t\tvar _content = _ref._content;\n\t\t\t\tvar _fitnessValue = _ref._fitnessValue;\n\t\n\t\t\t\treturn new Individual(_reference, _content, _fitnessValue, false);\n\t\t\t}\n\t\n\t\t\t//TODO: redo with decorator\n\t\n\t\t}, {\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(a, b, c, d, e) {\n\t\t\t\treturn new Individual(a, b, c, d, e);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Individual;\n\t}();\n\t\n\texports.default = Individual;\n\n/***/ },\n\n/***/ 628:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function() {\n\t\treturn new Worker(__webpack_require__.p + \"36e22ca63b4638dd113e.worker.js\");\n\t};\n\n/***/ },\n\n/***/ 629:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ABCJS = __webpack_require__(544);\n\t\n\tvar _ABCJS2 = _interopRequireDefault(_ABCJS);\n\t\n\tvar _convertToABC = __webpack_require__(630);\n\t\n\tvar _convertToABC2 = _interopRequireDefault(_convertToABC);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Sheet = function (_React$Component) {\n\t\t_inherits(Sheet, _React$Component);\n\t\n\t\tfunction Sheet(params) {\n\t\t\t_classCallCheck(this, Sheet);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Sheet).call(this, params));\n\t\n\t\t\t_this._element = null;\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Sheet, [{\n\t\t\tkey: 'componentDidMount',\n\t\t\tvalue: function componentDidMount() {\n\t\t\t\tthis._element = this.refs.abcjs;\n\t\t\t\tif (this.props.data) {\n\t\t\t\t\tthis._initializeWidget(this.props.data);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'componentWillReceiveProps',\n\t\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\t\tif (!nextProps.data) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tthis._initializeWidget(nextProps.data);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement('div', { ref: 'abcjs' });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_initializeWidget',\n\t\t\tvalue: function _initializeWidget(data) {\n\t\t\t\t_ABCJS2.default.renderAbc(this._element, (0, _convertToABC2.default)(data), null, {\n\t\t\t\t\tscale: 1\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Sheet;\n\t}(_react2.default.Component);\n\t\n\texports.default = Sheet;\n\n/***/ },\n\n/***/ 630:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = convertToABC;\n\t/*\r\n\t!assumptations \r\n\t1/8 as a default length\r\n\tc maj as a default key\r\n\t*/\n\tvar n = '\\n';\n\t\n\tvar defaultHeader = '\\nX:1\\nT:Abc\\nM:4/4\\nC:GA\\nK:C\\nL:1/8\\n';\n\t\n\tvar referenceTable = {\n\t\t0: 'z',\n\t\t1: 'C',\n\t\t2: 'D',\n\t\t3: 'E',\n\t\t4: 'F',\n\t\t5: 'G',\n\t\t6: 'A',\n\t\t7: 'B',\n\t\t8: 'c',\n\t\t9: 'd',\n\t\t10: 'e',\n\t\t11: 'f',\n\t\t12: 'g',\n\t\t13: 'a',\n\t\t14: 'b'\n\t};\n\t\n\tfunction createNote(noteIndex, size) {\n\t\tif (noteIndex == null) {\n\t\t\treturn '';\n\t\t}\n\t\treturn referenceTable[noteIndex] + size;\n\t}\n\t\n\tfunction convertToABC(source) {\n\t\tvar answer = defaultHeader;\n\t\n\t\tvar previousNote = null;\n\t\tvar size = 1;\n\t\n\t\tfor (var i = 0, l = source.length; i < l; i++) {\n\t\t\tvar item = source[i];\n\t\n\t\t\tif (item === -1) {\n\t\t\t\tsize++;\n\t\t\t} else {\n\t\t\t\tanswer += createNote(previousNote, size);\n\t\t\t\tpreviousNote = item;\n\t\t\t\tsize = 1;\n\t\t\t}\n\t\n\t\t\t//last note\n\t\t\tif (i === source.length - 1) {\n\t\t\t\tanswer += createNote(previousNote, size);\n\t\t\t}\n\t\n\t\t\tif (i && i % 8 === 0) {\n\t\t\t\tanswer += '|';\n\t\t\t}\n\t\n\t\t\tif (i && i % 32 === 0) {\n\t\t\t\tanswer += '\\n';\n\t\t\t}\n\t\t}\n\t\n\t\treturn answer;\n\t}\n\n/***/ },\n\n/***/ 631:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t//TODO:\n\t// Переделать так, чтобы можно было отловить вход новых population\n\t// сейчас componentWillReceiveProps вызывается при каждом клике на таблицу при выделении\n\t// так как под собой это несет this.props.onSelect который меняет state парента и поэтому происходит процесс перерасчета\n\t\n\tvar IndividualsTable = function (_React$Component) {\n\t\t_inherits(IndividualsTable, _React$Component);\n\t\n\t\tfunction IndividualsTable(params) {\n\t\t\t_classCallCheck(this, IndividualsTable);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(IndividualsTable).call(this, params));\n\t\n\t\t\t_this.state = {\n\t\t\t\tselectedIndex: -1\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(IndividualsTable, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Table,\n\t\t\t\t\t{ striped: true, bordered: true, condensed: true, hover: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'thead',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'tr',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'th',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'#'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'th',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'Name'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'th',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'Fitness'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'tbody',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tthis.props.population.map(this.renderItem.bind(this))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'renderItem',\n\t\t\tvalue: function renderItem(item, index) {\n\t\t\t\tvar classes = this.state.selectedIndex === index ? 'highlight' : '';\n\t\t\t\tvar fitness = item.fitnessValue.toFixed(3);\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'tr',\n\t\t\t\t\t{ className: classes, key: index, onClick: this.onSelect.bind(this, item, index) },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tindex\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'name' + index\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tfitness\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'onSelect',\n\t\t\tvalue: function onSelect(item, index) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tselectedIndex: index\n\t\t\t\t});\n\t\t\t\tthis.props.onSelect(item);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn IndividualsTable;\n\t}(_react2.default.Component);\n\t\n\texports.default = IndividualsTable;\n\n/***/ },\n\n/***/ 632:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(184);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // 3d Party\n\t\n\t\n\t// Plugin\n\t\n\t\n\tvar DEFAULT = 'default';\n\t\n\tvar Compositions = function (_React$Component) {\n\t\t_inherits(Compositions, _React$Component);\n\t\n\t\tfunction Compositions(params) {\n\t\t\t_classCallCheck(this, Compositions);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Compositions).call(this, params));\n\t\n\t\t\t_this.select = function (item) {\n\t\t\t\t_MusicContext2.default.selectComposition(item);\n\t\t\t\t_this.setState({\n\t\t\t\t\tcurrentKey: item\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\t_this.state = {\n\t\t\t\tcompositions: _MusicContext2.default.getAllCompositions(),\n\t\t\t\tnameRaw: '',\n\t\t\t\tname: '',\n\t\t\t\tcurrentKey: _MusicContext2.default.getCurrentKey()\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Compositions, [{\n\t\t\tkey: 'onNameChange',\n\t\t\tvalue: function onNameChange(e) {\n\t\t\t\tvar nameRaw = e.target.value;\n\t\t\t\tthis.setState({ nameRaw: nameRaw });\n\t\t\t\tthis.setState({ name: '' });\n\t\n\t\t\t\tif (_MusicContext2.default.isValidName(nameRaw)) {\n\t\t\t\t\tthis.setState({ name: nameRaw });\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'remove',\n\t\t\tvalue: function remove(item) {\n\t\t\t\t_MusicContext2.default.remove(item);\n\t\t\t\tthis.setState({\n\t\t\t\t\tcompositions: _MusicContext2.default.getAllCompositions()\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'renderCompositionItem',\n\t\t\tvalue: function renderCompositionItem(item) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'tr',\n\t\t\t\t\t{ key: item, className: item === this.state.currentKey ? 'selected' : '' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactRouter.Link,\n\t\t\t\t\t\t\t{ to: '/compositions/' + item },\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\titem !== DEFAULT ? _react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.ButtonGroup,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ bsStyle: 'info', onClick: function onClick() {\n\t\t\t\t\t\t\t\t\t\treturn _this2.select(item);\n\t\t\t\t\t\t\t\t\t} },\n\t\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: 'ok-sign' })\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ bsStyle: 'danger', onClick: this.remove.bind(this, item) },\n\t\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: 'remove' })\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) : _react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ bsStyle: 'info', onClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn _this2.select(item);\n\t\t\t\t\t\t\t\t} },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: 'ok-sign' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h2',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Compositions'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Table,\n\t\t\t\t\t\t{ striped: true, bordered: true, condensed: true, hover: true },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'tbody',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tthis.state.compositions.map(this.renderCompositionItem.bind(this))\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h2',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'New'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Input, { type: 'text', label: 'Name', onChange: this.onNameChange.bind(this), value: this.state.nameRaw }),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactRouter.Link,\n\t\t\t\t\t\t{ to: '/compositions/' + this.state.name },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t{ bsStyle: 'info', disabled: !this.state.name },\n\t\t\t\t\t\t\t'New'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Compositions;\n\t}(_react2.default.Component);\n\t\n\texports.default = Compositions;\n\n/***/ },\n\n/***/ 633:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactBootstrap = __webpack_require__(236);\n\t\n\tvar _Player = __webpack_require__(473);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _MusicContext = __webpack_require__(587);\n\t\n\tvar _MusicContext2 = _interopRequireDefault(_MusicContext);\n\t\n\tvar _Sheet = __webpack_require__(629);\n\t\n\tvar _Sheet2 = _interopRequireDefault(_Sheet);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // 3d Party\n\t\n\t\n\t// Framework\n\t\n\t\n\t// Plugin\n\t\n\t\n\t// Local\n\t\n\t\n\tvar DEFAULT = 'default';\n\t\n\tvar Composition = function (_React$Component) {\n\t\t_inherits(Composition, _React$Component);\n\t\n\t\tfunction Composition(params) {\n\t\t\t_classCallCheck(this, Composition);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Composition).call(this, params));\n\t\n\t\t\tvar composition = _MusicContext2.default.getByKey(_this.props.params.composition) || null;\n\t\n\t\t\t_this.state = {\n\t\t\t\tcompositionRaw: composition ? _this.compositionToString(composition) : '',\n\t\t\t\tcomposition: composition,\n\t\t\t\tinvalidName: true,\n\t\t\t\tinvalidComposition: false,\n\t\t\t\tisDefault: _this.props.params.composition === DEFAULT\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Composition, [{\n\t\t\tkey: '_convert',\n\t\t\tvalue: function _convert(raw) {\n\t\t\t\tvar rawArray = raw.split(' ');\n\t\n\t\t\t\trawArray = rawArray.map(function (item) {\n\t\t\t\t\treturn Number(item);\n\t\t\t\t});\n\t\n\t\t\t\tif (rawArray.some(function (item) {\n\t\t\t\t\treturn isNaN(item) || _MusicContext.availableValuesInGF.indexOf(item) === -1;\n\t\t\t\t})) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\n\t\t\t\treturn rawArray;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'compositionToString',\n\t\t\tvalue: function compositionToString(array) {\n\t\t\t\treturn array && array.join(' ') || '';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'save',\n\t\t\tvalue: function save() {\n\t\t\t\tvar composition = this.state.composition;\n\t\t\t\tvar name = this.props.params.composition;\n\t\t\t\t_MusicContext2.default.save(name, composition);\n\t\t\t\twindow.location = '/#/compositions';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'onChange',\n\t\t\tvalue: function onChange(e) {\n\t\t\t\tvar composition = e.target.value;\n\t\t\t\tvar converted = this._convert(e.target.value);\n\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tcompositionRaw: composition\n\t\t\t\t});\n\t\n\t\t\t\tif (converted) {\n\t\t\t\t\t_Player2.default.set(converted);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tcomposition: converted,\n\t\t\t\t\t\tinvalidComposition: false\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tinvalidComposition: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar compositionKey = this.props.params.composition;\n\t\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t_reactBootstrap.Grid,\n\t\t\t\t\t{ fluid: true },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h3',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tcompositionKey\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactBootstrap.Row,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 4, md: 4 },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactBootstrap.Input, { type: 'textarea', style: { height: 230 }, label: 'Notes', onChange: this.onChange.bind(this), value: this.state.compositionRaw }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactBootstrap.Button,\n\t\t\t\t\t\t\t\t{ disabled: this.state.isDefault || this.state.invalidComposition, bsStyle: 'success', onClick: this.save.bind(this) },\n\t\t\t\t\t\t\t\t'Save'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactBootstrap.Col,\n\t\t\t\t\t\t\t{ sm: 4, md: 4 },\n\t\t\t\t\t\t\t_react2.default.createElement(_Sheet2.default, { data: this.state.composition })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Composition;\n\t}(_react2.default.Component);\n\t\n\texports.default = Composition;\n\n/***/ },\n\n/***/ 634:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(32);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(545);\n\t\n\tvar _reactRouter = __webpack_require__(184);\n\t\n\tvar _routes = __webpack_require__(233);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Root = function (_Component) {\n\t    _inherits(Root, _Component);\n\t\n\t    function Root() {\n\t        _classCallCheck(this, Root);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(Root).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Root, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            var store = this.props.store.store;\n\t\n\t            return _react2.default.createElement(\n\t                _reactRedux.Provider,\n\t                { store: this.props.store },\n\t                _react2.default.createElement(_reactRouter.Router, { routes: _routes2.default })\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Root;\n\t}(_react.Component);\n\t\n\texports.default = Root;\n\n/***/ },\n\n/***/ 635:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = configureStore;\n\t\n\tvar _redux = __webpack_require__(551);\n\t\n\tvar _reducers = __webpack_require__(636);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction configureStore(initialState) {\n\t\treturn (0, _redux.createStore)(_reducers2.default, initialState);\n\t}\n\n/***/ },\n\n/***/ 636:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _redux = __webpack_require__(551);\n\t\n\tvar _reducers = __webpack_require__(637);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// right here list of all reducers\n\t\n\tvar rootReducer = (0, _redux.combineReducers)({\n\t\tGA: _reducers2.default\n\t});\n\t\n\texports.default = rootReducer;\n\n/***/ },\n\n/***/ 637:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _redux = __webpack_require__(551);\n\t\n\tvar _index = __webpack_require__(571);\n\t\n\tvar _initialState = __webpack_require__(576);\n\t\n\tvar _initialState2 = _interopRequireDefault(_initialState);\n\t\n\tvar _utils = __webpack_require__(638);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar crossover = (0, _utils.createPluginsReducer)('crossover', _initialState2.default.GA);\n\tvar mutation = (0, _utils.createPluginsReducer)('mutation', _initialState2.default.GA);\n\tvar options = (0, _utils.createPluginsReducer)('options', _initialState2.default.GA);\n\tvar fitness = (0, _utils.createPluginsReducer)('fitness', _initialState2.default.GA);\n\t\n\texports.default = (0, _redux.combineReducers)({\n\t\tcrossover: crossover,\n\t\tmutation: mutation,\n\t\tfitness: fitness,\n\t\toptions: options\n\t});\n\n/***/ },\n\n/***/ 638:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.createDeepProperty = createDeepProperty;\n\texports.createPluginsReducer = createPluginsReducer;\n\t\n\tvar _lodash = __webpack_require__(574);\n\t\n\tvar _index = __webpack_require__(571);\n\t\n\tfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\t\n\tfunction createDeepProperty(_ref) {\n\t\tvar optionsPath = _ref.optionsPath;\n\t\tvar value = _ref.value;\n\t\n\t\tvar obj = {};\n\t\tvar stopIndex = optionsPath.length - 1;\n\t\treturn optionsPath.reduce(function (prev, current, currentIndex) {\n\t\t\tif (currentIndex === stopIndex) {\n\t\t\t\tprev[current] = value;\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\treturn prev[current] = {};\n\t\t}, obj);\n\t}\n\t\n\tfunction createPluginsReducer(namespace, fullState) {\n\t\tvar initialState = fullState[namespace];\n\t\treturn function () {\n\t\t\tvar state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n\t\t\tvar action = arguments[1];\n\t\n\t\t\tswitch (action.type) {\n\t\t\t\tcase _index.OPTIONS_CHANGE_ACTION:\n\t\t\t\t\t{\n\t\t\t\t\t\tif (action.optionsPath[0] !== namespace) {\n\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// NOTE: remove namespace from path;\n\t\n\t\t\t\t\t\tvar _action$optionsPath = _toArray(action.optionsPath);\n\t\n\t\t\t\t\t\tvar optionsPath = _action$optionsPath.slice(1);\n\t\n\t\t\t\t\t\tvar newFragment = createDeepProperty({ optionsPath: optionsPath, value: action.value });\n\t\n\t\t\t\t\t\treturn (0, _lodash.merge)(_extends({}, state), newFragment);\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn state;\n\t\t\t}\n\t\t};\n\t}\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** app.eb2c19e92dda84937c6c.js\n **/","import 'array.prototype.findindex';\r\nimport './main.css';\r\nimport './styles/dashboard.css';\r\nimport './polyfills';\r\n\r\n//LIBS\r\nimport React from 'react';\r\nimport { render } from 'react-dom'\r\nimport { Route, DefaultRoute, Link, RouteHandler } from 'react-router';\r\nimport Router from 'react-router';\r\n\r\n\r\n//APP\r\nimport './plugins/all.jsx';\r\nimport Root from './containers/root';\r\nimport configureStore from './store/configureStore'\r\nimport initialState from './store/initialState';\r\n\r\nconsole.log(initialState);\r\nconst store = configureStore(initialState);\r\n\r\nwindow.store = store;\r\n\r\nrender(\r\n\t<Root store={store} />,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/index.jsx\n **/","Object.values = x =>\r\n    Object.keys(x).reduce((y, z) =>\r\n        y.push(x[z]) && y, []);\r\n\r\nObject.entries = x =>\r\n    Object.keys(x).reduce((y, z) =>\r\n        y.push([z, x[z]]) && y, []);\n\n\n/** WEBPACK FOOTER **\n ** ./app/polyfills.js\n **/","//TODO: Generate this file npm generate all plugins facade\r\nimport './GA/index.jsx';\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/all.jsx\n **/","import PluginRegister from '../PluginRegister.jsx';\r\nimport Index from './components/Index.jsx';\r\nimport Compositions from './components/Compositions.jsx';\r\nimport Composition from './components/Composition.jsx';\r\n\r\nPluginRegister.register({\r\n\tpath: '/ga_by_reference',\r\n\tcomponent: Index,\r\n\ttitle: 'Genetic Algorithms (reference)'\r\n});\r\n\r\nPluginRegister.register({\r\n\tpath: '/compositions',\r\n\tcomponent: Compositions,\r\n\ttitle: 'Manage compositions'\r\n});\r\n\r\nPluginRegister.register({\r\n\tpath: '/compositions/:composition',\r\n\tcomponent: Composition,\r\n\ttitle: 'Manage compositions',\r\n\tuseNav: false\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/index.jsx\n **/","import routes from '../routes.jsx';\r\nimport nav from '../nav.js';\r\n\r\n// TODO: reimplement singleton to context\r\n\r\n/**\r\n * @description Used to register plugins in app.\r\n * Also provides a link in navigation sidebar\r\n */\r\nclass PluginRegister {\r\n\t/**\r\n\t * @param {Object} options\r\n\t * @param {string} options.path\r\n\t * @param {React.Component} options.component\r\n\t * @param {string} options.title \r\n\t * @param {Boolean} [options.useNav=true]\r\n\t * @return {void}\r\n\t */\r\n\tregister({ path, component, title, useNav = true }) {\r\n\t\tuseNav && nav.push({ path, title });\r\n\t\troutes.childRoutes.push({ path, component });\r\n\t}\r\n}\r\n\r\nexport default new PluginRegister();\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/PluginRegister.jsx\n **/","import App from './components/App.jsx';\r\nimport React from 'react';\r\n\r\nconst routes = {\r\n\tpath: '/',\r\n\tcomponent: App,\r\n\tchildRoutes: []\r\n};\r\n\r\nexport default routes;\n\n\n/** WEBPACK FOOTER **\n ** ./app/routes.jsx\n **/","import React from 'react';\r\nimport { RouteHandler } from 'react-router';\r\n\r\nimport nav from '../nav.js';\r\n\r\nimport { Grid, Row, Col } from 'react-bootstrap';\r\nimport LayoutNavBar from './layout/LayoutNavBar.jsx';\r\nimport LayoutSideBar from './layout/LayoutSideBar.jsx';\r\nimport LayoutMain from './layout/LayoutMain.jsx';\r\nimport Home from './layout/Home.jsx';\r\n\r\n\r\nexport default class App extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<LayoutNavBar />\r\n\t\t\t\t<Grid fluid>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<LayoutSideBar nav={nav} />\r\n\t\t\t\t\t\t<LayoutMain>\r\n\t\t\t\t\t\t\t{this.props.children || <Home />}\r\n\t\t\t\t\t\t</LayoutMain>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/App.jsx\n **/","/**\r\n * Array<{title: string, path: string}>\r\n */\r\nconst nav = [];\r\nnav.push({\r\n\ttitle: 'Home',\r\n\tpath: '/'\r\n});\r\nexport default nav;\n\n\n/** WEBPACK FOOTER **\n ** ./app/nav.js\n **/","import React from 'react';\r\nimport PlayerControls from '../PlayerControls.jsx';\r\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem, NavBrand } from 'react-bootstrap';\r\nimport { Link } from 'react-router';\r\n\r\nexport default class LayoutNavBar extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Navbar inverse fixedTop toggleNavKey={0}>\r\n\t\t\t\t<NavBrand>\r\n\t\t\t\t\t<Link to=\"#/\">\r\n\t\t\t\t\t\tGA-APP 5\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</NavBrand>\r\n\t\t\t\t<PlayerControls />\r\n\t\t\t\t{/*\r\n\t\t\t\t<Nav right eventKey={0}>\r\n\t\t\t\t\t<NavItem eventKey={1} href=\"#\">Link</NavItem>\r\n\t\t\t\t\t<NavItem eventKey={2} href=\"#\">Link</NavItem>\r\n\t\t\t\t\t<NavDropdown eventKey={3} title=\"Dropdown\" id=\"collapsible-navbar-dropdown\">\r\n\t\t\t\t\t\t<MenuItem eventKey=\"1\">Action</MenuItem>\r\n\t\t\t\t\t\t<MenuItem eventKey=\"2\">Another action</MenuItem>\r\n\t\t\t\t\t\t<MenuItem eventKey=\"3\">Something else here</MenuItem>\r\n\t\t\t\t\t\t<MenuItem divider />\r\n\t\t\t\t\t\t<MenuItem eventKey=\"4\">Separated link</MenuItem>\r\n\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t</Nav>*/\r\n\t\t\t\t}\r\n\t\t  \t</Navbar>\r\n\t\t);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/layout/LayoutNavBar.jsx\n **/","import React from 'react';\r\nimport Player from '../players/soundfont-player/Player.js';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\n\r\nexport default class PlayerControls extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\r\n\t\tPlayer.onSet(notes => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tenabled: Boolean(notes)\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.state = {\r\n\t\t\tenabled: false\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form className=\"navbar-form navbar-left\">\r\n\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t<Button disabled={!this.state.enabled} onClick={this.play.bind(this)}>\r\n\t\t\t\t\t\t<span className=\"glyphicon glyphicon-play\"></span>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button disabled={!this.state.enabled} onClick={this.stop.bind(this)}>\r\n\t\t\t\t\t\t<span className=\"glyphicon glyphicon-stop\"></span>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</ButtonGroup>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\r\n\tplay() {\r\n\t\tPlayer.play();\r\n\t}\r\n\r\n\tstop() {\r\n\t\tPlayer.stop();\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/PlayerControls.jsx\n **/","import Soundfont from 'soundfont-player';\r\nimport instrumentNames from './instrumentNames.js';\r\nimport { REFERENCE_TABLE } from '../common.js';\r\n\r\nfunction isHold(val) {\r\n\treturn val === -1\r\n}\r\n\r\nfunction isPause(val) {\r\n\treturn val === 0\r\n}\r\n\r\nfunction isNote(val) {\r\n\treturn val > 1 && val < 15;\r\n}\r\n\r\nconst NOTE_LENGTH = 0.2; // 1/8 is 300ms const for now TODO: move to options\r\n\r\nclass Converter {\r\n\t//notes is Array<number> where number -1, .. , 15\r\n\tstatic convert(notes) {\r\n\t\tlet result = [];\r\n\r\n\t\tnotes.forEach(noteCode => {\r\n\t\t\tif ( isHold(noteCode) && result.length ) {\r\n\t\t\t\tresult[result.length - 1].duration += NOTE_LENGTH;\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif ( isPause(noteCode) ) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\tnote: null,\r\n\t\t\t\t\tduration: NOTE_LENGTH\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tresult.push({\r\n\t\t\t\tnote: REFERENCE_TABLE[noteCode],\r\n\t\t\t\tduration: NOTE_LENGTH\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\n//this._instrument.play(note, time, duration);\r\nclass Player {\r\n\tconstructor(instrumentName = instrumentNames.acoustic_grand_piano) {\r\n\t\tthis._callbacks = [];\r\n\t\tthis._ctx = new AudioContext();\r\n\t\tthis._ready = false;\r\n\t\tthis._notes = [];\r\n\t\tthis._prevNotes = [];\r\n\t\tthis._soundfont = new Soundfont(this._ctx);\r\n\t\tthis._instrument = this._soundfont.instrument(instrumentName);\r\n\t\tthis._timeout = null;\r\n\t\r\n\t\tthis._isPlaying = false;\r\n\t\tthis._instrument.onready(() => this._ready = true);\r\n\t}\r\n\r\n\tset(notes) {\r\n\t\tthis._notes = Converter.convert(notes);\r\n\t\tthis._prevNotes = this._notes.slice();\r\n\t\tthis._runCallbacks(notes);\r\n\t}\r\n\r\n\t_runCallbacks(param) {\r\n\t\tif ( this._callbacks.length ) {\r\n\t\t\tthis._callbacks.forEach(callback => {\r\n\t\t\t\tcallback(param);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonSet(callback) {\r\n\t\tthis._callbacks.push(callback);\r\n\t}\r\n\r\n\toffSet() {\r\n\t\tthis._callbacks = [];\r\n\t}\r\n\r\n\t//notes is Array<number> where number -1, .. , 15\r\n\tplay(notes) {\r\n\t\tif ( notes ) {\r\n\t\t\tthis.set(notes);\r\n\t\t}\r\n\r\n\t\tif ( this._ready ) {\r\n\t\t\tthis._playInternal();\r\n\t\t} else {\r\n\t\t\tthis._instrument.onready(() => this._playInternal());\r\n\t\t}\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis._notes = [];\r\n\t\tthis._prevNotes = [];\r\n\t\tthis._runCallbacks(null);\r\n\t}\r\n\r\n\t_playInternal() {\r\n\t\tthis._isPlaying = true;\r\n\t\tthis._notes = this._prevNotes.slice();\r\n\t\tthis._playTick();\r\n\t}\r\n\r\n\t_playTick() {\r\n\t\tconst noteItem = this._notes.shift();\r\n\r\n\t\tif ( !noteItem || !this._isPlaying ) {\r\n\t\t\tthis._clear();\r\n\t\t\treturn;\t\t\t\r\n\t\t}\r\n\r\n\t\tlet { note, duration } = noteItem;\r\n\t\tthis._instrument.play(note, this._ctx.currentTime);\r\n\t\tthis._timeout = setTimeout(() => this._playTick(), duration * 1000); // timeout use mileseconds while we put second into noteItem\r\n\t}\r\n\r\n\t_clear() {\r\n\t\tclearTimeout(this._timeout);\r\n\t\tthis._timeout = null;\r\n\t}\r\n\r\n\tstop() {\r\n\t\tthis._isPlaying = false;\r\n\t}\r\n}\r\n\r\nexport default new Player();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/players/soundfont-player/Player.js\n **/","const instrumentNames = {\r\n\taccordion: 'accordion',\r\n\tacoustic_bass: 'acoustic_bass',\r\n\tacoustic_grand_piano: 'acoustic_grand_piano',\r\n\tacoustic_guitar_nylon: 'acoustic_guitar_nylon',\r\n\tacoustic_guitar_steel: 'acoustic_guitar_steel',\r\n\tagogo: 'agogo',\r\n\talto_sax: 'alto_sax',\r\n\tapplause: 'applause',\r\n\tbagpipe: 'bagpipe',\r\n\tbanjo: 'banjo',\r\n\tbaritone_sax: 'baritone_sax',\r\n\tbassoon: 'bassoon',\r\n\tbird_tweet: 'bird_tweet',\r\n\tblown_bottle: 'blown_bottle',\r\n\tbrass_section: 'brass_section',\r\n\tbreath_noise: 'breath_noise',\r\n\tbright_acoustic_piano: 'bright_acoustic_piano',\r\n\tcelesta: 'celesta',\r\n\tcello: 'cello',\r\n\tchoir_aahs: 'choir_aahs',\r\n\tchurch_organ: 'church_organ',\r\n\tclarinet: 'clarinet',\r\n\tclavinet: 'clavinet',\r\n\tcontrabass: 'contrabass',\r\n\tdistortion_guitar: 'distortion_guitar',\r\n\tdrawbar_organ: 'drawbar_organ',\r\n\tdulcimer: 'dulcimer',\r\n\telectric_bass_finger: 'electric_bass_finger',\r\n\telectric_bass_pick: 'electric_bass_pick',\r\n\telectric_grand_piano: 'electric_grand_piano',\r\n\telectric_guitar_clean: 'electric_guitar_clean',\r\n\telectric_guitar_jazz: 'electric_guitar_jazz',\r\n\telectric_guitar_muted: 'electric_guitar_muted',\r\n\telectric_piano_1: 'electric_piano_1',\r\n\telectric_piano_2: 'electric_piano_2',\r\n\tenglish_horn: 'english_horn',\r\n\tfiddle: 'fiddle',\r\n\tflute: 'flute',\r\n\tfrench_horn: 'french_horn',\r\n\tfretless_bass: 'fretless_bass',\r\n\tfx_1_rain: 'fx_1_rain',\r\n\tfx_2_soundtrack: 'fx_2_soundtrack',\r\n\tfx_3_crystal: 'fx_3_crystal',\r\n\tfx_4_atmosphere: 'fx_4_atmosphere',\r\n\tfx_5_brightness: 'fx_5_brightness',\r\n\tfx_6_goblins: 'fx_6_goblins',\r\n\tfx_7_echoes: 'fx_7_echoes',\r\n\tfx_8_scifi: 'fx_8_scifi',\r\n\tglockenspiel: 'glockenspiel',\r\n\tguitar_fret_noise: 'guitar_fret_noise',\r\n\tguitar_harmonics: 'guitar_harmonics',\r\n\tgunshot: 'gunshot',\r\n\tharmonica: 'harmonica',\r\n\tharpsichord: 'harpsichord',\r\n\thelicopter: 'helicopter',\r\n\thonkytonk_piano: 'honkytonk_piano',\r\n\tkalimba: 'kalimba',\r\n\tkoto: 'koto',\r\n\tlead_1_square: 'lead_1_square',\r\n\tlead_2_sawtooth: 'lead_2_sawtooth',\r\n\tlead_3_calliope: 'lead_3_calliope',\r\n\tlead_4_chiff: 'lead_4_chiff',\r\n\tlead_5_charang: 'lead_5_charang',\r\n\tlead_6_voice: 'lead_6_voice',\r\n\tlead_7_fifths: 'lead_7_fifths',\r\n\tlead_8_bass__lead: 'lead_8_bass__lead',\r\n\tmarimba: 'marimba',\r\n\tmelodic_tom: 'melodic_tom',\r\n\tmusic_box: 'music_box',\r\n\tmuted_trumpet: 'muted_trumpet',\r\n\toboe: 'oboe',\r\n\tocarina: 'ocarina',\r\n\torchestra_hit: 'orchestra_hit',\r\n\torchestral_harp: 'orchestral_harp',\r\n\toverdriven_guitar: 'overdriven_guitar',\r\n\tpad_1_new_age: 'pad_1_new_age',\r\n\tpad_2_warm: 'pad_2_warm',\r\n\tpad_3_polysynth: 'pad_3_polysynth',\r\n\tpad_4_choir: 'pad_4_choir',\r\n\tpad_5_bowed: 'pad_5_bowed',\r\n\tpad_6_metallic: 'pad_6_metallic',\r\n\tpad_7_halo: 'pad_7_halo',\r\n\tpad_8_sweep: 'pad_8_sweep',\r\n\tpan_flute: 'pan_flute',\r\n\tpercussive_organ: 'percussive_organ',\r\n\tpiccolo: 'piccolo',\r\n\tpizzicato_strings: 'pizzicato_strings',\r\n\trecorder: 'recorder',\r\n\treed_organ: 'reed_organ',\r\n\treverse_cymbal: 'reverse_cymbal',\r\n\trock_organ: 'rock_organ',\r\n\tseashore: 'seashore',\r\n\tshakuhachi: 'shakuhachi',\r\n\tshamisen: 'shamisen',\r\n\tshanai: 'shanai',\r\n\tsitar: 'sitar',\r\n\tslap_bass_1: 'slap_bass_1',\r\n\tslap_bass_2: 'slap_bass_2',\r\n\tsoprano_sax: 'soprano_sax',\r\n\tsteel_drums: 'steel_drums',\r\n\tstring_ensemble_1: 'string_ensemble_1',\r\n\tstring_ensemble_2: 'string_ensemble_2',\r\n\tsynth_bass_1: 'synth_bass_1',\r\n\tsynth_bass_2: 'synth_bass_2',\r\n\tsynth_brass_1: 'synth_brass_1',\r\n\tsynth_brass_2: 'synth_brass_2',\r\n\tsynth_choir: 'synth_choir',\r\n\tsynth_drum: 'synth_drum',\r\n\tsynth_strings_1: 'synth_strings_1',\r\n\tsynth_strings_2: 'synth_strings_2',\r\n\ttaiko_drum: 'taiko_drum',\r\n\ttango_accordion: 'tango_accordion',\r\n\ttelephone_ring: 'telephone_ring',\r\n\ttenor_sax: 'tenor_sax',\r\n\ttimpani: 'timpani',\r\n\ttinkle_bell: 'tinkle_bell',\r\n\ttremolo_strings: 'tremolo_strings',\r\n\ttrombone: 'trombone',\r\n\ttrumpet: 'trumpet',\r\n\ttuba: 'tuba',\r\n\ttubular_bells: 'tubular_bells',\r\n\tvibraphone: 'vibraphone',\r\n\tviola: 'viola',\r\n\tviolin: 'violin',\r\n\tvoice_oohs: 'voice_oohs',\r\n\twhistle: 'whistle',\r\n\twoodblock: 'woodblock',\r\n\txylophone: 'xylophone'\r\n};\r\n\r\nexport default instrumentNames;\n\n\n/** WEBPACK FOOTER **\n ** ./app/players/soundfont-player/instrumentNames.js\n **/","export const REFERENCE_TABLE = {\r\n\t1: 'C3',\r\n\t2: 'D3',\r\n\t3: 'E3',\r\n\t4: 'F3',\r\n\t5: 'G3',\r\n\t6: 'A3',\r\n\t7: 'B3',\r\n\t8: 'C4',\r\n\t9: 'D4',\r\n\t10: 'E4',\r\n\t11: 'F4',\r\n\t12: 'G4',\r\n\t13: 'A4',\r\n\t14: 'B4'\r\n}; \r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/players/common.js\n **/","import React from 'react';\r\n//import nav from '../../nav.js';\r\nimport { Link } from 'react-router';\r\nimport { Col, Nav, NavItem, Button } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nexport default class LayoutSideBar extends React.Component {\r\n    render() {\r\n\r\n        const navItems = this.props.nav.map(navItem => {\r\n            return (\r\n                <LinkContainer key={navItem.path} to={navItem.path}>\r\n                    <NavItem>{navItem.title}</NavItem>\r\n                </LinkContainer>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <Col sm={3} md={2} className=\"sidebar\">\r\n              <Nav className=\"nav-sidebar\">\r\n                {navItems}\r\n              </Nav>\r\n            </Col>\r\n        );\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/layout/LayoutSideBar.jsx\n **/","import React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\n\r\nexport default class LayoutMain extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Col sm={9} md={10} mdOffset={2} smOffset={3} className=\"main\">\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</Col>\r\n\t\t);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/layout/LayoutMain.jsx\n **/","import React from 'react';\r\n\r\nexport default () => (\r\n\t<h1>It is home</h1>\r\n);\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/layout/Home.jsx\n **/","//styles\r\nimport styles from './styles.css';\r\n\r\n//libs\r\nimport React from 'react';\r\nimport { Table, Button, Grid, Col, Row, ButtonGroup, Panel, ProgressBar } from 'react-bootstrap';\r\nimport { LineChart } from 'react-d3';\r\nimport ABCJS from 'ABCJS';\r\nimport {connect} from 'react-redux';\r\n\r\nimport Player from '../../../players/soundfont-player/Player.js';\r\n\r\n//Components\r\nimport GAOptions from './GAOptions.jsx';\r\nimport GARunner from '../lib/ga/GARunner.js';\r\nimport Sheet from './Sheet.jsx';\r\nimport IndividualsTable from './IndividualsTable.jsx';\r\n\r\nconst DEFAULT_STATE = {\r\n\tworking: false, // calculate process is execution\r\n\tpaused: false,\r\n\tselected: null,\r\n\tpopulation: [],\r\n\tstatistics: [],\r\n\tpercentage: 0,\r\n\tbest: null\t\r\n};\r\n\r\n// TODO: read crossover options from redux state\r\nexport default class Index extends React.Component { \r\n\tconstructor(params, context) {\r\n\t\tsuper(params);\r\n\t\tthis.runner = null;\r\n\r\n\t\tconst state = context.store.getState();\r\n\r\n\t\t// TODO: put options state in namespace? or grab it from?\r\n\t\tthis.state = Object.assign(\r\n\t\t\t{},\r\n\t\t\tDEFAULT_STATE,\r\n\t\t\t// TODO: why i put this in state?\r\n\t\t\t{\r\n\t\t\t\tcrossover: state.GA.crossover,\r\n\t\t\t\tmutation: state.GA.mutation,\r\n\t\t\t\toptions: state.GA.options\r\n\t\t \t}\r\n\t\t);\r\n\t}\r\n\t\r\n\tselect( item, index ) {\r\n\t\tPlayer.set(item.content);\r\n\t\tthis.setState({\r\n\t\t\tselected: item.content\r\n\t\t});\r\n\t}\r\n\r\n\trun() {\r\n\t\t// Update UI with default values\r\n\t\tthis.setState({\r\n\t\t\tworking: true,\r\n\t\t\tselected: null,\r\n\t\t\tpopulation: [],\r\n\t\t\tstatistics: [],\r\n\t\t\tbest: 0,\r\n\t\t\tpercentage: 0\r\n\t\t});\r\n\r\n\t\t// Delete old runner if it is\r\n\t\tif ( this.runner ) {\r\n\t\t\tthis.runner.destroy();\r\n\t\t}\r\n\r\n\t\t// New Runner\r\n\t\tconst onDone = population => this.setState({ population, working: false, paused: false }); // onDone back to default state\r\n\t\tconst onPause = population => this.setState({ population });\r\n\t\tconst onProgress = ({ percentage, best }) => {\r\n\t\t\tconst statistics = this.state.statistics;\r\n\r\n\t\t\tstatistics.push({\r\n\t\t\t\tx: percentage,\r\n\t\t\t\ty: (best.fitnessValue * 100)\r\n\t\t\t});\r\n\r\n\t\t\tthis.setState({ best, percentage, statistics });\r\n\t\t};\r\n\r\n\t\tconst options = this.context.store.getState().GA;\r\n\t\tthis.runner = new GARunner(options, onDone, onProgress, onPause);\r\n\t}\r\n\r\n\tresume() {\r\n\t\tthis.setState({\r\n\t\t\tpaused: false\r\n\t\t});\r\n\t\tthis.runner && this.runner.resume();\r\n\t}\r\n\r\n\tpause() {\r\n\t\tthis.setState({\r\n\t\t\tpaused: true\r\n\t\t})\r\n\t\tthis.runner && this.runner.pause();\r\n\t}\r\n\r\n\tstop() {\r\n\t\tthis.runner && this.runner.stop();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {store} = this.context;\r\n\t\tconst style = {\r\n            marginTop: '10px'\r\n        };\r\n        const {paused, working} = this.state;\r\n\r\n        let scoresPanel = null;\r\n        let progressBar = null;\r\n        let lineChart = null;\r\n        let best = null;\r\n        let individualsTable = null;\r\n\r\n        if ( this.state.population.length ) {\r\n        \tindividualsTable = (\r\n        \t\t<IndividualsTable\r\n        \t\t\tpopulation={this.state.population}\r\n        \t\t\tonSelect={this.select.bind(this)} />\r\n    \t\t);\r\n        }\r\n\r\n        // Panels\r\n        if ( this.state.selected ) {\r\n        \tscoresPanel = (\r\n        \t\t<Panel header=\"Scores\">\r\n\t\t\t\t\t<Sheet data={this.state.selected} />\r\n\t\t\t\t</Panel>\r\n    \t\t);\r\n        }\r\n\r\n        // ProgressBar\r\n        if ( this.state.percentage ) {\r\n        \tprogressBar = (\r\n        \t\t<div className=\"progress-bar-wrapper\">\r\n        \t\t\t<h3>Progress: </h3>\r\n\t                <ProgressBar now={(this.state.percentage)|0} label=\"%(percent)s%\" />\r\n\t            </div>\r\n    \t\t);\r\n        }\r\n\r\n        // Best Guys ProgressBar\r\n        if ( this.state.best ) {\r\n        \tbest = (\r\n        \t\t<div className=\"progress-bar-wrapper\">\r\n        \t\t\t<h3>Best: </h3>\r\n\t                <ProgressBar bsStyle=\"success\" now={(this.state.best.fitnessValue * 100)|0} label=\"%(percent)s%\" key=\"1\" />\r\n\t            </div>\r\n    \t\t);\r\n        }\r\n\r\n        // Graph of Progress\r\n\t\tif ( this.state.statistics && this.state.statistics.length ) {\r\n\t\t\tconst viewBoxObject = {\r\n\t\t\t    x: 0,\r\n\t\t\t    y: 0,\r\n\t\t\t    width: 500,\r\n\t\t\t    height: 400\r\n\t\t\t};\r\n\t\t\tlineChart = (\r\n\t\t\t\t<Panel header=\"Graph\">\r\n\t\t\t\t\t<LineChart\r\n\t\t\t\t\t  legend={true}\r\n\t\t\t\t\t  data={this._createLineChartData(this.state.statistics)}\r\n\t\t\t\t\t  width={800}\r\n\t\t\t\t\t  height={400}\r\n\t\t\t\t\t  viewBoxObject={viewBoxObject}\r\n\t\t\t\t\t  title=\"Line Chart\"\r\n\t\t\t\t\t  yAxisLabel=\"Altitude\"\r\n\t\t\t\t\t  xAxisLabel=\"Elapsed Time (sec)\"\r\n\t\t\t\t\t  gridHorizontal={true}\r\n\t\t\t\t\t></LineChart>\r\n\t\t\t\t</Panel>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Grid fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm={8} md={8}>\r\n\t\t\t\t\t\t{lineChart}\r\n\t\t\t\t\t\t{scoresPanel}\r\n\t\t\t\t\t\t<GAOptions store={store} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm={4} md={4}>\r\n\t\t\t\t\t\t<Panel header=\"Population\">\r\n\t\t\t\t\t\t\t{/* extract to <GACalculationControls play pause resume stop working paused>*/}\r\n\t\t\t\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tworking ?\r\n\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\tpaused ?\r\n\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t\t<Button bsStyle=\"success\" onClick={this.resume.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-play\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t):\r\n\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t\t<Button bsStyle=\"warning\" onClick={this.pause.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-pause\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t<Button bsStyle=\"success\" onClick={this.run.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-play\"></span>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button bsStyle=\"danger\" onClick={this.stop.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-stop\"></span>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t{best}\r\n\t\t\t\t\t\t\t{progressBar}\r\n\t\t\t\t\t\t\t{individualsTable}\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n\r\n\t// TODO: move to separate module wrapper on linechart\r\n\t_createLineChartData(data) {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'series1',\r\n\t\t\t\tvalues: data,\r\n\t\t\t\tstrokeWidth: 3,\r\n\t\t\t\tstrokeDashArray: '5,5'\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n}\r\n// TODO: redo with react-redux connect later on\r\nIndex.contextTypes = {\r\n\tstore: React.PropTypes.object\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/components/Index.jsx\n **/","module.exports = ABCJS;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ABCJS\"\n ** module id = 544\n ** module chunks = 0\n **/","// 3d Party\r\nimport React from 'react';\r\nimport { Table, Button, Grid, Col, Row, ButtonGroup, Panel } from 'react-bootstrap';\r\n\r\n// Local\r\nimport { SliderControl, CheckboxControl } from './UIFactory.jsx';\r\n\r\nimport {Component as CrossoverProvider} from '../lib/crossovers/CrossoverProvider';\r\nimport {Component as MutationProvider} from '../lib/mutations/MutationProvider';\r\nimport {Component as FitnessProvider} from '../lib/fitness/FitnessProvider';\r\nimport {render as GAOptionsComponent} from '../lib/ga/options';\r\n\r\n/*\r\nshould call render methods on UIProviders\r\n\r\nimport ProvidersContext from 'providers-context';\r\n\r\nProvidersContext.forEach(() => )\r\n */\r\n\r\nexport default ({store}) => (\r\n    <div>\r\n        <GAOptionsComponent store={store} />\r\n        <CrossoverProvider store={store} />\r\n        <MutationProvider store={store} />\r\n        <FitnessProvider store={store} />\r\n    </div>\r\n);\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/components/GAOptions.jsx\n **/","import React from 'react';\r\nimport { Input, Grid, Col, Row } from 'react-bootstrap';\r\nimport { stringUtils } from '../lib/utils.js';\r\n\r\n\r\nclass BaseControl extends React.Component {\r\n\trender() {\r\n\t\tthrow new Error('Abstract class');\r\n\t}\r\n\r\n    onBlur({ field, type = 'number' }, e ) {\r\n        let value;\r\n        switch ( type ) {\r\n            case 'number':\r\n                value = Number(e.target.value);\r\n                break;\r\n            case 'boolean':\r\n                value = e.target.checked;\r\n                break;\r\n        }\r\n\r\n        this.props.onBlur(field, value);\r\n    }\r\n}\r\n\r\n//{ obj, field, ?title, ?min, ?max}\r\nexport class SliderControl extends BaseControl {\r\n    constructor(params) {\r\n        super(params);\r\n        const { field, defaultValue } = this.props;\r\n        this.state = { value: defaultValue };\r\n        this.blurBinded = this.onBlur.bind(this, { field, type: 'number' });\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ value: event.target.value });\r\n    }\r\n\r\n\trender() {\r\n\t\t//required\r\n\t\tconst field = this.props.field;\r\n\t\t//optional\r\n\t\tconst title = this.props.title || stringUtils.camelCaseToHuman(this.props.field);\r\n\t\tconst min = this.props.min || 0;\r\n\t\tconst max = this.props.max || 1;\r\n\t\tconst step = this.props.step || 0.01;\r\n\r\n\t\treturn (\r\n            <div className=\"form-group\">\r\n                <label>{title} - {this.state.value}</label>\r\n                <input \r\n                    defaultValue={this.props.defaultValue}\r\n                \ttype=\"range\"\r\n                \tvalue={this.state.value}\r\n                \tmin={min}\r\n                \tmax={max}\r\n                \tstep={step}\r\n                    onChange={this.onChange}\r\n                \tonBlur={this.blurBinded} />\r\n            </div>\r\n        );\r\n\t}\r\n}\r\n\r\nexport class CheckboxControl extends BaseControl {\r\n    constructor(params) {\r\n        super(params);\r\n        this.state = { value: this.props.defaultValue };\r\n    }\r\n\r\n    onChange(event) {\r\n        this.setState({ value: event.target.value });\r\n    }\r\n\r\n\trender() {\r\n        const {field, defaultValue, onBlur, title} = this.props;\r\n\t\tconst actualTitle = title || stringUtils.camelCaseToHuman(field);\r\n\t\treturn (\r\n            <div className=\"checkbox\">\r\n                <label>\r\n                    <input \r\n                    \ttype=\"checkbox\"\r\n                    \tdefaultChecked={defaultValue}\r\n                        onChange={this.onChange.bind(this)}\r\n                    \tonBlur={this.onBlur.bind(this, {field, type: 'boolean'})} />\r\n                \t{actualTitle}\r\n                </label>\r\n            </div>\r\n        );\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/components/UIFactory.jsx\n **/","function checkArray( arr ) {\r\n\tif ( !Array.isArray(arr) ) {\r\n\t\tthrow new TypeError(`arr should be an array ${arr} given.`);\r\n\t}\r\n}\r\n\r\nfunction checkObj( obj ) {\r\n\tif ( !obj || typeof obj !== 'object' ) {\r\n\t\tthrow new TypeError(`obj should be an object ${obj} given`);\r\n\t}\r\n}\r\n\r\nconst numberUtils = {\r\n\t/**\r\n\t * @param {number} startIndex\r\n\t * @param {number} endIndex not included\r\n\t */\r\n\trandomBetween( startIndex, endIndex ) {\r\n\t\tif (startIndex < 0 || endIndex < 0) {\r\n\t\t\tthrow 'wft randomBetween';\r\n\t\t}\r\n\t\tif ( endIndex === undefined ) {\r\n\t\t\tendIndex = startIndex;\r\n\t\t\tstartIndex = 0;\r\n\t\t}\r\n\r\n\t\treturn Math.floor(Math.random() * endIndex) + startIndex;  \r\n\t},\r\n\r\n\tnormalizeValue(value, maxValue) {\r\n\t\tif (value <= maxValue) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\tconst rem = value % maxValue;\r\n\t\treturn rem ? rem : maxValue;\r\n\t}\r\n};\r\n\r\nconst arrayUtils = {\r\n\tlast( array ) {\r\n\t\treturn array[array.length - 1];\r\n\t},\r\n\r\n\tmake( value, length ) {\r\n\t\tlet arr = [];\r\n\t\twhile( length-- ) {\r\n\t\t\tarr[length] = value;\r\n\t\t}\r\n\t\treturn arr;\r\n\t},\r\n\r\n\tgetRandomIndexes( count /*: number */, length /*: number */, except ) {\r\n\t\tconst result = [];\r\n\r\n\t\tif ( count > length ) {\r\n\t\t\tthrow new Error('Count can\\'t be more that length');\r\n\t\t}\r\n\r\n\t\twhile( count > 0 ) {\r\n\t\t\tconst newIndex = numberUtils.randomBetween(length);\r\n\t\t\tif ( result.indexOf(newIndex) !== -1 ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif ( except && except.includes(newIndex) ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tresult.push(newIndex);\r\n\t\t\tcount--;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\trandomKey( arr ) {\r\n\t\tcheckArray(arr);\r\n\t\treturn numberUtils.randomBetween(arr.length);\r\n\t},\r\n\t\r\n\trandomElement( arr ) {\r\n\t\tconst randomKey = arrayUtils.randomKey(arr);\r\n\t\treturn arr[randomKey];\r\n\t},\r\n\t\r\n\tfindObjectByKey( array, field, value ) {\r\n\t\treturn array.find(element => element.hasOwnProperty(field) && element[field] === value);\r\n\t}\r\n};\r\n\r\nconst objectUtils = {\r\n\trandomElement( obj ) {\r\n\t\tcheckObj(obj);\r\n\t\tconst keys = Object.keys(obj);\r\n\t\tconst randomKey = arrayUtils.randomElement(keys);\r\n\t\treturn obj[randomKey];\r\n\t}\r\n};\r\n\r\nconst stringUtils = {\r\n\tcamelCaseToHuman(str) {\r\n\t\t// \\d - any digit 0..9 and other locals\r\n\t\tconst reg = /([a-z])([A-Z])/g;\r\n\t\tconst template = '$1 $2';\r\n\t\tconst splitter = ' ';\r\n\r\n\t\treturn str\r\n\t\t\t.replace(reg, template)\r\n\t\t\t.split(splitter)\r\n\t\t\t.map(w => stringUtils.firstUpper(w))\r\n\t\t\t.join(splitter);\r\n\t},\r\n\r\n\tfirstUpper(str) {\r\n\t\treturn `${str[0].toUpperCase()}${str.slice(1).toLowerCase()}`;\r\n\t}\r\n}\r\n\r\nconst selectionUtils = {\r\n\tgetRandomKeyByWeight( obj ) {\r\n\t\tconst keys = Object.keys(obj);\r\n\t\tconst weights = Object.keys(obj).map(key => obj[key].weight * 100);\r\n\t\treturn selectionUtils._roulette(keys, weights);\r\n\t},\r\n\r\n\t_roulette(keys, weights) /*: string (key)*/ {\r\n\t\tlet rouletteArray = [];\r\n\t\t\r\n\t\tkeys.forEach((key, i) => {\r\n\t\t\trouletteArray = rouletteArray.concat(arrayUtils.make(key, weights[i]));\r\n\t\t});\r\n\r\n\t\tconst index = numberUtils.randomBetween(rouletteArray.length);\r\n\t\treturn rouletteArray[index];\r\n\t}\r\n};\r\n\r\nconst randomUtils = {\r\n\theadsOrTails() {\r\n\t\treturn Math.random() > 0.5;\t\r\n\t}\r\n};\r\n\r\nexport { default as notesUtils } from './utils/NotesUtils.js';\r\n\r\nexport { \r\n\tobjectUtils as objUtils,\r\n\tarrayUtils,\r\n\tnumberUtils,\r\n\tstringUtils,\r\n\tselectionUtils,\r\n\trandomUtils\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils.js\n **/","const PAUSE = 0;\r\nconst HOLD = -1;\r\n\r\nclass NotesUtils {\r\n\t/*\r\n\t\t[1, -2, 3, 1, 1] where 1 is 1/8 and \"-\" is pause\r\n\t*/\r\n\t// TODO: redo fitness and this creepy logic\r\n\ttoRhythm( data ) {\r\n\t\tlet result = [];\r\n\t\tlet bar = undefined;\r\n\r\n\t\tdata.forEach((item, i) => {\r\n\t\t\tif ( i % 8 === 0 ) {\r\n\t\t\t\tif ( bar ) {\r\n\t\t\t\t\tresult.push(bar);\r\n\t\t\t\t}\r\n\t\t\t\tbar = [];\r\n\t\t\t}\r\n\r\n\t\t\tif ( item === PAUSE ) {\r\n\t\t\t\tbar.push(-1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( item === HOLD && bar.length ) {\r\n\t\t\t\tconst prevIndex = bar.length - 1; \r\n\t\t\t\tconst prevValue = bar[prevIndex];\r\n\t\t\t\tbar[prevIndex] = prevValue > 0 ? prevValue + 1 : prevValue - 1;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tbar.push(1);\r\n\t\t});\r\n\t\tresult.push(bar);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\ttoPitch( data, ignoreOctaves = false ) {\r\n\t\tlet result = [];\r\n\t\tlet bar = undefined\r\n\r\n\t\tdata.forEach((item, i) => {\r\n\t\t\tif ( i % 8 === 0 ) {\r\n\t\t\t\tif ( bar ) {\r\n\t\t\t\t\tresult.push(bar);\r\n\t\t\t\t}\r\n\t\t\t\tbar = [];\r\n\t\t\t}\r\n\t\t\tif ( item === PAUSE || item === HOLD ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tbar.push(ignoreOctaves ? item % 7 : item);\r\n\t\t});\r\n\r\n\t\tif (bar.length) {\r\n\t\t\tresult.push(bar);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nexport default new NotesUtils();\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils/NotesUtils.js\n **/","import createProvider from '../common/createProvider';\r\n\r\nconst context = require.context('./providers', false, /Crossover.js/);\r\nexport const {run, Component} = createProvider('crossover', context);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/crossovers/CrossoverProvider.js\n **/","import {createPluginsHash} from './createPluginsHash';\r\nimport {createRenderComponent} from './createRenderComponent';\r\nimport BaseCalculateProvider from './BaseCalculateProvider';\r\nimport CompositeCalculateProvider from './CompositeCalculateProvider';\r\nimport rootState from '../../../../store/initialState';\r\n\r\nconst initialState = rootState.GA;\r\n\r\nexport function createCompositeProvider(providerName, context) {\r\n\tconst plugins = createPluginsHash(context);\r\n\tconst instance = new CompositeCalculateProvider(plugins, initialState, providerName);\r\n\t\r\n\t// NOTE: run is actually getCalculation function\r\n\tconst run = ::instance.getRunOnce;\r\n\treturn {\r\n\t\trun,\r\n\t\tComponent: createRenderComponent(providerName, plugins)\r\n\t};\t\r\n}\r\n\r\nexport default (providerName, context, randomRun = false) => {\r\n\tconst plugins = createPluginsHash(context);\r\n\tconst instance = new BaseCalculateProvider(plugins, initialState, providerName);\r\n\t\r\n\t// NOTE: run is actually getCalculation function\r\n\tconst run = randomRun ? ::instance.getRunRandom: ::instance.getRunOnce;\r\n\treturn {\r\n\t\trun,\r\n\t\tComponent: createRenderComponent(providerName, plugins)\r\n\t};\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/common/createProvider.js\n **/","export function createPluginsHash(context) {\r\n\treturn context\r\n\t\t\t\t.keys()\r\n\t\t\t\t.map((key) => context(key).default)\r\n\t\t\t\t.reduce((hash, value) => {\r\n\t\t\t\t\tif (!value.getInitialState) {\r\n\t\t\t\t\t\tvalue.getInitialState = () => ({});\r\n\t\t\t\t\t}\r\n\t\t\t\t\thash[value.name] = value;\r\n\t\t\t\t\treturn hash;\r\n\t\t\t\t}, {});\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/common/createPluginsHash.js\n **/","import React from 'react';\r\nimport { Table, Button, Grid, Col, Row, ButtonGroup, Panel } from 'react-bootstrap';\r\nimport { SliderControl, CheckboxControl } from '../../components/UIFactory.jsx';\r\nimport {changeOptions} from '../../actions/index';\r\n\r\n/**\r\n * @description pluginKey = crossover | mutation | fitness\r\n */\r\nexport const createRenderComponent = (pluginKey, plugins) => {\r\n\treturn ({ store }) => {\r\n\t\tconst state = store.getState().GA[pluginKey];\r\n\r\n\t\tconst onblur = (name, field, value) => {\r\n\t\t\tstore.dispatch(\r\n\t\t\t\tchangeOptions([pluginKey, name, field], value)\r\n\t\t\t);\r\n\t\t};\r\n\t\tconst options = Object\r\n\t\t\t.keys(plugins)\r\n\t\t\t.map((name) => {\r\n\t\t\t\tconst plugin = plugins[name];\r\n\t\t\t\tconst innerMarkup = plugin.render && plugin.render(state[name], onblur.bind(null, name));\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Panel header={name} key={name}>\r\n\t\t                <SliderControl\r\n\t\t                \tdefaultValue={state[name].weight}\r\n\t\t                \tonBlur={onblur.bind(null, name)}\r\n\t\t                \tfield={'weight'} />\r\n\t\t                {innerMarkup}\r\n\t\t            </Panel>\r\n\t            );\r\n\t\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Panel collapsible header={pluginKey + ' options'}>\r\n                {options}\r\n            </Panel>\r\n\t\t);\r\n\t};\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/common/createRenderComponent.jsx\n **/","export const OPTIONS_CHANGE_ACTION = 'optionsChangeAction';\r\n\r\nexport function changeOptions(optionsPath, value) {\r\n\treturn {\r\n\t\ttype: OPTIONS_CHANGE_ACTION,\r\n\t\toptionsPath,\r\n\t\tvalue\r\n\t};\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/actions/index.js\n **/","import { selectionUtils } from '../utils.js';\r\n\r\n/**\r\n * @description Provides calculation fn\r\n * 1) Once (current fitness, crossover)\r\n * 2) New everytime (mutations)\r\n */\r\nexport default class BaseCalculateProvider {\r\n\tconstructor(allPlugins, initialState, name) {\r\n\t\tthis._all = allPlugins;\r\n\t\tthis._providerName = name; // Mutation, Crossover, Fitness. (any Genetic Operator)\r\n\t\tthis._registerInStore(initialState);\r\n\t}\r\n\r\n\t/**\r\n\t * @description Gets run function once\r\n\t */\r\n\tgetRunOnce(options) {\r\n\t\tconst { fn, key } = this._getKeyAndFunction(options);\r\n\t\tconst settings = options[key];\r\n\r\n\t\treturn (...args) => {\r\n\t\t\treturn fn.run(...args.concat(settings));\r\n\t\t}\r\n\t}\r\n\r\n\tgetRunRandom(options) {\r\n\t\treturn (...args) => {\r\n\t\t\tconst { fn, key } = this._getKeyAndFunction(options);\r\n\t\t\tconst argsExtended = args.concat(options[key]);\r\n\t\t\treturn fn.run(...argsExtended);\r\n\t\t}\r\n\t}\r\n\r\n\t_getKeyAndFunction(options) {\r\n\t\tconst key = this._getKey(options);\r\n\t\tconst fn = this._getFunction(key);\r\n\t\treturn { key, fn };\r\n\t}\r\n\r\n\t_getKey(options) {\r\n\t\treturn selectionUtils.getRandomKeyByWeight(options);\r\n\t}\r\n\t\r\n\t_getFunction(key) {\r\n\t\treturn this._all[key];\r\n\t}\r\n\r\n\t_registerInStore(initialState) {\r\n\t\tinitialState[this._providerName] = {};\r\n\t\tObject\r\n\t\t\t.keys(this._all)\r\n\t\t\t.map(key => this._all[key])\t\r\n\t\t\t.forEach(({ name, getInitialState }) =>\r\n\t\t\t\tinitialState[this._providerName][name] = getInitialState());\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/common/BaseCalculateProvider.js\n **/","import _ from 'lodash';\r\nimport { selectionUtils } from '../utils.js';\r\nimport BaseCalculateProvider from './BaseCalculateProvider';\r\n\r\nexport default class CompositeCalculateProvider extends BaseCalculateProvider {\r\n\t/**\r\n\t * @description Gets run function once\r\n\t */\r\n\tgetRunOnce(options) {\r\n\t\t// get bounded fn and keys * weights\r\n\r\n\t\tconst MAX_WEIGHT = Object\r\n\t\t\t.keys(options)\r\n\t\t\t.map(k => options[k].weight)\r\n\t\t\t.reduce((sum, weight) => sum + weight, 0);\r\n\r\n\t\tconst keyWeightRaw = _(options)\r\n\t\t\t.pickBy(({ weight }) => weight > 0);\r\n\r\n\t\tlet keyWeight = keyWeightRaw\r\n\t\t\t.mapValues(v => v.weight / MAX_WEIGHT)\r\n\t\t\t.value();\r\n\r\n\t\t// NOTE: pick first provider with _important key if it's here\r\n\t\t// TODO: DEBUG {\r\n\t\t{\r\n\t\t\tconst debugKeyWeight = \r\n\t\t\t\tObject\r\n\t\t\t\t\t.keys(options)\r\n\t\t\t\t\t.reduce((reducer, key) => {\r\n\t\t\t\t\t\tconst { _important } = options[key];\r\n\r\n\t\t\t\t\t\tif (reducer.found) {\r\n\t\t\t\t\t\t\treturn reducer;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (_important) {\r\n\t\t\t\t\t\t\treducer.found = true;\r\n\t\t\t\t\t\t\treducer.value[key] = 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn reducer;\r\n\t\t\t\t\t}, { found: false, value: {} })\r\n\t\t\t\t\t.value;\r\n\t\t\tif (!_.isEmpty(debugKeyWeight)) {\r\n\t\t\t\tkeyWeight = debugKeyWeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// }\r\n\r\n\t\t// TODO: refactor it\r\n\t\tconst fns = Object\r\n\t\t\t.keys(keyWeight)\r\n\t\t\t.reduce((reducer, key) => {\r\n\t\t\t\tconst settings = options[key];\r\n\t\t\t\tconst weight = keyWeight[key];\r\n\t\t\t\tconsole.log(weight);\r\n\t\t\t\tconst fn = this._all[key].run;\r\n\r\n\t\t\t\treducer[key] = (...args) => {\r\n\t\t\t\t\tconst result = fn(...args.concat(settings)) * weight;\r\n\t\t\t\t\tconsole.assert(result >= 0, `Fail on key: ${key}`); \r\n\t\t\t\t\treturn result;\r\n\t\t\t\t};\r\n\t\t\t\treturn reducer;\r\n\t\t\t}, {});\r\n\r\n\t\treturn (...data) => {\r\n\t\t\treturn Object\r\n\t\t\t\t.keys(fns)\r\n\t\t\t\t.map(k => fns[k])\r\n\t\t\t\t.reduce((reducer, fn) => { \r\n\t\t\t\t\treturn reducer + fn(...data);\r\n\t\t\t\t}, 0);\r\n\t\t}\r\n\t}\r\n\r\n\tgetRunRandom() {\r\n\t\tthrow new Error('CompositeCalculateProvider use only run once fn');\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/common/CompositeCalculateProvider.js\n **/","// NOTE: populated by plugins, etc\r\nconst initialState = {\r\n\tGA: {}\r\n};\r\nexport default initialState; \n\n\n/** WEBPACK FOOTER **\n ** ./app/store/initialState.js\n **/","var map = {\n\t\"./OnePointCrossover.jsx\": 578,\n\t\"./TwoPointCrossover.jsx\": 579\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 577;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/plugins/GA/lib/crossovers/providers nonrecursive Crossover.js\n ** module id = 577\n ** module chunks = 0\n **/","import React from 'react';\r\nimport { Table, Button, Grid, Col, Row, ButtonGroup, Panel } from 'react-bootstrap';\r\nimport { numberUtils } from '../../utils';\r\nimport { SliderControl, CheckboxControl } from '../../../components/UIFactory.jsx';\r\n\r\n\r\nfunction createPortion(source, point) {\r\n\treturn [source.slice(0, point), source.slice(point)];\r\n}\r\n\r\nfunction crossover(a, b) {\r\n\tconst point = numberUtils.randomBetween(a.length);\r\n\tconst aPortions = createPortion(a, point);\r\n\tconst bPortions = createPortion(b, point);\r\n\r\n\tif ( Math.random() > 0.5 ) {\r\n\t\treturn [].concat(aPortions[0], bPortions[1]);\r\n\t} else {\r\n\t\treturn [].concat(bPortions[0], aPortions[1]);\r\n\t}\r\n}\r\n\r\nconst getInitialState = () => ({ weight: 0.5 });\r\n\r\nexport default {\r\n\tname: 'one-point-crossover',\r\n\trun: crossover,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/crossovers/providers/OnePointCrossover.jsx\n **/","import { numberUtils, randomUtils } from '../../utils';\r\n\r\nfunction createPortion(source, firstPoint, secondPoint) {\r\n\treturn [source.slice(0, firstPoint), source.slice(firstPoint, secondPoint), source.slice(secondPoint)];\r\n}\r\n\r\nfunction crossover(a, b) {\r\n\tlet result = [];\r\n\tlet firstPoint = numberUtils.randomBetween(a.length);\r\n\tlet secondPoint = numberUtils.randomBetween(a.length);\r\n\tlet aUsed = false;\r\n\tlet bUsed = false;\r\n\r\n\twhile ( secondPoint === firstPoint ) {\r\n\t\tsecondPoint = numberUtils.randomBetween(a.length);\r\n\t}\r\n\r\n\tif ( firstPoint > secondPoint ) {\r\n\t\tconst temp = firstPoint;\r\n\t\tfirstPoint = secondPoint;\r\n\t\tsecondPoint = firstPoint;\r\n\t}\r\n\r\n\tconst aPortions = createPortion(a, firstPoint, secondPoint);\r\n\tconst bPortions = createPortion(b, firstPoint, secondPoint);\r\n\r\n\tfor ( let i = 0, l = aPortions.length; i < l; i++ ) {\r\n\t\tif ( i === l - 1 ) {\r\n\t\t\tif ( !bUsed ) {\r\n\t\t\t\tresult = result.concat(bPortions[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if ( !aUsed ) {\r\n\t\t\t\tresult = result.concat(aPortions[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( randomUtils.headsOrTails() ) {\r\n\t\t\tresult = result.concat(aPortions[i]);\r\n\t\t\taUsed = true;\r\n\t\t} else {\r\n\t\t\tresult = result.concat(bPortions[i]);\r\n\t\t\tbUsed = true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nconst getInitialState = () => ({ weight: 0.7 });\r\n\r\nexport default {\r\n\tname: 'two-point-crossover',\r\n\tgetInitialState,\r\n\trun: crossover\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/crossovers/providers/TwoPointCrossover.jsx\n **/","import createProvider from '../common/createProvider';\r\n\r\nconst context = require.context('./providers', false, /Mutation.js/);\r\nexport const {run, Component} = createProvider('mutation', context, true /* random run on every request */);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/MutationProvider.js\n **/","var map = {\n\t\"./changeDurationMutation.jsx\": 582,\n\t\"./copyPasteMutation.jsx\": 589,\n\t\"./orderMutation.js\": 594,\n\t\"./reverseMutation.js\": 595,\n\t\"./sortMutation.jsx\": 596,\n\t\"./swap2Mutation.jsx\": 598,\n\t\"./swapGroupMutation.jsx\": 599,\n\t\"./transposeMutation.jsx\": 600,\n\t\"./upAndDownMutation.jsx\": 602\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 581;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/plugins/GA/lib/mutations/providers nonrecursive Mutation.js\n ** module id = 581\n ** module chunks = 0\n **/","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../utils.js';\r\nimport Composition from '../../utils/Composition.js';\r\nimport NotesConverter from '../../utils/NotesConverter.js';\r\nimport Note from '../../utils/Note.js';\r\n\r\nconst defaultOptions = {\r\n\tcount: 64\r\n};\r\n\r\nconst PAUSE = 0;\r\nconst HOLD = -1;\r\n\r\n// TODO: class vs functions combination\r\nclass ChangeDuration {\r\n\tmutate( data, options = {} ) {\r\n\t\toptions = Object.assign({}, defaultOptions, options);\r\n\r\n\t\tconst composition = new Composition(data);\r\n\t\tconst bars = composition.bars();\r\n\r\n\t\tconst newBars = bars.map(bar => {\r\n\t\t\tconst countOfIndexes = Math.floor(options.count / bars.length);\r\n\t\t\tconst maxIndex = (bar.length - 1) - 1; //we need neighbor\r\n\r\n\r\n\t\t\tif ( countOfIndexes >= maxIndex ) {\r\n\t\t\t\treturn bar;\r\n\t\t\t}\r\n\r\n\t\t\treturn arrayUtils\r\n\t\t\t\t.getRandomIndexes(countOfIndexes, maxIndex)\r\n\t\t\t\t.reduce((store, mutateIndex) => {\r\n\t\t\t\t\t// If random index exist before but now array (bar) became smaller so we don't have it\r\n\t\t\t\t\tif (!store[mutateIndex + 1]) {\r\n\t\t\t\t\t\treturn store;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst mutateNotes = [store[mutateIndex].clone(), store[mutateIndex + 1].clone()];\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t// Copy of bar from 0 -> mutateIndex\r\n\t\t\t\t\t\t...store.slice(0, mutateIndex).map(n => n.clone()),\r\n\r\n\t\t\t\t\t\t// 2 mutated notes\r\n\t\t\t\t\t\t...this._mutateOne(...mutateNotes),\r\n\r\n\t\t\t\t\t\t// Copy of bar from mutateIndex + 2 to the end\r\n\t\t\t\t\t\t...store.slice(mutateIndex + 2)\r\n\t\t\t\t\t];\r\n\t\t\t\t}, bar);\r\n\t\t});\r\n\r\n\t\treturn NotesConverter.fromBarsToRaw(newBars);\r\n\t}\r\n\r\n\t/**\r\n\t * @param  {Note} a [description]\r\n\t * @param  {Note} b [description]\r\n\t * @return {[Note, Note] | [Note]}\r\n\t */\r\n\t_mutateOne( a, b ) {\r\n\t\tlet inverse = false;\r\n\r\n\t\tif ( Math.random() < 0.5 ) {\r\n\t\t\tinverse = true;\r\n\t\t\t[a, b] = [b, a];\r\n\t\t}\r\n\r\n\t\tconst newA = Note.create(a.value(), a.length() + 1);\r\n\r\n\t\tif (b.length() === 1) {\r\n\t\t\treturn [newA];\r\n\t\t}\r\n\r\n\t\tconst newB = Note.create(b.value(), b.length() - 1);\r\n\t\treturn inverse ? [newB, newA] : [newA, newB];\r\n\t}\r\n}\r\n\r\nconst instance = new ChangeDuration();\r\n\r\nconst run = instance.mutate.bind(instance);\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={16}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 1,\r\n\tcount: 7\r\n});\r\n\r\nexport default {\r\n\tname: 'change-duration-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/changeDurationMutation.jsx\n **/","import Note from './Note.js';\r\nimport NotesConverter from './NotesConverter.js';\r\nimport MusicContext from '../MusicContext';\r\n\r\nexport default class Composition {\r\n\tstatic create(raw, barLength) {\r\n\t\treturn new Composition(raw, barLength);\r\n\t}\r\n\r\n\tconstructor( raw, barLength = MusicContext.getBarLength() ) {\r\n\t\tif ( !Array.isArray(raw) ) {\r\n\t\t\tthrow `Invalid argument raw: ${raw}, should be an array of numbers`;\r\n\t\t}\r\n\r\n\t\tthis._barLength = barLength;\r\n\t\tthis._raw = null;\r\n\t\tthis._notes = null;\r\n\t\tthis._bars = null;\r\n\r\n\t\tthis._updateState(raw);\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn this._notes.length;\r\n\t}\r\n\r\n\tbars() {\r\n\t\tlet result = [];\r\n\t\tlet bar = [];\r\n\t\tlet counter = 0;\r\n\r\n\t\tthis._notes.forEach(note => {\r\n\t\t\tcounter += note.length();\r\n\t\t\tbar.push(note.clone());\r\n\t\t\t\r\n\t\t\tconsole.assert(counter <= this._barLength, `Counter: ${counter} but should be less than ${this._barLength}`);\r\n\t\t\tif ( counter === this._barLength ) {\r\n\t\t\t\tcounter = 0;\r\n\t\t\t\tresult.push(bar);\r\n\t\t\t\tbar = [];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\trawBars() {\r\n\t\treturn this\r\n\t\t\t.bars()\r\n\t\t\t.map(bar =>\r\n\t\t\t\tbar.reduce((reducer, note) =>\r\n\t\t\t\t\t[...reducer, ...note.toRaw()], []));\r\n\t}\r\n\r\n\traw() {\r\n\t\treturn this._raw.slice();\r\n\t}\r\n\r\n\t_updateState( raw ) {\r\n\t\tthis._raw = raw.slice();\r\n\t\tthis._notes = NotesConverter.toNotes(this._raw);\r\n\t\tthis._bars = this.bars();\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils/Composition.js\n **/","//#technical_debt value in range [-1 .. 14]\r\nimport { availableValues } from '../common.js';\r\n\r\nconst PAUSE = 0;\r\nconst NOTES_IN_OCTAVE = 7;\r\n\r\nexport default class Note {\r\n\tconstructor( value, length = 1, legato = false ) {\r\n\t\tif ( value < 0 || availableValues.indexOf(value) === -1 ) {\r\n\t\t\tthrow `Invalid argument value: ${value}`;\r\n\t\t}\r\n\r\n\t\tif ( !Number.isInteger(length) || length <= 0 ) {\r\n\t\t\tthrow `Invalid argument length: ${length}`;\r\n\t\t}\r\n\r\n\t\tthis._value = value;\r\n\t\tthis._length = length;\r\n\t\tthis._legato = legato;\r\n\t}\r\n\r\n\tclone() {\r\n\t\treturn new Note(this._value, this._length, this._legato);\r\n\t}\r\n\r\n\tstatic create( value, length, legato ) {\r\n\t\treturn new Note(value, length, legato);\r\n\t}\r\n\r\n\tpitch( ignoreOctave = false ) {\r\n\t\tif ( !this.isNote() ) {\r\n\t\t\tthrow 'Current note is pause';\r\n\t\t}\r\n\r\n\t\treturn ignoreOctave ? this._value % NOTES_IN_OCTAVE: this._value;\r\n\t}\r\n\r\n\tvalue() {\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn this._length;\r\n\t}\r\n\r\n\tisNote() {\r\n\t\treturn this._value > PAUSE;\r\n\t}\r\n\r\n\tisPause() {\r\n\t\treturn this._value === PAUSE;\r\n\t}\r\n\r\n\t// TODO: redo with reduce ... that's unreadable\r\n\ttoRaw() {\r\n\t\tconst result = [this._value];\r\n\r\n\t\tif ( this._length > 1 ) {\r\n\t\t\tlet count = this._length - 1;\r\n\t\t\twhile ( count > 0 ) {\r\n\t\t\t\tcount--;\r\n\t\t\t\tresult.push(-1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//Immutable\r\n\t/**\r\n\t * @param  {Number} howMuch\r\n\t * @return {Note}\r\n\t */\r\n\tincreaseLength( howMuch = 1 ) {\r\n\t\treturn this._changeLength(howMuch);\r\n\t}\r\n\r\n\t/**\r\n\t * @param  {Number} howMuch\r\n\t * @return {Note}\r\n\t */\r\n\tdecreaseLength( howMuch = 1 ) {\r\n\t\tif ( this._length === 1 ) {\r\n\t\t\tthrow 'Length can not be less than 1';\r\n\t\t}\r\n\t\treturn this._changeLength(-howMuch);\r\n\t}\r\n\r\n\t/**\r\n\t * @param  {Number} howMuch\r\n\t * @return {Note}\r\n\t */\r\n\t_changeLength( howMuch ) {\r\n\t\treturn Note.create(this._value, this._length + howMuch);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils/Note.js\n **/","//TODO: get it from music context?/\r\nexport const availableValues = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\n\r\n\r\n/*\r\ngrid - 1/8\r\n-1 - previous\r\n0 - pause\r\n1 - C\r\n2 - D\r\n...\r\n*/\r\n//grid - 1/8\r\nexport const REFERENCE_INDIVIDUAL = [\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t3, -1, 2, -1, 2, -1, 3, -1,\r\n\t2, -1, -1, -1, 5, -1, -1, -1,\r\n\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t5, -1, 5, -1, 4, -1, 2, -1,\r\n\t1, -1, -1, -1, -1, -1, -1, -1\r\n];\r\n\r\n\r\n//ЧИЖИК\r\n/*export const REFERENCE_INDIVIDUAL = [\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1,\r\n\r\n\t10, -1, 8, -1, 10, -1, 8, -1,\r\n\t11, -1, 10, -1, 9, -1, -1, -1,\r\n\r\n\t5, -1, 5, -1, 5, -1, 6, 7,\r\n\t8, -1, 8, -1, 8, -1, -1, -1\r\n];\r\n\r\n*/\r\nconst SOVIET = [\r\n\t8, 6, -1, 8, -1, 9, -1, 12,\r\n\t-1, 11, -1, -1, -1, -1, -1, 11,\r\n\r\n\t12, 11, -1, 10, -1, 9, -1, 12,\r\n\t-1, 11, -1, -1, -1, -1, -1, -1,\r\n\r\n\t11, 11, -1, 10, -1, 11, -1, -1,\r\n\t9, -1, -1, -1, 0, 0, 0, 0,\r\n\r\n\t0, 0, 0, 5, 8, 9, 8, 7,\r\n\t0, 0, 0, 0, 0, 0, 0, 6\r\n];\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/common.js\n **/","import Note from './Note.js';\r\n\r\nclass NotesConverter {\r\n\tconstructor() {\r\n\t\tthis._PAUSE = 0;\r\n\t\tthis._HOLD = -1;\r\n\t}\t\r\n\r\n\ttoNotes( raw ) {\r\n\t\tlet result = [];\r\n\t\tlet previousNoteValue = 0;\r\n\r\n\t\tfor ( let i = 0, l = raw.length; i < l; i++ ) {\r\n\t\t\tconst item = raw[i];\r\n\r\n\t\t\t// If first item is hold\r\n\t\t\tif ( i === 0 && item === this._HOLD ) {\r\n\t\t\t\t//console.warn('First note is hold! Something wrong, replace it with pause');\r\n\t\t\t\tresult.push(Note.create(0, 1, false));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// If Hold on first note of bars\r\n\t\t\tif ( item === this._HOLD && i % 8 === 0 ) {\r\n\t\t\t\tresult.push(Note.create(previousNoteValue, 1, true));\t\t\t\t\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif ( item === this._HOLD ) {\r\n\t\t\t\tlet last = result.pop();\r\n\t\t\t\tresult.push(Note.create(last.value(), last.length() + 1, false));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpreviousNoteValue = item;\r\n\t\t\tresult.push(Note.create(item, 1, false));\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tfromBarsToRaw( bars ) {\r\n\t\tlet result = [];\r\n\r\n\t\tbars.forEach(bar => {\r\n\t\t\tbar.forEach(n => {\r\n\t\t\t\tresult = result.concat(n.toRaw());\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\nexport default new NotesConverter();\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils/NotesConverter.js\n **/","import SimpleStorage from './SimpleStorage.js';\r\nimport {REFERENCE_INDIVIDUAL} from './common';\r\n\r\nconst DEFAULT_BAR_LENGTH = 8;\r\n\r\n// TODO: use MusicContext instead\r\nexport const availableValuesInGF = [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\nexport const PAUSE = 0;\r\nexport const HOLD = -1;\r\n\r\n// TODO: used in composition/s jsx\r\nclass MusicContext {\r\n\tselectComposition(key) {\r\n\t\tSimpleStorage.setCurrent(key);\r\n\t}\r\n\r\n\tgetCurrentComposition() {\r\n\t\treturn SimpleStorage.getCurrent() || REFERENCE_INDIVIDUAL;\r\n\t}\r\n\r\n\tgetCurrentKey() {\r\n\t\treturn SimpleStorage.getCurrentKey();\r\n\t}\r\n\r\n\tgetCompositionLength() {\r\n\t\treturn 128;\r\n\t}\r\n\r\n\tgetAllCompositions() {\r\n\t\treturn SimpleStorage.getKeys();\r\n\t}\r\n\r\n\tisValidName( name ) {\r\n\t\treturn this.getAllCompositions().indexOf(name) === -1;\r\n\t}\r\n\r\n\tsave( name, composition ) {\r\n\t\treturn SimpleStorage.save(name, composition);\r\n\t}\r\n\r\n\tremove(name) {\r\n\t\treturn SimpleStorage.remove(name);\r\n\t}\r\n\r\n\tgetByKey(key) {\r\n\t\treturn SimpleStorage.getByKey(key);\r\n\t}\r\n\r\n\tgetDefault() {\r\n\t\treturn SimpleStorage.getDefault();\r\n\t}\r\n\r\n\tgetBarLength() {\r\n\t\t// FIXME: HARDCODE FOR NOW\r\n\t\treturn DEFAULT_BAR_LENGTH;\r\n\t}\r\n\r\n\tgetMaxOneOctaveValue() {\r\n\t\treturn 7;\r\n\t}\r\n\r\n\tgetAvailableValues(ignoreOctaves) {\r\n\t\tconst maxOneOctaveValue = this.getMaxOneOctaveValue();\r\n\t\treturn ignoreOctaves ? \r\n\t\t\tavailableValuesInGF.filter(x => x <= maxOneOctaveValue) :\r\n\t\t\tavailableValuesInGF;\r\n\t}\r\n\r\n\tgetAvailablePitchValues() {\r\n\t\tconst excludeArray = [PAUSE, HOLD];\r\n\t\treturn availableValuesInGF.filter(x => !excludeArray.includes(x));\r\n\t}\r\n\r\n\t// TODO: here for now\r\n\tgetIntervalReference() {\r\n\t\t//only for Cmaj in halftones\r\n\t\tconst INTERVAL_REFERENCE = [\r\n\t\t\t//First octave\r\n\t\t\t2, //C-D\r\n\t\t\t2, //D-E\r\n\t\t\t1, //E-F\r\n\t\t\t2, //F-G\r\n\t\t\t2, //G-A\r\n\t\t\t2, //A-B\r\n\t\t\t1, //B-C\r\n\t\t\t//Second octave\r\n\t\t\t2, //C-D\r\n\t\t\t2, //D-E\r\n\t\t\t1, //E-F\r\n\t\t\t2, //F-G\r\n\t\t\t2, //G-A\r\n\t\t\t2, //A-B\r\n\t\t\t1  //B-C\r\n\t\t];\r\n\r\n\t\treturn INTERVAL_REFERENCE;\r\n\t}\r\n\r\n\tgetHalfTonesBeetween(a, b) {\r\n\t\tconst intervalReference = this.getIntervalReference();\r\n\t\tif ( a > b ) {\r\n\t\t\tconst temp = a;\r\n\t\t\ta = b;\r\n\t\t\tb = temp;\r\n\t\t}\r\n\r\n\t\tconst arrayToSum = intervalReference.slice(a, b);\r\n\r\n\t\treturn arrayToSum.reduce((prevValue, item) => {\r\n\t\t\treturn prevValue + item;\r\n\t\t}, 0);\r\n\t}\r\n}\r\n\r\nexport default new MusicContext();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/MusicContext.js\n **/","const FIRMWARE_INDIVIDUAL_KEY = 'default';\r\nconst FIRMWARE_INDIVIDUAL = [\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t3, -1, 2, -1, 2, -1, 3, -1,\r\n\t2, -1, -1, -1, 5, -1, -1, -1,\r\n\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 3, -1, 3, -1, -1, -1,\r\n\t3, -1, 5, -1, 1, -1, -1, 2,\r\n\t3, -1, -1, -1, -1, -1, -1, -1,\r\n\r\n\r\n\t4, -1, 4, -1, 4, -1, -1, 4,\r\n\t4, -1, 3, -1, 3, -1, 3, 3,\r\n\t5, -1, 5, -1, 4, -1, 2, -1,\r\n\t1, -1, -1, -1, -1, -1, -1, -1\r\n];\r\n\r\nconst ALL_KEY = '__all';\r\nconst CURRENT_KEY = '__current';\r\n\r\nclass SimpleStorage {\r\n\tgetKeys() {\r\n\t\tconst keys = this._getKeys();\r\n\t\tif ( !keys ) {\r\n\t\t\treturn [FIRMWARE_INDIVIDUAL_KEY];\r\n\t\t}\r\n\t\tkeys.unshift(FIRMWARE_INDIVIDUAL_KEY);\r\n\t\treturn keys;\r\n\t}\r\n\r\n\t_getKeys() {\r\n\t\tconst keysRaw = localStorage.getItem(ALL_KEY);\r\n\t\treturn JSON.parse(keysRaw);\r\n\t}\r\n\r\n\tgetDefault() {\r\n\t\treturn FIRMWARE_INDIVIDUAL;\r\n\t}\r\n\r\n\tgetByKey( key ) {\r\n\t\tif ( key === FIRMWARE_INDIVIDUAL_KEY ) {\r\n\t\t\treturn this.getDefault();\r\n\t\t}\r\n\r\n\t\tlet compositionRaw = localStorage.getItem(key);\r\n\t\tif ( !compositionRaw ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn JSON.parse(compositionRaw);\r\n\t}\r\n\r\n\tsave( key, value ) {\r\n\t\ttry {\r\n\t\t\tvalue = JSON.stringify(value);\r\n\t\t\tlocalStorage.setItem(key, value);\r\n\t\t\tlet prevKeys = JSON.parse(localStorage.getItem(ALL_KEY)) || [];\r\n\r\n\t\t\tif ( prevKeys.indexOf(key) === -1 ) {\r\n\t\t\t\tprevKeys.push(key);\r\n\t\t\t}\r\n\r\n\t\t\tlocalStorage.setItem(ALL_KEY, JSON.stringify(prevKeys));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn('You got invalid data');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetCurrentKey() {\r\n\t\treturn localStorage.getItem(CURRENT_KEY) || 'default';\r\n\t}\r\n\r\n\tgetCurrent() {\r\n\t\treturn this.getByKey(this.getCurrentKey());\r\n\t}\r\n\r\n\tsetCurrent( key ) {\r\n\t\tlocalStorage.setItem(CURRENT_KEY, key);\r\n\t}\r\n\r\n\tremove( key ) {\r\n\t\tlet prevKeys = JSON.parse(localStorage.getItem(ALL_KEY)) || [];\r\n\t\tconst index = prevKeys.indexOf(key);\r\n\t\tif (  index !== -1 ) {\r\n\t\t\tprevKeys.splice(index, 1);\r\n\t\t}\r\n\t\tlocalStorage.setItem(ALL_KEY, JSON.stringify(prevKeys));\r\n\t\tlocalStorage.removeItem(key);\r\n\t}\r\n\r\n\tclear() {\r\n\t\tlocalStorage.clear();\r\n\t}\r\n}\r\n\r\nexport default new SimpleStorage();\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/SimpleStorage.js\n **/","import { createGroupMutation } from './common/createGroupMutation';\r\n\r\nexport default createGroupMutation(\r\n\t'copy-paste-mutation',\r\n\t(groups, [fromIndexes, toIndexes]) => {\r\n\t\tgroups.copy(fromIndexes, toIndexes);\r\n\t}\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/copyPasteMutation.jsx\n **/","import React from 'react';\r\nimport { SliderControl } from '../../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../../utils.js';\r\nimport { createGroupsWithRandomOffset } from '../../../services/createGroupsWithRandomOffset';\r\nimport { validateGroupsInput, fromPercentToValue, getGroupsIndexes } from '../common.js';\r\n\r\n/**\r\n * @description options.groupSize in percents!\r\n */\r\nexport const createCalculate = (fn) => \r\n\t(data: Array<number>, options: { groupSize: number, count: number }) => {\r\n\t\tconst size = data.length;\r\n\t\tconst groupsCount = options.count;\r\n\t\tconst groupSize = fromPercentToValue(size, options.groupSize);\r\n\r\n\t\t// 1. Validation\r\n\t\tvalidateGroupsInput(size, groupSize, groupsCount);\r\n\t\t\r\n\t\t// 2. Create groups\r\n\t\tconst groups = createGroupsWithRandomOffset(data, groupSize);\r\n\r\n\t\t// 3. Generate random indexes\r\n\t\tconst [fromIndexes, toIndexes] = getGroupsIndexes(groupsCount, groups.length());\r\n\r\n\t\t// 4. Do something with indexes and group\r\n\t\tfn(groups, [fromIndexes, toIndexes], options);\t\t\r\n\r\n\t\treturn groups.toRaw();\r\n\t};\r\n\r\n\r\nconst render = \r\n\t({ count, groupSize }, onblur) => (\r\n\t\t<div>\r\n\t\t\t<SliderControl\r\n\t        \tdefaultValue={count}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'count'} \r\n\t        \ttitle=\"Count of groups\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={10}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n\t    \t<SliderControl\r\n\t        \tdefaultValue={groupSize}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'groupSize'} \r\n\t        \ttitle=\"Group size in percents\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={100}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n    \t</div>\r\n\t);\r\n\r\nconst initialState = {\r\n\tweight: 0.2,\r\n\tgroupSize: 5,\r\n\tcount: 2\r\n};\r\n\r\nexport function createGroupMutation(name, fn, state = initialState) {\r\n\treturn {\r\n\t\tname,\r\n\t\trun: createCalculate(fn),\r\n\t\trender,\r\n\t\tgetInitialState: () => state\r\n\t};\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/common/createGroupMutation.jsx\n **/","import { Groups } from './Groups';\r\nimport { numberUtils } from '../utils.js';\r\n\r\nfunction getMaxOffset(size, groupSize) {\r\n\treturn size % groupSize;\r\n}\r\n\r\nexport function createGroupsWithRandomOffset(data, groupSize) {\r\n\tconst maxOffset = getMaxOffset(data.length, groupSize);\r\n\tconst offset = numberUtils.randomBetween(0, maxOffset + 1);\r\n\treturn new Groups(data, groupSize, offset);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/services/createGroupsWithRandomOffset.js\n **/","import { range, chunk, flatten } from 'lodash';\r\n\r\nexport class Groups {\r\n\tstatic create(data: Array<number>, size: number, offset: number = 0) {\r\n\t\treturn new Groups(data, size, offset);\r\n\t}\r\n\r\n\tconstructor(data: Array<number>, size: number, offset: number = 0) {\r\n\t\tthis._chunks = this._createChunks(data, size, offset);\r\n\t}\r\n\r\n\tswap(first: Array<number>, second: Array<number>): void {\r\n\t\tconst hash = this._arraysToMap(first, second);\r\n\t\tconst backHash = this._arraysToMap(second, first);\r\n\r\n\t\tthis._chunks = this._chunks\r\n\t\t\t\t\t\t.map((item, index) => {\r\n\t\t\t\t\t\t\tif (hash[index]) {\r\n\t\t\t\t\t\t\t\treturn this._chunks[hash[index]];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (backHash[index]) {\r\n\t\t\t\t\t\t\t\treturn this._chunks[backHash[index]];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t\t});\r\n\t}\r\n\r\n\tcopy(first: Array<number>, second: Array<number>): void {\r\n\t\tconst hash = this._arraysToMap(first, second);\r\n\t\tthis._chunks = this._chunks\r\n\t\t\t\t\t\t.map((item, index) => \r\n\t\t\t\t\t\t\thash[index] == null ? item : this._chunks[hash[index]]);\r\n\t}\t\r\n\r\n\tlength(): number {\r\n\t\treturn this._chunks.length;\r\n\t}\r\n\r\n\tset(index, value) {\r\n\t\tthis._chunks[index] = value;\r\n\t}\r\n\r\n\tget(index) {\r\n\t\treturn this._chunks[index];\r\n\t}\r\n\r\n\tall() {\r\n\t\treturn this._chunks;\r\n\t}\r\n\r\n\ttoRaw(): Array<number> {\r\n\t\treturn flatten(this._chunks);\r\n\t}\r\n\r\n\t_createChunks(data, size, offset): Array<Array<number>> {\r\n\t\tconst firstChunk = data.slice(0, offset);\r\n\t\tconst rest = chunk(data.slice(offset), size);\r\n\t\treturn firstChunk.length ? [firstChunk, ...rest] : rest;\r\n\t}\r\n\r\n\t// TODO: maybe export somewhere arrayUtils, objectUtils\r\n\t_arraysToMap(first: Array<number>, second: Array<number>): { [id: number]: number }  {\r\n\t\treturn first\r\n\t\t\t.reduce(\r\n\t\t\t\t(reducer, value, index) =>\r\n\t\t\t\t\t({ ...reducer, [value]: second[index] })\r\n\t\t\t\t, {});\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/services/Groups.js\n **/","import { arrayUtils } from '../../utils.js';\r\n\r\nexport function validateGroupsInput(size, groupSize, groupsCount) {\r\n\tif ( size < groupSize * groupsCount ) {\r\n\t\tthrow new Error(`Invalid groupSize: ${groupSize} or groupsCount: ${groupsCount} for size: ${size}`);\r\n\t}\r\n}\r\n\r\nexport function fromPercentToValue(size, percent) {\r\n\treturn Math.floor(size * percent / 100);\r\n}\r\n\r\n/**\r\n * returns 2 groups of indexes \r\n */\r\nexport function getGroupsIndexes(groupsCount, groupsSize) {\r\n\t// TODO: [0, groupSize - 1] quick fix to not grab first and last indexes\r\n\tconst swapIndexes = arrayUtils.getRandomIndexes(groupsCount * 2, groupsSize, [0, groupsSize - 1]);\r\n\tconst middle = swapIndexes.length / 2;\r\n\treturn [swapIndexes.slice(0, middle), swapIndexes.slice(middle)];\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/common.js\n **/","import { createGroupMutation } from './common/createGroupMutation';\r\nimport { sortBy } from 'lodash';\r\nimport { randomUtils } from '../../utils';\r\n\r\nexport default createGroupMutation(\r\n\t'order-mutation',\r\n\t(groups, [indexes]) => {\r\n\t\tindexes.forEach(i => {\r\n\t\t\tconst chunk = groups.get(i);\r\n\t\t\tconst sorted = sortBy(chunk);\r\n\t\t\tgroups.set(i, randomUtils.headsOrTails() ? sorted : sorted.reverse());\r\n\t\t});\r\n\t}\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/orderMutation.js\n **/","import { createGroupMutation } from './common/createGroupMutation';\r\nimport { sortBy } from 'lodash';\r\nimport { randomUtils } from '../../utils';\r\n\r\nexport default createGroupMutation(\r\n\t'reverse-mutation',\r\n\t(groups, [indexes]) => {\r\n\t\tindexes.forEach(i => {\r\n\t\t\tgroups.set(i, groups.get(i).reverse());\r\n\t\t});\r\n\t}\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/reverseMutation.js\n **/","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { calculate as run } from './sortMutation/calculate';\r\nimport MusicContext from '../../MusicContext';\r\n\r\nconst COUNT_OF_GENS = MusicContext.getCompositionLength();\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={COUNT_OF_GENS}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 1,\r\n\tcount: 10\r\n});\r\n\r\nexport default {\r\n\tname: 'sort-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/sortMutation.jsx\n **/","import { numberUtils } from '../../../utils.js';\r\n\r\nexport function calculate(data, options) {\r\n\tif ( options.count >= data.length ) {\r\n\t\tthrow 'To much gens for sort mutation';\r\n\t}\r\n\r\n\tconst length = data.length;\r\n\tconst startIndex = numberUtils.randomBetween(0, length - options.count);\r\n\tconst endIndex = startIndex + options.count;\r\n\r\n\tconst sorted = data\r\n\t\t.slice(startIndex, endIndex)\r\n\t\t.sort((a, b) => +a - +b);\r\n\r\n\treturn [\r\n\t\t...data.slice(0, startIndex),\r\n\t\t...sorted,\r\n\t\t...data.slice(endIndex)\r\n\t];\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/sortMutation/calculate.js\n **/","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../utils.js';\r\n\r\nconst defaultOptions = {\r\n\tcount: 64\r\n};\r\n\r\nfunction run( data, options = {} ) {\r\n\toptions = Object.assign({}, defaultOptions, options);\r\n\r\n\tarrayUtils\r\n\t\t// -1 cause we need neighbor\r\n\t\t.getRandomIndexes(options.count, data.length - 1)\r\n\t\t.forEach(i => {\r\n\t\t\tconst temp = data[i];\r\n\t\t\tdata[i] = data[i + 1];\r\n\t\t\tdata[i + 1] = temp;\r\n\t\t});\r\n\t\r\n\treturn data;\r\n}\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={128}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 0.25,\r\n\tcount: 32\r\n});\r\n\r\nexport default {\r\n\tname: 'swap2-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/swap2Mutation.jsx\n **/","import { createGroupMutation } from './common/createGroupMutation';\r\n\r\nexport default createGroupMutation(\r\n\t'swap-group-mutation',\r\n\t(groups, [fromIndexes, toIndexes]) => {\r\n\t\tgroups.swap(fromIndexes, toIndexes);\r\n\t}\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/swapGroupMutation.jsx\n **/","import React from 'react';\r\nimport { last } from 'lodash';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { calculate as run } from './transposeMutation/calculate';\r\n\r\nconst initialState = {\r\n\tweight: 0.2,\r\n\tgroupSize: 5,\r\n\tcount: 2,\r\n\ttransposeSize: 2\r\n};\r\n\r\nconst render = \r\n\t({ count, groupSize, transposeSize }, onblur) => (\r\n\t\t<div>\r\n\t\t\t<SliderControl\r\n\t        \tdefaultValue={count}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'count'} \r\n\t        \ttitle=\"Count of groups\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={10}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n\t    \t<SliderControl\r\n\t        \tdefaultValue={groupSize}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'groupSize'} \r\n\t        \ttitle=\"Group size in percents\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={100}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n\t    \t<SliderControl\r\n\t        \tdefaultValue={transposeSize}\r\n\t        \tonBlur={onblur}\r\n\t        \tfield={'transposeSize'} \r\n\t        \ttitle=\"Size of transposition in steps\"\r\n\t\t\t\tmin={1}\r\n\t\t\t\tmax={7}\r\n\t\t\t\tstep={1}\r\n\t    \t/>\r\n    \t</div>\r\n\t);\r\n\r\nexport default {\r\n\tname: 'transpose-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState: () => initialState\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/transposeMutation.jsx\n **/","import { last } from 'lodash';\r\nimport { createCalculate } from '../common/createGroupMutation';\r\nimport { availableValuesInGF, PAUSE, HOLD } from '../../../MusicContext';\r\nimport { randomUtils } from '../../../utils';\r\n\r\nconst MAX_GEN_VALUE = last(availableValuesInGF);\r\n\r\nfunction transposeGen(gen, transposeSize) {\r\n\tif ([PAUSE, HOLD].includes(gen)) {\r\n\t\treturn gen;\r\n\t} \r\n\tconst newValue = gen + transposeSize;\r\n\tconst rem = newValue % MAX_GEN_VALUE;\r\n\treturn rem ? rem : MAX_GEN_VALUE;\r\n}\r\n\r\nexport const calculate =\r\n\tcreateCalculate((groups, [indexes], { transposeSize }) => {\r\n\t\tindexes.forEach(i => {\r\n\t\t\tconst chunk = groups.get(i);\r\n\t\t\tgroups.set(i, chunk.map(g => transposeGen(g, transposeSize)));\r\n\t\t});\r\n\t});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/transposeMutation/calculate.js\n **/","import React from 'react';\r\nimport { SliderControl } from '../../../components/UIFactory.jsx';\r\nimport { arrayUtils } from '../../utils.js';\r\n\r\nconst defaultOptions = {\r\n\tcount: 64\r\n};\r\n\r\nconst UP_CORNER = 14;\r\nconst DOWN_CORNER = 1;\r\n\r\nclass UpAndDownMutation {\r\n\tmutate( data, options = {} ) {\r\n\t\toptions = Object.assign({}, defaultOptions, options);\r\n\t\tconst indexes = arrayUtils.getRandomIndexes(options.count, data.length);\r\n\t\tindexes.forEach(i => {\r\n\t\t\tif ( data[i] === -1 || data[i] === 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t} \r\n\t\t\tdata[i] = this._mutateOne(data[i]);\r\n\t\t});\r\n\t\treturn data;\r\n\t}\r\n\t_mutateOne( value ) {\r\n\t\tif ( Math.random() > 0.5 ) {\r\n\t\t\t//TODO: export to common END\r\n\t\t\tif ( value < UP_CORNER ) {\r\n\t\t\t\treturn value + 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\t\t} else {\r\n\t\t\t//TODO: export to common START\r\n\t\t\tif ( value > (DOWN_CORNER + 1)  ) {\r\n\t\t\t\treturn value - 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nconst instance = new UpAndDownMutation();\r\nconst run = instance.mutate.bind(instance);\r\n\r\nconst render = \r\n\t(state, onblur) => (\r\n\t\t<SliderControl\r\n        \tdefaultValue={state.count}\r\n        \tonBlur={onblur.bind(null, 'count')}\r\n        \tfield={'count'} \r\n        \ttitle=\"Count of genes\"\r\n\t\t\tmin={1}\r\n\t\t\tmax={128}\r\n\t\t\tstep={1}\r\n    \t/>\r\n\t);\r\n\r\nconst getInitialState = () => ({\r\n\tweight: 1,\r\n\tcount: 7\r\n});\r\n\r\nexport default {\r\n\tname: 'up-and-down-mutation',\r\n\trun,\r\n\trender,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/mutations/providers/upAndDownMutation.jsx\n **/","import { createCompositeProvider } from '../common/createProvider';\r\n\r\nconst context = require.context('./providers', false, /Fitness.js/);\r\nexport const {run, Component} = createCompositeProvider('fitness', context);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/FitnessProvider.js\n **/","var map = {\n\t\"./BasicReferenceFitness.js\": 605,\n\t\"./ClusterFitness.js\": 607,\n\t\"./DirectionFitness.js\": 611,\n\t\"./IntervalFitness.js\": 613,\n\t\"./MagnitudeFitness.js\": 616,\n\t\"./MelodyFitness.js\": 618,\n\t\"./NoteSizePartialFitness.js\": 619,\n\t\"./RodNoteFitness.js\": 623\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 604;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/plugins/GA/lib/fitness/providers nonrecursive Fitness.js\n ** module id = 604\n ** module chunks = 0\n **/","import {normalizeNotesDiscrete} from '../../utils/normalization';\r\n\r\nconst run =\r\n\t(content, reference) => {\r\n\t\tconst normContent = normalizeNotesDiscrete(content);\r\n\t\tconst normReference = normalizeNotesDiscrete(reference);\r\n\t\tconst point = 1 / normContent.length;\r\n\r\n\t\treturn normContent\r\n\t\t\t.reduce((store, item, index) =>\r\n\t\t\t\t item === normReference[index] ? store + point : store, 0);\r\n\t};\r\n\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\nexport default {\r\n\tname: 'basic-reference-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/BasicReferenceFitness.js\n **/","import MusicContext from '../MusicContext';\r\nimport { numberUtils } from '../utils';\r\n\r\n/**\r\n * Replace holds with pauses\r\n * @type {Array<Number>}\r\n */\r\nexport const normalizeHolds =\r\n\tcontent => \r\n\t\tcontent\r\n\t\t.reduce((store, current) => \r\n\t\t\tstore.concat(current === -1 ? 0 : current), []);\r\n\r\n/**\r\n * Replace holds with previous notePitchs/pauses\r\n * @example 7, -1, -1, 0, -1 = 7, 7, 7, 0, 0\r\n */\r\nexport const normalizeNotesDiscrete =\r\n\tcontent => \r\n\t\tcontent\r\n\t\t.reduce((store, current) => {\r\n\t\t\tif (current >= 0) {\r\n\t\t\t\tstore.note = current;\r\n\t\t\t}\r\n\t\t\tstore.data.push(store.note);\r\n\t\t\treturn store;\r\n\t\t}, { data: [], note: 0 })\r\n\t\t.data;\r\n\r\n\r\n// TODO: probably could be dynamic, for now static\r\nconst MAX_ONE_OCTAVE_VALUE = MusicContext.getMaxOneOctaveValue();\r\nexport const normalizePitchToOctave =\r\n\tcontent => \r\n\t\tcontent\r\n\t\t.map(v => numberUtils.normalizeValue(v, MAX_ONE_OCTAVE_VALUE));\r\n\r\n\r\nexport const normalizer =\r\n\tnormalizers =>\r\n\t\tcontent =>\r\n\t\t\tnormalizers\r\n\t\t\t\t.reduce((data, normalizerFn) =>\r\n\t\t\t\t\tnormalizerFn(data), content);\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils/normalization.js\n **/","import { clusterMask } from '../../masks/clusterMask';\r\nimport { fitnessExecutor, barEqualityComparer } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'cluster-fitness',\r\n\trun: fitnessExecutor(clusterMask)(barEqualityComparer),\r\n\tgetInitialState: () => ({ weight: 0.5, _important: true })\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/ClusterFitness.js\n **/","import { PAUSE } from '../MusicContext';\r\nimport { maskFactory } from './helpers';\r\n\r\nconst DEFAULT_THRESHOLD = 0.5;\r\n\r\nexport const clusterMask = \r\n\tmaskFactory((bar, { threshold = DEFAULT_THRESHOLD } = {}) => \r\n\t\tbar.reduce((reducer, value) =>\r\n\t \t\treducer + value === PAUSE ? 0 : 1, 0) / bar.length);\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/masks/clusterMask.js\n **/","import Composition from '../utils/Composition';\r\n\r\nexport const maskFactory = \r\n\tbarAnalyzer => \r\n\t\t(data, options) => \r\n\t\t\tComposition\r\n\t\t\t\t.create(data)\r\n\t\t\t\t.rawBars()\r\n\t\t\t\t.map(bar => barAnalyzer(bar, options));\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/masks/helpers.js\n **/","export const fitnessExecutor = \r\n\textractor =>\r\n\t\tcomparer => \r\n\t\t\t(content, reference, options = {}) => \r\n\t\t\t\tcomparer(\r\n\t\t\t\t\textractor(content, options),\r\n\t\t\t\t\textractor(reference, options),\r\n\t\t\t\t\toptions\r\n\t\t\t\t);\r\n\r\nexport const barEqualityComparer = \r\n\t(content, reference) => {\r\n\t\tconst size = 1 / content.length;\r\n\t\treturn reference\r\n\t\t\t.reduce((reducer, value, index) => \r\n\t\t\t\tcontent[index] === value ? reducer + size : reducer, 0); \r\n\t};\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils/executors.js\n **/","import { directionAnalyzer } from '../../masks/directionMask';\r\nimport { fitnessExecutor, barEqualityComparer } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'direction-fitness',\r\n\trun: fitnessExecutor(directionAnalyzer)(barEqualityComparer),\r\n\tgetInitialState: () => ({ weight: 0 })\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/DirectionFitness.js\n **/","import { max } from 'lodash';\r\nimport { PAUSE, HOLD } from '../MusicContext';\r\nimport { maskFactory } from './helpers';\r\n\r\nexport const DIRECTION = {\r\n\tUP: 'UP',\r\n\tDOWN: 'DOWN',\r\n\tSTABLE: 'STABLE',\r\n\tNONE: 'NONE'\r\n};\r\n\r\nconst DEFAULT_SIZE = 3;\r\nconst MIN_SPREAD = 3;\r\n\r\nfunction getDirection(a, b) {\r\n\tif (a === b) {\r\n\t\treturn DIRECTION.STABLE;\r\n\t}\r\n\treturn a > b ? DIRECTION.DOWN : DIRECTION.UP;\r\n}\r\n\r\nfunction calculateFrequencies(bar, { size }) {\r\n\tconst storage = {\r\n\t\t[DIRECTION.UP]: 0,\r\n\t\t[DIRECTION.DOWN]: 0,\r\n\t\t[DIRECTION.STABLE]: 0,\r\n\t\t[DIRECTION.NONE]: 0\r\n\t};\r\n\t// Dummy implementation need rework\r\n\tlet chain = [];\r\n\tlet currentDirection = null;\r\n\tfor (let i = 0; i < bar.length; i++) {\r\n\t\tconst value = bar[i];\r\n\t\tif (value === PAUSE) {\r\n\t\t\tif (chain.length >= size) {\r\n\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\r\n\t\t\t}\r\n\t\t\tchain = [];\r\n\t\t\tcurrentDirection = null;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!chain.length) {\r\n\t\t\tchain.push(value);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tconst prev = chain[chain.length - 1];\r\n\t\tconst direction = getDirection(prev, value);\r\n\r\n\t\tif (!currentDirection) {\r\n\t\t\tcurrentDirection = direction;\r\n\t\t\tchain.push(value);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (currentDirection === direction) {\r\n\t\t\tchain.push(value);\r\n\t\t} else {\r\n\t\t\tif (chain.length > size) {\r\n\t\t\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\r\n\t\t\t}\t\r\n\t\t\tchain = [value];\r\n\t\t\tcurrentDirection = null;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t}\r\n\tif (chain.length >= size) {\r\n\t\tstorage[currentDirection || DIRECTION.NONE] += 1;\r\n\t}\r\n\treturn storage;\r\n}\r\n\r\n/**\r\n * @desc exported for tests\r\n */\r\nexport function directionForBar(bar, { size = DEFAULT_SIZE, spread = MIN_SPREAD } = {}) {\r\n\tconst cleanedBar =\r\n\t\tbar.reduce((reducer, current) => \r\n\t\t\tcurrent === HOLD ?\r\n\t\t\t\treducer :\r\n\t\t\t\t[...reducer, current], []);\r\n\r\n\tconst frequencies = calculateFrequencies(cleanedBar, { size, spread });\r\n\t\r\n\tconst descSortedFrequencies =\r\n \t\tObject\r\n\t\t\t.entries(frequencies)\r\n\t\t\t.sort((a, b) => a[1] < b[1]);\r\n\r\n\tconst [first, second] = descSortedFrequencies;\r\n\r\n\tif (first[1] - second[1] >= spread) {\r\n\t\treturn first[0];\r\n\t} else {\r\n\t\treturn DIRECTION.NONE;\r\n\t}\r\n}\r\n\r\n/**\r\n * @type {Array<number>}\r\n * @return {Array<DIRECTION>} \r\n */\r\nexport const directionAnalyzer = maskFactory(directionForBar);\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/masks/directionMask.js\n **/","import calculator from './IntervalFitness/calculate.js';\r\n\r\nconst run = calculator.fitness.bind(calculator);\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\n// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\r\n/*\r\nconst defaultOptions = {\r\n\tintervalValuesWeight: 0.5,\r\n\tintervalDispersionWeight: 0.5\r\n};\r\n */\r\n\r\nexport default {\r\n\tname: 'interval-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/IntervalFitness.js\n **/","import { getValueBetweenNotes, MAX_AVERAGE_DIFF, MAX_DISPERSION_DIFF } from './common.js';\r\nimport { notesUtils } from '../../../utils.js';\r\nimport { isNumber } from 'lodash';\r\n\r\nconst defaultOptions = {\r\n\tintervalValuesWeight: 0.5,\r\n\tintervalDispersionWeight: 0.5\r\n};\r\n\r\nclass IntervalFitness {\r\n\tconstructor() {\r\n\t\tthis._referenceValues /*: Array<{dispersion: number, average: number}> - array of bars and their interval values */ = null;\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis._referenceValues = null;\r\n\t}\r\n\r\n\t//TODO: options could be passed once\r\n\tfitness( content, reference, options = {} ) {\r\n\t\toptions = this._normalizeOptions(Object.assign({}, defaultOptions, options));\r\n\t\tconst contentPitch = notesUtils.toPitch(content);\r\n\t\tconst referencePitch = notesUtils.toPitch(reference);\r\n\r\n\t\tconst contentValues = this._calculateIntervalValues(contentPitch);\r\n\t\tif ( !this._referenceValues ) {\r\n\t\t\tthis._referenceValues = this._calculateIntervalValues(referencePitch);\r\n\t\t}\r\n\r\n\t\tconst result = this._calculateFitness(contentValues, options);\r\n\t\tconsole.assert(isNumber(result), 'Result should be a number');\r\n\t\treturn result;\r\n\t}\r\n\r\n\t_calculateFitness( contentValues, options ) {\r\n\t\tconst contentMaxIndex = contentValues.length;\r\n\t\tlet averageSum = 0;\r\n\t\tlet dispersionSum = 0;\r\n\r\n\t\tthis._referenceValues.some(({ average: aRef, dispersion: dRef }, i) => {\r\n\t\t\tif ( contentMaxIndex <= i ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tlet { average, dispersion } = contentValues[i];\r\n\r\n\t\t\taverageSum += Math.abs(aRef - average);\r\n\t\t\tdispersionSum += Math.abs(dRef - dispersion);\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\taverageSum = averageSum / this._referenceValues.length;\r\n\t\tdispersionSum = dispersionSum / this._referenceValues.length;\r\n\t\t\r\n\t\tconsole.assert(isNumber(averageSum), 'AverageSum is a number');\r\n\r\n\t\taverageSum = (1 - averageSum / MAX_AVERAGE_DIFF) * options.intervalValuesWeight;\r\n\t\tdispersionSum = (1 - dispersionSum / MAX_DISPERSION_DIFF) * options.intervalDispersionWeight;\r\n\r\n\t\tconsole.assert(isNumber(averageSum), 'AverageSum is a number');\r\n\t\treturn averageSum + dispersionSum;\r\n\t}\r\n\r\n\t_calculateIntervalValues( bars ) {\r\n\t\treturn bars.map(bar => this._calculateIntervalValuesForBar(bar));\r\n\t}\r\n\r\n\t_calculateIntervalValuesForBar( pitchesBar ) {\r\n\t\tlet valuesArray = [];\r\n\t\tconst count = pitchesBar.length;\r\n\t\tlet sum = 0;\r\n\r\n\t\tif ( !count ) {\r\n\t\t\treturn { average: 0, dispersion: 0 };\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < count - 1; i++ ) {\r\n\t\t\tconst a = pitchesBar[i];\r\n\t\t\tconst b = pitchesBar[i + 1];\r\n\r\n\t\t\tconst value = getValueBetweenNotes(a, b);\r\n\t\t\tsum += value;\r\n\t\t\tvaluesArray.push(value);\r\n\t\t}\r\n\r\n\t\tconst average = sum / count;\r\n\t\tconst dispersion = valuesArray\r\n\t\t\t\t\t\t\t\t.map(v => Math.pow((v - average), 2))\r\n\t\t\t\t\t\t\t\t.reduce((prev, val) => prev + val, 0);\r\n\r\n\t\treturn { average, dispersion };\r\n\t}\r\n\r\n\t_normalizeOptions( options ) {\r\n\t\tconst max = options.intervalValuesWeight + options.intervalDispersionWeight;\r\n\t\treturn Object.assign(options, {\r\n\t\t\tintervalValuesWeight: options.intervalValuesWeight / max, \r\n\t\t\tintervalDispersionWeight: options.intervalDispersionWeight / max \r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nexport default new IntervalFitness();\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/IntervalFitness/calculate.js\n **/","import MusicContext from '../../../MusicContext';\r\nimport { PAUSE, HOLD } from '../../../MusicContext';\r\n\r\nconst INTERVAL_TYPE_VALUES = [\r\n\t{\r\n\t\tPERFECT_CONSONANTS: 1,\r\n\t\tIMPERFECT_CONSONANTS: 2,\r\n\t\tSECONDS: 3,\r\n\t\tSEVENTH: 3,\r\n\t\tGRATER_THAN_OCTAVE: 5\r\n\t},\r\n\t{\r\n\t\tPERFECT_CONSONANTS: 1,\r\n\t\tIMPERFECT_CONSONANTS: 3,\r\n\t\tSECONDS: 1,\r\n\t\tSEVENTH: 3,\r\n\t\tGRATER_THAN_OCTAVE: 5\r\n\t}\r\n];\r\n\r\n//0, 1\r\nfunction getIntervalValue( interval, type = 0 ) {\r\n\tconst values = {\r\n\t\t//Perfect consonants\r\n\t\t0: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS,  //unison\r\n\t\t5: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS,  //perfect fourth\r\n\t\t7: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS,  //perfect fifth\r\n\t\t12: INTERVAL_TYPE_VALUES[type].PERFECT_CONSONANTS, //octave\r\n\r\n\t\t//Imperfect consonants\r\n\t\t3: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // min third\r\n\t\t4: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // maj third\r\n\t\t8: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // min sixth\r\n\t\t9: INTERVAL_TYPE_VALUES[type].IMPERFECT_CONSONANTS,  // big sixth\r\n\r\n\t\t//Seconds\r\n\t\t1: INTERVAL_TYPE_VALUES[type].SECONDS,  //min second\r\n\t\t2: INTERVAL_TYPE_VALUES[type].SECONDS,  //maj second\r\n\t\t\r\n\t\t//Sevenths\r\n\t\t10: INTERVAL_TYPE_VALUES[type].SEVENTH,  //min seventh\r\n\t\t11: INTERVAL_TYPE_VALUES[type].SEVENTH,  //maj seventh\r\n\r\n\t\t//More then octave\r\n\t\t6: INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE,\r\n\t\t'-1': INTERVAL_TYPE_VALUES[type].GRATER_THAN_OCTAVE\r\n\t};\r\n\r\n\tif ( interval > 12 ) {\r\n\t\treturn values[-1];\r\n\t}\r\n\r\n\treturn values[interval];\r\n}\r\n\r\nexport function getValueBetweenNotes( noteA, noteB, mode = 0 ) {\r\n\t// assume that noteA, noteB are not PAUSE or HOLD;\r\n\tconst halfTones = MusicContext.getHalfTonesBeetween(noteA, noteB);\r\n\tconst intervalValue = getIntervalValue(halfTones, mode);\r\n\treturn intervalValue;\r\n}\r\n\r\nexport const MAX_AVERAGE_DIFF = 4;\r\nexport const MAX_DISPERSION_DIFF = MAX_AVERAGE_DIFF * MAX_AVERAGE_DIFF;  \r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/IntervalFitness/common.js\n **/","import calculator from './MagnitudeFitness/calculate.js';\r\n\r\nconst run = calculator.fitness.bind(calculator);\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\nexport default {\r\n\tname: 'magnitude-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/MagnitudeFitness.js\n **/","const STEP = 1/8;\r\nconst WHOLE_LENGTH = 128; //in STEP\r\nconst BAR = WHOLE_LENGTH * STEP; // in STEPS\r\n\r\nconst BIT_VALUES = [4, 2, 3, 1];\r\nconst MAX_DISTANCE = 4;\r\n//each bar has 10 balls to normalize we need to /16 and it's 1 ball for bar and /8 (8 bars)\r\n\r\nconst PAUSE = -1;\r\nconst HOLD = 0;\r\n\r\nclass MagnitudeFitness {\r\n\tfitness( content, reference ) {\r\n\t\tlet sum = 0;\r\n\t\tfor ( let i = 0, l = content.length; i < l; i++ ) {\r\n\t\t\tconst index = i % 16; // from 0 - 15;\r\n\t\t\tconst bitValue = this._getBitValue(index);\r\n\t\t\tconst refValue = reference[i];\r\n\t\t\tconst contentValue = content[i];\r\n\r\n\r\n\t\t\tif ( \r\n\t\t\t\t(refValue === PAUSE || contentValue === PAUSE) ||\r\n\t\t\t\t(refValue === HOLD || contentValue === HOLD)\r\n\t\t\t) {\r\n\t\t\t\tif ( refValue === contentValue ) {\r\n\t\t\t\t\tsum += bitValue;\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tconst distance = Math.abs(content[i] - reference[i]);\r\n\r\n\t\t\tif ( distance > MAX_DISTANCE ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tsum += bitValue * (1 - distance / MAX_DISTANCE);\r\n\t\t}\r\n\r\n\t\treturn this._normalize(sum);\r\n\t}\r\n\r\n\t_getBitValue( index ) {\r\n\t\tfor ( let i = 0; i < 4; i++ ) {\r\n\t\t\tconst start = i * 4;\r\n\t\t\tif ( (index >= start) && (index < start + 4) ) {\r\n\t\t\t\treturn BIT_VALUES[i];\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new 'Something went wrong in MagnitudeFitness._gitBitValue';\r\n\t}\r\n\r\n\t_normalize(value) {\r\n\t\treturn value / 8 / 10 / 4;\r\n\t}\r\n}\r\n\r\nexport default new MagnitudeFitness();\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/MagnitudeFitness/calculate.js\n **/","import calculator from './MagnitudeFitness/calculate.js';\r\n\r\nconst run = calculator.fitness.bind(calculator);\r\nconst getInitialState = () => ({ weight: 0 });\r\n\r\n// TODO: Сделать отрисовку дополнительных опций для передачи их черех executorFabric\r\n/*\r\nconst defaultOptions = {\r\n\tpitch: 1,\r\n\trhythm: 1,\r\n\tmaxPitchDistance: 4\r\n};\r\n*/\r\nexport default {\r\n\tname: 'magnitude-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/MelodyFitness.js\n **/","import { noteSizeDistributionAnalyzer } from '../../services/noteSizeDistributionAnalyzer';\r\nimport { calculateError } from './NoteSizePartialFitness/calculateError';\r\n\r\nconst run = (content, reference, options) => {\r\n\tconsole.assert(content.length === reference.length);\r\n\r\n\tconst referenceAnalysis = noteSizeDistributionAnalyzer(reference);\r\n\tconst contentAnalysis = noteSizeDistributionAnalyzer(content);\r\n\treturn referenceAnalysis\r\n\t\t.reduce((reducer, bar, index) => {\r\n\t\t\tconst contentBar = contentAnalysis[index];\r\n\t\t\tconst error = calculateError(bar, contentBar);\r\n\t\t\treturn reducer + (1 - error);\r\n\t\t}, 0) / referenceAnalysis.length;\r\n};\r\n\r\nconst getInitialState = () => ({ \r\n\tweight: 1,\r\n\t_important: false\r\n});\r\n\r\nexport default {\r\n\tname: 'note-size-partial-fitness',\r\n\trun,\r\n\tgetInitialState\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness.js\n **/","import Composition from '../utils/Composition';\r\n\r\nfunction calculateDistributionForBar(bar) {\r\n\tconst step = 1 / bar.length;\r\n\tconst result = bar.reduce((reducer, note) => {\r\n\t\tconst size = note.length();\r\n\t\treducer[size] = (reducer[size] || 0) + step; \r\n\t\treturn reducer;\r\n\t}, {});\r\n\r\n\treturn result;\r\n}\r\n\r\nexport const noteSizeDistributionAnalyzer = \r\n\t(data, ignorePauses = false) => \r\n\t\tComposition\r\n\t\t\t.create(data)\r\n\t\t\t.bars()\r\n\t\t\t.map(bar =>\r\n\t\t\t\tcalculateDistributionForBar(bar, ignorePauses));\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/services/noteSizeDistributionAnalyzer.js\n **/","import { calculateDiffObject } from './calculateDiffObject';\r\n\r\nexport const calculateError =\r\n\t(objA, objB) =>\r\n\t\tObject\r\n\t\t\t.values(calculateDiffObject(objA, objB))\r\n\t\t\t.reduce((prev, current) => prev + current, 0);\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateError.js\n **/","export const calculateDiffObject = (barA, barB) =>\r\n\tObject\r\n\t\t.keys(barB)\r\n\t\t.map(key => ({ key, value: barB[key] }))\t\r\n\t\t.reduce(( diff, { key, value }) => {\r\n\t\t\tif ( diff[key] != null ) {\r\n\t\t\t\tconst difference = diff[key] - value;\r\n\t\t\t\tdiff[key] = difference > 0 ? difference : 0;\r\n\t\t\t}\r\n\t\t\treturn diff;\r\n\t\t}, { ...barA });\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/NoteSizePartialFitness/calculateDiffObject.js\n **/","import { rodNoteAnalyzer } from '../../masks/rodNoteMask';\r\nimport { fitnessExecutor } from '../../utils/executors';\r\n\r\nexport default {\r\n\tname: 'rod-note-fitness',\r\n\trun: fitnessExecutor(rodNoteAnalyzer)((referenceByBar, contentByBar) => {\r\n\t\tconst step = 1 / referenceByBar.length;\r\n\t\treturn referenceByBar\r\n\t\t\t.reduce((reducer, value, index) => {\r\n\t\t\t\tconst subStep = step / value.length;\r\n\t\t\t\treturn value\r\n\t\t\t\t\t.reduce((subReducer, subValue, subIndex) =>\r\n\t\t\t\t\t\tsubValue === contentByBar[index][subIndex] ?\r\n\t\t\t\t\t\t\tsubReducer + subStep : subReducer, 0) + reducer;\r\n\t\t\t}, 0);\r\n\t}),\r\n\tgetInitialState: () => ({ weight: 0.5, _important: false })\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/fitness/providers/RodNoteFitness.js\n **/","import { HOLD } from '../MusicContext';\r\nimport { maskFactory } from './helpers';\r\n\r\nexport const ROD_TYPE = {\r\n\tFIRST: 'FIRST',\r\n\tTWO: 'TWO',\r\n\tFOUR: 'FOUR',\r\n\tFIRST_AND_LAST: 'FIRST_AND_LAST'\r\n};\r\n\r\nconst ROD_MASK = {\r\n\t[ROD_TYPE.FIRST]: [0],  \t\t  // [1, 0, 0, 0, 0, 0, 0, 0]\r\n\t[ROD_TYPE.TWO]: [0, 4], \t\t  // [1, 0, 0, 0, 1, 0, 0, 0]\r\n\t[ROD_TYPE.FOUR]: [0, 2, 4, 6],    // [1, 0, 1, 0, 1, 0, 1, 0]\r\n\t[ROD_TYPE.FIRST_AND_LAST]: [0, 6] // [1, 0, 0, 0, 0, 0, 1, 0]\r\n};\r\n\r\n/**\r\n * @description exported for tests\r\n */\r\nexport const rodNoteForBar = \r\n\t(bar, { rodeType = ROD_TYPE.FIRST } = {}) =>\r\n\t\tROD_MASK[rodeType]\r\n\t\t\t.reduce((reducer, index) =>\r\n\t\t\t\t[...reducer, bar[index] === HOLD ? null : bar[index]], []);\r\n/**\r\n * @description holds in rod notes became nulls\r\n * @type {Array<number>}\r\n */\r\nexport const rodNoteAnalyzer = maskFactory(maskFactory);\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/masks/rodNoteMask.js\n **/","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\nimport { SliderControl, CheckboxControl } from '../../components/UIFactory.jsx';\r\nimport {changeOptions} from '../../actions/index';\r\nimport rootState from '../../../../store/initialState';\r\n\r\nconst NAMESPACE = 'options';\r\n\r\nrootState.GA[NAMESPACE] = {\r\n\tmaxIterations: 2500,\r\n    deathLimit: 0.4,\r\n    count: 25,\r\n    threshold: 0.9, /* End processing when someone near good (best 1) */\r\n    mutationProbability: 0.3,\r\n    useRandomInitialIndividuals: false,\r\n    countOfBestToLiveThrought: 2,\r\n    stopOnEndOfIterations: true\r\n};\r\n\r\nconst createSliderFactory =\r\n\t(state, onblur) => \r\n\t\t(field, props) => (\r\n\t\t\t<SliderControl \r\n\t\t\t\tdefaultValue={state[field]}\r\n\t\t\t\tonBlur={onblur}\r\n\t\t\t\tfield={field}\r\n\t\t\t\t{...props}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\r\n\r\nexport const render = (props) => {\r\n\tconst { store } = props;\r\n\tconst state = store.getState().GA[NAMESPACE];\r\n\tconst onblur = (field, value) => {\r\n\t\tstore.dispatch(\r\n\t\t\tchangeOptions([NAMESPACE, field], value)\r\n\t\t);\r\n\t};\r\n\tconst createSlider = createSliderFactory(state, onblur);\r\n\t\r\n\treturn (\r\n\t\t<Panel collapsible defaultExpanded header=\"Options\">\r\n\t\t\t{createSlider('maxIterations', {max: 500000, min: 100, step: 1})}\r\n\t\t\t{createSlider('deathLimit')}\r\n\t\t\t{createSlider('count', {max: 500, min: 25, step: 1})}\r\n\t\t\t{createSlider('threshold')}\r\n\t\t\t{createSlider('mutationProbability')}\r\n\t\t\t{createSlider('countOfBestToLiveThrought', {max: 10, min: 0, step: 1})}\r\n\t\t \t<CheckboxControl\r\n\t            onBlur={onblur}\r\n\t            defaultValue={state['useRandomInitialIndividuals']}\r\n\t            field={'useRandomInitialIndividuals'} />\r\n            <CheckboxControl\r\n\t            onBlur={onblur}\r\n\t            defaultValue={state['stopOnEndOfIterations']}\r\n\t            field={'stopOnEndOfIterations'} />\r\n        </Panel>\r\n\t);\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/ga/options.jsx\n **/","import Individual from '../Individual.js';\r\nimport MusicContext from '../MusicContext.js';\r\nimport GAWorker from 'worker!./GAWorker.js';\r\n\r\n\r\n\r\n\r\n/**\r\n * @class Creates GA worker instance and passes options to it.\r\n * Creates everytime user pushes to \"run\" button\r\n */\r\nexport default class GARunner {\r\n\tconstructor(options, onDone, onProgress, onPause) {\r\n        const reference = MusicContext.getCurrentComposition();\r\n        this._worker = new GAWorker();\r\n        this._worker.onmessage = this._createOnMessage(onDone, onProgress, onPause);\r\n        this._worker.postMessage({ data: { options, reference }, action: 'start' });\r\n        this._worker.onerror = (err) => {\r\n            console.warn(err);\r\n        };\r\n    }\r\n\r\n    pause() {\r\n        this._worker.postMessage({ action: 'pause' });\r\n    }\r\n\r\n    resume() {\r\n        this._worker.postMessage({ action: 'resume' });\r\n    }\r\n\r\n    stop() {\r\n        this._worker.postMessage({ action: 'stop' });\r\n    }\r\n\r\n    destroy() {\r\n        this._worker.terminate();\r\n    }\r\n\r\n    _createOnMessage(onDone, onProgress, onPause) {\r\n        return ({ data: { data, action } }) => {\r\n            console.log(`onmessage from worker ${action}`);\r\n            // TODO: Symbol('done');\r\n            if ( action === 'done') {\r\n                const population = data.map(obj => Individual.fromDTO(obj));\r\n                onProgress({ percentage: 100, best: population[1] });\r\n                onDone(population);\r\n                return;\r\n            }\r\n\r\n            // TODO: Symbol('process');\r\n            if ( onProgress && action === 'progress') {\r\n                onProgress({\r\n                    percentage: data.percentage,\r\n                    best: Individual.fromDTO(data.best)\r\n                });\r\n            }\r\n\r\n            // TODO: Symbol('pause');\r\n            if ( onPause && action === 'pause' ) {\r\n                const population = data.map(obj => Individual.fromDTO(obj));\r\n                onPause(population);\r\n            }\r\n        };\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/ga/GARunner.js\n **/","import { arrayUtils, objUtils, numberUtils } from './utils';\r\nimport { availableValues } from './common';\r\nimport MutationProvider from './mutations/MutationProvider.js';\r\nimport FitnessProvider from './fitness/FitnessProvider.js';\r\n\r\nexport default class Individual {\r\n\t// TODO: extract logic of creation to factory\r\n\t// createFromReference\r\n\t// createRandom\r\n\t// createDTO\r\n\t// factory = new IndividualFactory(context);\r\n\tconstructor(referenceIndividual, contentToStart, fitnessValue, useRandomToStart = true, context) {\r\n\t\t// -----------------------------\r\n\t\t// -1) Save context IContext { crossover }\r\n\t\t// -----------------------------\r\n\t\tif (!context) {\r\n\t\t\tconsole.log('Called without context, probably only for presentation purpose');\r\n\t\t}\r\n\t\tthis._context = context;\r\n\r\n\r\n\t\t// -----------------------------\r\n\t\t// 0) Reference individual\r\n\t\t// -----------------------------\r\n\t\tthis._reference = referenceIndividual.slice();\r\n\r\n\t\t// -----------------------------\r\n\t\t// 1) Content to start\r\n\t\t// -----------------------------\r\n\t\tif ( contentToStart ) {\r\n\t\t\tthis._content = contentToStart;\r\n\t\t} else {\r\n\t\t\tthis._content = useRandomToStart ? \r\n\t\t\t\tthis._reference.map(() => arrayUtils.randomElement(availableValues)) :\r\n\t\t\t\treferenceIndividual.slice();\r\n\t\t}\r\n\r\n\t\t// -----------------------------\r\n\t\t// 2) Content to start\r\n\t\t// -----------------------------\r\n\t\tthis._fitnessValue = fitnessValue == null ? this.fitness() : fitnessValue;\r\n\t}\r\n\r\n\t// Mutate and recalculate inner fitnessValue\r\n\tmutate(options) {\r\n\t\tthis._content = this._context.mutation(this._content);\r\n\t\tthis._fitnessValue = this.fitness();\r\n\t}\r\n\r\n\tcrossover( someone ) {\r\n\t\tconst newContent = this._context.crossover(this.content, someone.content);\r\n\t\treturn new Individual(this._reference, newContent, null, false, this._context);\r\n\t}\r\n\r\n\tfitness() {\r\n\t\treturn this._context.fitness(this.content, this._reference);\r\n\t}\r\n\r\n\t// Always return by value!\r\n\tget content() {\r\n\t\treturn this._content.slice();\r\n\t}\r\n\r\n\tget fitnessValue() {\r\n\t\treturn this._fitnessValue;\r\n\t}\r\n\r\n\ttoDTO() {\r\n\t\treturn {\r\n\t\t\t_fitnessValue: this._fitnessValue,\r\n\t\t\t_reference: this._reference.slice(),\r\n\t\t\t_content: this._content.slice()\r\n\t\t}\r\n\t}\r\n\r\n\t// TODO: find out better way of getting private fields, maybe create toDTO (in worker) and fromDTO (in UI tread)\r\n\tstatic fromDTO({_reference, _content, _fitnessValue}) {\r\n\t\treturn new Individual(_reference, _content, _fitnessValue, false);\r\n\t}\r\n\r\n\t//TODO: redo with decorator\r\n\tstatic create(a, b, c, d, e) {\r\n\t\treturn new Individual(a, b, c, d, e);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/Individual.js\n **/","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"36e22ca63b4638dd113e.worker.js\");\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/worker-loader!./app/plugins/GA/lib/ga/GAWorker.js\n ** module id = 628\n ** module chunks = 0\n **/","import React from 'react';\r\nimport ABCJS from 'ABCJS';\r\nimport convertToABC from '../lib/utils/convertToABC';\r\n\r\nexport default class Sheet extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\t\tthis._element = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t    this._element = this.refs.abcjs;\r\n\t\tif ( this.props.data ) {\r\n\t\t\tthis._initializeWidget(this.props.data);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif ( !nextProps.data ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._initializeWidget(nextProps.data);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div ref=\"abcjs\"></div>;\r\n\t}\r\n\r\n\t_initializeWidget(data) {\r\n\t\tABCJS.renderAbc(this._element, convertToABC(data), null, {\r\n\t\t\tscale: 1\r\n\t\t});\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/components/Sheet.jsx\n **/","/*\r\n!assumptations \r\n1/8 as a default length\r\nc maj as a default key\r\n*/\r\nconst n = '\\n';\r\n\r\nconst defaultHeader = `\r\nX:1\r\nT:Abc\r\nM:4/4\r\nC:GA\r\nK:C\r\nL:1/8\r\n`;\r\n\r\nconst referenceTable = {\r\n\t0: 'z',\r\n\t1: 'C',\r\n\t2: 'D',\r\n\t3: 'E',\r\n\t4: 'F',\r\n\t5: 'G',\r\n\t6: 'A',\r\n\t7: 'B',\r\n\t8: 'c',\r\n\t9: 'd',\r\n\t10: 'e',\r\n\t11: 'f',\r\n\t12: 'g',\r\n\t13: 'a',\r\n\t14: 'b'\r\n}; \r\n\r\nfunction createNote( noteIndex, size ) {\r\n\tif ( noteIndex == null ) {\r\n\t\treturn '';\r\n\t}\r\n\treturn referenceTable[noteIndex] + size;\r\n}\r\n\r\nexport default function convertToABC( source ) {\r\n\tlet answer = defaultHeader;\r\n\t\r\n\tlet previousNote = null;\r\n\tlet size = 1;\r\n\t\r\n\tfor ( let i = 0, l = source.length; i < l; i++ ) {\r\n\t\tlet item = source[i];\r\n\t\t\r\n\t\tif ( item === -1 ) {\r\n\t\t\tsize++;\r\n\t\t} else {\r\n\t\t\tanswer += createNote(previousNote, size);\r\n\t\t\tpreviousNote = item;\r\n\t\t\tsize = 1;\r\n\t\t}\r\n\t\t\r\n\t\t//last note\r\n\t\tif ( i === source.length - 1 ) {\r\n\t\t\tanswer += createNote(previousNote, size);\r\n\t\t}\r\n\t\t\r\n\t\tif ( i && i % 8 === 0 ) {\r\n\t\t\tanswer += '|';\r\n\t\t}\r\n\r\n\t\tif ( i && i % 32 === 0 ) {\r\n\t\t\tanswer += '\\n';\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn answer;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/lib/utils/convertToABC.js\n **/","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\n\r\n//TODO:\r\n// Переделать так, чтобы можно было отловить вход новых population\r\n// сейчас componentWillReceiveProps вызывается при каждом клике на таблицу при выделении\r\n// так как под собой это несет this.props.onSelect который меняет state парента и поэтому происходит процесс перерасчета\r\nexport default class IndividualsTable extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\t\tthis.state = {\r\n\t\t\tselectedIndex: -1\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t<th>Fitness</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{this.props.population.map(this.renderItem.bind(this))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</Table>\r\n\t\t);\r\n\t}\r\n\r\n\trenderItem( item, index ) {\r\n\t\tconst classes = ( this.state.selectedIndex === index ) ? 'highlight' : '';\r\n\t\tconst fitness = item.fitnessValue.toFixed(3);\r\n\t\treturn (\r\n\t\t\t<tr className={classes} key={index} onClick={this.onSelect.bind(this, item, index)}>\r\n\t\t\t\t<td>{index}</td>\r\n\t\t\t\t<td>{'name' + index}</td>\r\n\t\t\t\t<td>{fitness}</td>\r\n\t\t\t</tr>\r\n\t\t);\r\n\t}\r\n\r\n\tonSelect(item, index) {\r\n\t\tthis.setState({\r\n\t\t\tselectedIndex: index\r\n\t\t});\r\n\t\tthis.props.onSelect(item);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/components/IndividualsTable.jsx\n **/","// 3d Party\r\nimport React from 'react';\r\nimport { Link } from 'react-router';\r\nimport { Input, Button, ButtonGroup, Grid, Col, Row, Table, Glyphicon } from 'react-bootstrap';\r\n\r\n// Plugin\r\nimport MusicContext from '../lib/MusicContext.js';\r\n\r\nconst DEFAULT = 'default';\r\n\r\nexport default class Compositions extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\t\tthis.state = {\r\n\t\t\tcompositions: MusicContext.getAllCompositions(),\r\n\t\t\tnameRaw: '',\r\n\t\t\tname: '',\r\n\t\t\tcurrentKey: MusicContext.getCurrentKey()\r\n\t\t};\r\n\t}\r\n\tonNameChange(e) {\r\n\t\tconst nameRaw = e.target.value;\r\n\t\tthis.setState({ nameRaw });\r\n\t\tthis.setState({ name: '' });\r\n\r\n\t\tif ( MusicContext.isValidName(nameRaw) ) {\r\n\t\t\tthis.setState({ name: nameRaw });\r\n\t\t}\r\n\t}\r\n\tremove(item) {\r\n\t\tMusicContext.remove(item);\r\n\t\tthis.setState({\r\n\t\t\tcompositions: MusicContext.getAllCompositions()\r\n\t\t});\r\n\t}\r\n\tselect = (item) => {\r\n\t\tMusicContext.selectComposition(item);\r\n\t\tthis.setState({\r\n\t\t\tcurrentKey: item\r\n\t\t});\r\n\t};\r\n\trenderCompositionItem(item) {\r\n\t\treturn (\r\n\t\t\t<tr key={item} className={item === this.state.currentKey ? 'selected' : ''}>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<Link to={`/compositions/${item}`}>\r\n\t\t\t\t\t\t{item}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem !== DEFAULT ? \r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t\t\t\t<Button bsStyle=\"info\" onClick={() => this.select(item)}>\r\n\t\t\t\t\t\t\t\t\t<Glyphicon glyph=\"ok-sign\" />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button bsStyle=\"danger\" onClick={this.remove.bind(this, item)}>\r\n\t\t\t\t\t\t\t\t\t<Glyphicon glyph=\"remove\" />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t) : \r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<Button bsStyle=\"info\" onClick={() => this.select(item)}>\r\n\t\t\t\t\t\t\t\t<Glyphicon glyph=\"ok-sign\" />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Grid fluid>\r\n\t\t\t\t<h2>Compositions</h2>\r\n\t\t\t\t<Table striped bordered condensed hover>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{this.state.compositions.map(this.renderCompositionItem.bind(this))}\t\t\t\t\t\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<h2>New</h2>\r\n\t\t\t\t<Input type=\"text\" label=\"Name\" onChange={this.onNameChange.bind(this)} value={this.state.nameRaw} />\r\n\t\t \t\t<Link to={`/compositions/${this.state.name}`} >\r\n\t\t\t\t \t<Button bsStyle=\"info\" disabled={!this.state.name}>\r\n\t\t\t \t\t\tNew\r\n\t\t\t \t\t</Button>\r\n\t\t \t\t</Link>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/components/Compositions.jsx\n **/","// 3d Party\r\nimport React, {ReactDOM} from 'react';\r\nimport { Input, Button, Grid, Col, Row, ListGroup, ListGroupItem, ButtonGroup } from 'react-bootstrap';\r\n\r\n// Framework\r\nimport Player from '../../../players/soundfont-player/Player.js';\r\n\r\n// Plugin\r\nimport MusicContext, { availableValuesInGF } from '../lib/MusicContext.js';\r\n\r\n// Local\r\nimport Sheet from './Sheet.jsx';\r\n\r\nconst DEFAULT = 'default';\r\n\r\nexport default class Composition extends React.Component {\r\n\tconstructor(params) {\r\n\t\tsuper(params);\r\n\r\n\t\tconst composition = MusicContext.getByKey(this.props.params.composition) || null;\r\n\r\n\t\tthis.state = {\r\n\t\t\tcompositionRaw: composition ? this.compositionToString(composition) : '',\r\n\t\t\tcomposition,\r\n\t\t\tinvalidName: true,\r\n\t\t\tinvalidComposition: false,\r\n\t\t\tisDefault: (this.props.params.composition === DEFAULT)\r\n\t\t};\r\n\t}\r\n\r\n\t_convert( raw ) {\r\n\t\tlet rawArray = raw.split(' ');\r\n\r\n\t\trawArray = rawArray.map(item => Number(item));\r\n\r\n\t\tif ( \r\n\t\t\trawArray.some(item => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tisNaN(item) ||\r\n\t\t\t \t\t(availableValuesInGF.indexOf(item) === -1)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn rawArray;\r\n\t}\r\n\r\n\tcompositionToString(array) {\r\n\t\treturn array && array.join(' ') || '';\r\n\t}\r\n\r\n\tsave() {\r\n\t\tconst composition = this.state.composition;\r\n\t\tconst name = this.props.params.composition;\r\n\t\tMusicContext.save(name, composition);\r\n\t\twindow.location = '/#/compositions';\r\n\t}\r\n\r\n\tonChange(e) {\r\n\t\tconst composition = e.target.value;\r\n\t\tconst converted = this._convert(e.target.value);\r\n\r\n\t\tthis.setState({\r\n\t\t\tcompositionRaw: composition\r\n\t\t});\r\n\r\n\t\tif ( converted ) {\r\n\t\t\tPlayer.set(converted);\r\n\t\t\tthis.setState({\r\n\t\t\t\tcomposition: converted,\r\n\t\t\t\tinvalidComposition: false\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tinvalidComposition: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst compositionKey = this.props.params.composition;\r\n\r\n\t\treturn (\r\n\t\t\t<Grid fluid>\r\n\t\t\t\t<h3>{compositionKey}</h3>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm={4} md={4}>\r\n\t\t\t\t\t \t<Input type=\"textarea\" style={{ height: 230 }} label=\"Notes\" onChange={this.onChange.bind(this)} value={this.state.compositionRaw} />\r\n\t\t\t\t \t\t<Button disabled={this.state.isDefault || this.state.invalidComposition} bsStyle=\"success\" onClick={this.save.bind(this)}>Save</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm={4} md={4}>\r\n\t\t\t\t\t\t<Sheet data={this.state.composition} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\t\t\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/components/Composition.jsx\n **/","import React, { Component } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Router } from 'react-router';\r\nimport routes from '../routes';\r\n\r\nexport default class Root extends Component {\r\n    render() {\r\n        const { store } = this.props.store;\r\n        return (\r\n            <Provider store={this.props.store}>\r\n                <Router routes={routes} />\r\n            </Provider>\r\n        );\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/containers/root.jsx\n **/","import { createStore } from 'redux';\r\nimport rootReducer from '../reducers';\r\n\r\nexport default function configureStore(initialState) {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\tinitialState\r\n\t);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/store/configureStore.js\n **/","import { combineReducers } from 'redux';\r\n\r\nimport GA from '../plugins/GA/reducers';\r\n// right here list of all reducers\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n\tGA\r\n});\r\n\r\nexport default rootReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers/index.js\n **/","import {combineReducers} from 'redux';\r\nimport {OPTIONS_CHANGE_ACTION} from '../actions/index';\r\nimport initialState from '../../../store/initialState';\r\nimport {createDeepProperty, createPluginsReducer} from '../utils';\r\n\r\nconst crossover = createPluginsReducer('crossover', initialState.GA);\r\nconst mutation = createPluginsReducer('mutation', initialState.GA);\r\nconst options = createPluginsReducer('options', initialState.GA);\r\nconst fitness = createPluginsReducer('fitness', initialState.GA);\r\n\r\nexport default combineReducers({\r\n\tcrossover,\r\n\tmutation,\r\n\tfitness,\r\n\toptions\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/reducers/index.js\n **/","import {merge} from 'lodash';\r\nimport {OPTIONS_CHANGE_ACTION} from './actions/index';\r\n\r\nexport function createDeepProperty({ optionsPath, value }) {\r\n\tconst obj = {};\r\n\tconst stopIndex = optionsPath.length - 1;\r\n\treturn optionsPath.reduce((prev, current, currentIndex) => {\r\n\t\tif (currentIndex === stopIndex) {\r\n\t\t\tprev[current] = value;\r\n\t\t\treturn obj;\r\n\t\t}\r\n\t\treturn prev[current] = {};\r\n\t}, obj);\r\n}\r\n\r\nexport function createPluginsReducer(namespace, fullState) {\r\n\tconst initialState = fullState[namespace];\r\n\treturn (state = initialState, action) => {\r\n\t\tswitch (action.type) {\r\n\t\t\tcase OPTIONS_CHANGE_ACTION: {\r\n\t\t\t\tif (action.optionsPath[0] !== namespace) {\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t} \r\n\t\t\t\t// NOTE: remove namespace from path;\r\n\t\t\t\tconst [, ...optionsPath] = action.optionsPath;\r\n\t\t\t\tconst newFragment = createDeepProperty({ optionsPath, value: action.value });\r\n\r\n\t\t\t\treturn merge({...state}, newFragment);\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\treturn state;\r\n\t\t}\r\n\t};\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/plugins/GA/utils.js\n **/"],"sourceRoot":""}